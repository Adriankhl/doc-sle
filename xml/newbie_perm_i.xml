<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1
[
  <!ENTITY % entities SYSTEM "entity-decl.ent">
    %entities;
]>
<!-- Converted by suse-upgrade version 1.1 -->
<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:base="newbie_perm_i.xml" xml:id="sec.new.bash.accperm">
 <title>Dateizugriffsberechtigungen</title>

 <para>
  In Linux gehören Objekte wie Dateien, Ordner oder Prozesse generell dem
  Benutzer, der sie erstellt oder initiiert hat. Für diese Regel gelten jedoch
  einige Ausnahmen. Weitere Informationen zu den Ausnahmen finden Sie unter
  <link
  xlink:href="https://doc.opensuse.org/documentation/leap/security/html/book-security/cha-security-acls.html">Access
  Control Lists in Linux</link>. Die Gruppe, die mit einer Datei oder einem
  Ordner verbunden ist, hängt von der primären Gruppe ab, der ein Benutzer beim
  Erstellen des Objekts angehört.
 </para>

 <para>
  Wenn Sie eine neue Datei oder ein neues Verzeichnis anlegen, werden die
  anfänglichen Zugriffsrechte für dieses Objekt nach einem vordefinierten
  Schema festgelegt. Als Eigentümer einer Datei bzw. eines Verzeichnisses
  können Sie die Zugriffsberechtigungen für dieses Objekt ändern. Sie
  können beispielsweise andere Benutzer daran hindern, auf Dateien mit
  vertraulichen Daten zuzugreifen. Andererseits können Sie den Mitgliedern
  Ihrer Gruppe oder anderen Benutzern im Bedarfsfall Schreib-, Lese- und
  Ausführrechte für bestimmte Dateien in Ihrem Besitz erteilen. Als
  &rootuser; können Sie auch den Eigentümer von Dateien oder Ordnern
  ändern.
 </para>

 <sect2 xml:id="sec.new.bash.accperm.ugo">
  <title>Berechtigungen für Benutzer, Gruppe und andere</title>
  <para>
   Für jedes Dateiobjekt sind unter Linux drei Berechtigungsgruppen definiert.
   Diese Gruppen enthalten die Berechtigungen zum Lesen, Schreiben und
   Ausführen für den Eigentümer der Datei, die Gruppe und andere Benutzer.
  </para>
  <para>
   Das folgende Beispiel zeigt ein Beispiel der Ausgabe für das Kommando
   <command>ls</command> <option>-l</option> in einer Shell. Dieses Kommando
   listet den Inhalt eines Verzeichnisses auf und zeigt die Details für jede
   Datei und jeden Ordner in diesem Verzeichnis.
  </para>
  <example xml:id="ex.new.users.accperm.ugo">
   <title>Zugriffsrechte für Dateien und Ordner</title>
<screen><?dbsuse-fo font-size="0.80em"?>-rw-r----- 1 &exampleuser_plain; &examplegroup_plain;      0 2016-06-23 16:08 checklist.txt
-rw-r--r-- 1 &exampleuser_plain; &examplegroup_plain;  53279 2016-06-21 13:16 gnome_quick.xml
-rw-rw---- 1 &exampleuser_plain; &examplegroup_plain;      0 2016-06-23 16:08 index.htm
-rw-r--r-- 1 &exampleuser_plain; &examplegroup_plain;  70733 2016-06-21 09:35 kde-start.xml
-rw-r--r-- 1 &exampleuser_plain; &examplegroup_plain;  47896 2016-06-21 09:46 kde_quick.xml
drwxr-xr-x 2 &exampleuser_plain; &examplegroup_plain;     48 2016-06-23 16:09 local
-rwxr--r-- 1 &exampleuser_plain; &examplegroup_plain; 624398 2016-06-23 15:43 tux.sh</screen>
  </example>
  <para>
   Wie aus der dritten Spalte hervorgeht, gehören alle Objekte dem Benutzer
   &exampleuser;. Sie sind der Gruppe &examplegroup; zugewiesen, die die
   primäre Gruppe ist, welcher der Benutzer &exampleuser; angehört. Zum
   Ermitteln der Zugriffsberechtigungen muss die erste Spalte der Liste näher
   geprüft werden. Sehen wir uns die Datei <filename>kde-start.xml </filename>
   an:
  </para>
  <informaltable>
   <tgroup cols="4">
    <tbody>
     <row>
      <entry>
       <para>
        Typ
       </para>
      </entry>
      <entry>
       <para>
        Benutzer
<?dblinebreak?>
        berechtigungen
       </para>
      </entry>
      <entry>
       <para>
        Gruppen
<?dblinebreak?>
        berechtigungen
       </para>
      </entry>
      <entry>
       <para>
        Berechtigungen
<?dblinebreak?>
        für andere
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        <literal>-</literal>
       </para>
      </entry>
      <entry>
       <para>
        <literal>rw-</literal>
       </para>
      </entry>
      <entry>
       <para>
        <literal>r--</literal>
       </para>
      </entry>
      <entry>
       <para>
        <literal>r--</literal>
       </para>
      </entry>
     </row>
    </tbody>
   </tgroup>
  </informaltable>
  <para>
   Die erste Spalte der Liste besteht aus einem vorangestellten Zeichen, auf
   das neun in Dreierblöcke gegliederte Zeichen folgen. Das vorangestellte
   Zeichen gibt Aufschluss über den Dateityp des Objekts: In diesem gibt der
   Bindestrich (<literal>&ndash;</literal>) an, dass es sich bei
   <filename>kde-start.xml</filename> um eine Datei handelt. Wenn Sie
   stattdessen das Zeichen <literal>d</literal> finden, besagt dies, dass das
   Objekt ein Verzeichnis ist (wie <filename>local</filename> im obigen
   Beispiel <xref linkend="ex.new.users.accperm.ugo"/>.
  </para>
  <para>
   Die nächsten drei Blöcke zeigen die Zugriffsberechtigungen für den
   Eigentümer, die Gruppe und andere Benutzer (von links nach rechts). Jeder
   Block folgt demselben Muster: Die erste Position zeigt die Leseberechtigung
   (<literal>r</literal>), die nächste Position zeigt die Schreibberechtigung
   (<literal>w</literal>) und die letzte Position zeigt die
   Ausführungsberechtigung (<literal>x</literal>). Eine fehlende Berechtigung
   wird durch <literal>-</literal> gekennzeichnet. Im obigen Beispiel verfügt
   der Eigentümer der Datei <filename>kde-start.xml </filename> über Lese-
   und Schreibzugriff auf die Datei, kann die Datei aber nicht ausführen. Die
   Gruppe <systemitem>users</systemitem> kann die Datei lesen, aber nicht
   schreiben oder ausführen. Dasselbe gilt für die anderen Benutzer, wie im
   dritten Zeichenblock gezeigt.
  </para>
 </sect2>

 <sect2 xml:id="sec.new.bash.accperm.impact">
  <title>Dateien und Ordner</title>
  <para>
   Die geringfügig unterschiedliche Wirkung von Zugriffsberechtigungen hängt
   vom betreffenden Objekttyp ab: Datei oder Verzeichnis. Die folgende Tabelle
   zeigt Einzelheiten:
  </para>
  <table xml:id="tab.new.users.accperm.impact">
   <title>Zugriffsberechtigungen für Dateien und Verzeichnisse</title>
   <tgroup cols="3">
    <thead>
     <row>
      <entry>
       <para>
        Zugriffsberechtigung
       </para>
      </entry>
      <entry>
       <para>
        Datei
       </para>
      </entry>
      <entry>
       <para>
        Ordner
       </para>
      </entry>
     </row>
    </thead>
    <tbody>
     <row>
      <entry>
       <para>
        Lesen (r)
       </para>
      </entry>
      <entry>
       <para>
        Benutzer können die Datei öffnen und lesen.
       </para>
      </entry>
      <entry>
       <para>
        Benutzer können den Inhalt des Verzeichnisses anzeigen. Ohne diese
        Berechtigung können Benutzer beispielsweise den Inhalt dieses
        Verzeichnisses mit <command>ls</command> <option>-l</option> nicht
        auflisten. Wenn sie jedoch über Ausführungsberechtigung für das
        Verzeichnis verfügen, können sie dennoch auf bestimmte Dateien in
        diesem Verzeichnis zugreifen, sofern sie von deren Existenz wissen.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        Schreiben (w)
       </para>
      </entry>
      <entry>
       <para>
        Die Benutzer können die Datei ändern: Sie können Daten hinzufügen
        oder verwerfen und sogar den Inhalt der Datei löschen. Jedoch umfasst
        dies nicht die Berechtigung, die Datei vollständig aus dem Verzeichnis
        zu entfernen, sofern sie nicht über Schreibberechtigung für das
        Verzeichnis verfügen, in dem sich die Datei befindet.
       </para>
      </entry>
      <entry>
       <para>
        Benutzer können Dateien im Verzeichnis erstellen, umbenennen oder
        löschen.
       </para>
      </entry>
     </row>
     <row>
      <entry>
       <para>
        Ausführen (x)
       </para>
      </entry>
      <entry>
       <para>
        Benutzer können die Datei ausführen. Diese Berechtigung ist nur
        relevant für Dateien wie Programme oder Shell-Skripten, nicht für
        Textdateien. Wenn das Betriebssystem die Datei direkt ausführen kann,
        brauchen Benutzer keine Leseberechtigung zum Ausführen der Datei. Wenn
        die Datei jedoch wie ein Shell-Skript oder ein Perl-Programm
        interpretiert werden muss, ist zusätzlich die Leseberechtigung
        erforderlich.
       </para>
      </entry>
      <entry>
       <para>
        Benutzer können in das Verzeichnis wechseln und Dateien dort
        ausführen. Wenn sie über keinen Lesezugriff auf dieses Verzeichnis
        verfügen, können sie die Dateien nicht auflisten, aber dennoch auf
        sie zugreifen, falls sie von deren Existenz wissen.
       </para>
      </entry>
     </row>
    </tbody>
   </tgroup>
  </table>
  <para>
   Beachten Sie, dass der Zugriff auf eine bestimmte Datei immer von der
   korrekten Kombination von Zugriffsberechtigungen für die Datei selbst
   <emphasis>und</emphasis> das Verzeichnis abhängt, in dem sie sich befindet.
  </para>
 </sect2>

 <sect2 xml:id="sec.new.bash.perm">
  <title>Bearbeiten von Dateiberechtigungen</title><indexterm>
  <primary>Berechtigungen</primary>
  <secondary>Ändern</secondary></indexterm>
  <para>
   In Linux gehören Objekte wie Dateien oder Ordner oder Prozesse dem
   Benutzer, der sie erstellt oder initiiert hat. Die Gruppe, die mit einer
   Datei oder einem Ordner verbunden ist, hängt von der primären Gruppe ab,
   der ein Benutzer beim Erstellen des Objekts angehört. Wenn Sie eine neue
   Datei oder ein neues Verzeichnis anlegen, werden die anfänglichen
   Zugriffsrechte für dieses Objekt nach einem vordefinierten Schema
   festgelegt. Weitere Einzelheiten finden Sie unter
   <xref linkend="sec.new.bash.accperm"/>.
  </para>
  <para>
   Als Eigentümer einer Datei bzw. eines Verzeichnisses (und natürlich als
   <systemitem class="username">root</systemitem>) können Sie die
   Zugriffsberechtigungen für dieses Objekt ändern.
  </para>
  <para>
   Sie ändern Objektattrribute wie Zugriffsrechte für eine Datei oder einen
   Ordner mit dem Kommando <command>chmod</command>
  </para>
  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     Benutzer, für die die Berechtigungen geändert werden sollen,
    </para>
   </listitem>
   <listitem>
    <para>
     Typ der Zugriffsberechtigung, die entfernt, festgelegt oder hinzugefügt
     werden soll und
    </para>
   </listitem>
   <listitem>
    <para>
     durch Leerzeichen getrennte Dateien oder Ordner, für die Sie die
     Zugriffsrechte ändern möchten.
    </para>
   </listitem>
  </itemizedlist>
  <para>
   Die Benutzer, für die Dateizugriffsberechtigungen geändert werden können,
   fallen in folgende Kategorien: Der Eigentümer der Datei (user,
   <literal>u</literal>), die Gruppe, die Eigentümer der Datei ist (group,
   <literal>g</literal>) und die anderen Benutzer (others,
   <literal>o</literal>). Sie können eine oder mehrere der folgenden
   Berechtigungen hinzufügen, entfernen oder festlegen: Lesen, Schreiben oder
   Ausführen.
  </para>
  <para>
   Als &rootuser; können Sie auch die Eigentümerschaft einer Datei
   ändern: Mit dem Kommando <command>chown</command><indexterm>
   <primary>Kommandos</primary>
   <secondary>chown</secondary>
   </indexterm> (change owner) können Sie die Eigentümerschaft an einen neuen
   Benutzer übertragen.
  </para>
  <sect3 xml:id="sec.new.bash.perm.ex">
   <title>Beispiele für das Ändern von Zugriffs- und Eigentumsrechten</title>
   <para>
    Das folgende Beispiel zeigt ein Beispiel der Ausgabe für das Kommando
    <command>ls</command> <option>-l</option> in einer Shell.
   </para>
   <example xml:id="ex.new.bash.accperm.ugo">
    <title>Zugriffsrechte für Dateien und Ordner</title>
<screen><?dbsuse-fo font-size="0.80em"?>-rw-r----- 1 tux users      0 2016-06-23 16:08 checklist.txt
-rw-r--r-- 1 tux users  53279 2016-06-21 13:16 gnome_quick.xml
-rw-rw---- 1 tux users      0 2016-06-23 16:08 index.htm
-rw-r--r-- 1 tux users  70733 2016-06-21 09:35 kde-start.xml
-rw-r--r-- 1 tux users  47896 2016-06-21 09:46 kde_quick.xml
drwxr-xr-x 2 tux users     48 2016-06-23 16:09 local
-r-xr-xr-x 1 tux users 624398 2016-06-23 15:43 tux.jpg</screen>
   </example>
   <para>
    Im obigen Beispiel besitzt Benutzer &exampleuser; die Datei
    <filename>kde-start.xml</filename> und verfügt über Lese- und
    Schreibzugriff auf die Datei, kann die Datei aber nicht ausführen. Die
    Gruppe <systemitem>users</systemitem> kann die Datei lesen, aber nicht
    schreiben oder ausführen. Dasselbe gilt für die anderen Benutzer wie im
    dritten Zeichenblock gezeigt.
   </para>
   <procedure>
    <title>Ändern von Zugriffsberechtigungen</title>
    <para>
     Angenommen, Sie sind &exampleuser; und möchten die Zugriffsrechte auf
     Ihre Dateien ändern:
    </para>
    <step>
     <para>
      Wenn die Gruppe <systemitem>users </systemitem> auch Schreibzugriff auf
      <filename>kde-start.xml </filename> erhalten soll, geben Sie Folgendes
      ein:
     </para>
<screen>chmod g+w kde-start.xml</screen>
    </step>
    <step>
     <para>
      Wenn die Gruppe <systemitem>users </systemitem> und andere Benutzer
      Schreibzugriff auf <filename>kde-start.xml </filename> erhalten sollen,
      geben Sie Folgendes ein:
     </para>
<screen>chmod go+w kde-start.xml</screen>
    </step>
    <step>
     <para>
      Den Schreibzugriff entfernen Sie für alle Benutzer, indem Sie Folgendes
      eingeben:
     </para>
<screen>chmod -w kde-start.xml</screen>
     <para>
      Wenn Sie keine Benutzertypen angeben, gelten die Änderungen für alle
      Benutzer: den Eigentümer der Datei, die Eigentümergruppe und die
      anderen Benutzer. Nun kann selbst der Eigentümer &exampleuser; nicht
      mehr in die Datei schreiben, ohne zuvor die Schreibberechtigungen wieder
      einzurichten.
     </para>
    </step>
    <step>
     <para>
      Damit die Gruppe <systemitem>users </systemitem> und andere Benutzer
      nicht in das Verzeichnis <filename>local </filename> wechseln können,
      geben Sie Folgendes ein:
     </para>
<screen>chmod go-x local</screen>
    </step>
    <step>
     <para>
      Sie geben anderen Benutzern Schreibrechte auf die beiden Dateien
      <filename>kde_quick.xml </filename> und <filename>gnome_quick.xml
      </filename>, indem Sie Folgendes eingeben:
     </para>
<screen>chmod o+w  kde_quick.xml gnome_quick.xml</screen>
    </step>
   </procedure>
   <procedure>
    <title>Ändern des Eigentumsrechts</title>
    <para>
     Angenommen, Sie sind &exampleuser; und möchten das Eigentumsrecht an
     der Datei <filename>kde_quick.xml </filename> auf den Benutzer
     &exampleuserII; übertragen. Gehen Sie in diesem Fall folgendermaßen
     vor:
    </para>
    <step>
     <para>
      Geben Sie Benutzername und Passwort für &rootuser; ein.
     </para>
    </step>
    <step>
     <para>
      Geben Sie ein:
     </para>
<screen>chown &exampleuserII_plain; kde_quick.xml</screen>
    </step>
    <step>
     <para>
      Prüfen Sie, was geschehen ist, indem Sie Folgendes eingeben:
     </para>
<screen>ls -l kde_quick.xml</screen>
     <para>
      Sie sollten die folgende Ausgabe erhalten:
     </para>
<screen><?dbsuse-fo font-size="0.80em"?>-rw-r--r-- 1 wilber users  47896 2016-06-21 09:46 kde_quick.xml</screen>
    </step>
    <step>
     <para>
      Wenn das Eigentumsrecht Ihren Wünschen entspricht, wechseln Sie zurück
      in Ihr normales Benutzerkonto.
     </para>
    </step>
   </procedure>
  </sect3>
 </sect2>
</sect1>
