<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook50-profile.xsl"
                 type="text/xml"
                 title="Profiling step"?>
<!DOCTYPE article
[
  <!ENTITY % entities SYSTEM "generic-entities.ent">
    %entities;
]>
<article xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="article-administration-slemicro" xml:lang="en">
 <title>Cockpit Guide</title>
 <info>
  <productnumber>&productnumber;</productnumber><productname>&productname;</productname><date>
<?dbtimestamp format="B d, Y"?></date>
  <abstract>
   <para>
    This guide describes the administration of &slem; using Cockpit.
   </para>
  </abstract>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker></dm:bugtracker>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>
 <section xml:id="sec-about-cockpit">
  <title>About Cockpit</title>
 </section>

<section xml:id="sec-getting-cockpit">
  <title>Getting Cockpit</title>
 </section>

<section xml:id="sec-authentication">
  <title>Cockpit authentication</title>
  <section xml:id="sec-authentication-login">
    <title>Authentication</title>
  </section>

  <section xml:id="sec-cockpit-logs">
    <title>&slema; logs</title>
  </section>

  <section xml:id="sec-cockpit-storage">
    <title>Managing storage</title>
    <para>
      TBD
    </para>
  </section>

  <section xml:id="sec-cockpit-networking">
    <title>Managing networking</title>
    <para>
      After clicking <guimenu>Networking</guimenu> you can view traffic on your system, manage firewall, manage network interfaces or view network logs.
    </para>

<section xml:id="sec-networking-firewall">
  <title>Firewall</title>
  <important>
    <title>Firewall and Podman</title>
    <para>
       Using firewall along with Podman may result in missing Podman-relateds firewall rules after reloading the firewalld service. Therefore, it is recommended to keep the firewall in its default setting (disabled) if you intend to use Podman.
    </para>
  </important>
  <para>
  The <guimenu>Firewall</guimenu> part enables you turn on the firewall, which is off by default. After turning it on, you can edit firewall rules and zones by clicking <guimenu>Edit rules and zones</guimenu>
</para>
</section>

    <section xml:id="sec-networking-interfaces">
      <title>Interfaces</title>
      <para>
        From the <guimenu>Interfaces</guimenu> part, you can add, modify or delete VLANs, bridges or bond interfaces.
      </para>
      <section xml:id="sec-networking-bridges">
        <title>Adding bonds</title>
        <para>
          A bond interface is a combination of several network interfaces into one bond. Network bonding can increase performance by increasing the network throughput and bandwidth. To add a bond interface, click <guimenu>Add bond</guimenu>. 
        </para>        
        <figure xml:id="fig-adding-bond">
          <title>Adding a bond</title>
          <mediaobject>
    <imageobject role="fo">
     <imagedata  fileref="cockpit_adding_bond.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="cockpit_adding_bond.png" width="100%"/>
    </imageobject>
    <textobject role="description">
   <phrase>Cockpit adding bond</phrase>
  </textobject>
   </mediaobject>
        </figure>
        <para>
          Specify the following parameters of the bond interface:
        </para>
        <variablelist>
          <varlistentry>
            <term>Name</term>
            <listitem>
              <para>
                enter a unique name of the interface.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Interfaces</term>
            <listitem>
              <para>
                select which network interfaces should be group to the bond.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>MAC</term>
            <listitem>
              <para>
                You can either select a specific MAC address of the underlying interface, or you can use any of the following options:
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Mode</term>
            <listitem>
              <para>
                Keep the default mode or select any of the following modes:
              </para>
              <variablelist>
          <varlistentry>
            <term>Round Robin</term>
            <listitem>
              <para>
                Transfers packets from the first available interface to the last. The mode offers fault tolerance and load balancing.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Active Backup</term>
            <listitem>
              <para>
                Only one interface in the bonding is active. If the active interface fails, the backup will be activated.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Balance XOR</term>
            <listitem>
              <para>
                Balancing using a transmit hash policy. The default is a modulo device count. To select a different policy, specify the <literal>xmit_hash_policy</literal> option in the <guimenu>Option</guimenu> field.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Broadcast</term>
            <listitem>
              <para>
                Everything is transmitted on all interfaces.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>802.3ad Dynamic Link Aggregation</term>
            <listitem>
              <para>
                Creates aggregation groups that share the same speed and duplex settings.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Adaptive Transmit Load Balancing</term>
            <listitem>
              <para>
                Is a channel bonding that does not require any special switch support. The outgoing traffic is distributed according to the current load on each interface.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Adaptive Load Balancing</term>
            <listitem>
              <para>
                Includes adaptive transmit load balancing and receive load balancing, no special switch support is required.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
            </listitem>

          </varlistentry>
          <varlistentry>
            <term>Primary</term>
            <listitem>
              <part>
              </part>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Link monitoring</term>
            <listitem>
              <para>
                select the type of link monitoring.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Monitoring interval</term>
            <listitem>
              <para>
                specifies the interval in which the particular link monitor performs checks. The value is in ms.
              </para>
            </listitem>
          </varlistentry>
          <para>
            The following items depend on the selected link monitor.
          </para>
          <varlistentry>
            <term>Link up delay</term>
            <listitem>
              <para>
                define time for how long the bond is disabled after a link has been activated. The value should be a multiple of the <guimenu>Monitoring interval</guimenu> value, otherwise it will be rounded to the nearest value.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Link down delay</term>
            <listitem>
              <para>
                define time for how long the bond is disabled if a link failure has been detected. The value should be a multiple of the <guimenu>Monitoring interval</guimenu> value, otherwise it will be rounded to the nearest value.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Monitoring targets</term>
            <listitem>
              <para>
                specify a list of host IP addresse that you want to monitor.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
        
        
        <para>
          You can also provide more options in the field <guimenu>Options</guimenu> using the <emphasis>key=value</emphasis> format.
        </para>
        <figure xml:id="fig-adding-bridge">
          <title>Adding a bridge</title>
          <mediaobject>
    <imageobject role="fo">
     <imagedata  fileref="cockpit_adding_bridge.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="cockpit_adding_bridge.png" width="100%"/>
    </imageobject>
    <textobject role="description">
   <phrase>Cockpit adding bridge</phrase>
  </textobject>
</mediaobject>
        </figure>
        <para>
          When adding a bridge, specify a name of the bridge and select the interfaces you want to add to the subnet.
        </para>
        <figure xml:id="fig-adding-vlan">
          <title>Adding VLAN</title>
          <mediaobject>
    <imageobject role="fo">
     <imagedata  fileref="cockpit_adding_vlan.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="cockpit_adding_vlan.png" width="100%"/>
    </imageobject>
    <textobject role="description">
   <phrase>Cockpit adding VLAN</phrase>
  </textobject>
  </mediaobject>
        </figure>
        <para>
          When adding a virtual local area network, select the parent interface, assign an ID number and provide a name for the VLAN.
        </para>
      </section>

  <!-- Currently not available in 5.3
  <section xml:id="sec-networking-management">
        <title>Managing interfaces</title>
        <para>
          By default, the interfaces are started on boot and use DHCP to assign an IP address. However, you can configure an interface to start on other occassions and/or use a static IP address.
        </para>
        <para>
          The <guimenu>Interfaces</guimenu> view also enables you to delete an interface or disable it.
        </para>
      </section>
    </section>

    <section xml:id="sec-networking-routing">
      <title>Routing</title>
      <para>
        TBD
      </para>
    </section>

<section xml:id="sec-networking-dns">
  <title>DNS</title>
  <para>
        TBD
      </para>
</section>
-->
</section>
  </section>

  <section xml:id="sec-cockpit-containers">
    <title>Working with containers</title>
  </section>

  <section xml:id="sec-users-cockpit">
   <title>Users administration</title>
   <note>
    <title>Users administration only for server administrators</title>
    <para>
     Only users with the <guimenu>Server administrator</guimenu> role can edit
     other users.
    </para>
   </note>
   <para>
    Cockpit enables you to manage users of your system. Click
    <guimenu>Accounts</guimenu> to open the user administration page. Here you
    can create a new account by clicking <guimenu>Create new account</guimenu>
    or manage already existing accounts by clicking on the particular account.
   </para>
   <figure>
    <title>The <guimenu>Accounts</guimenu> screen</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="cockpit_accounts_screen.png" width="100%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="cockpit_accounts_screen.png" width="100%"/>
     </imageobject>
    </mediaobject>
   </figure>
   <section xml:id="sec-adding-users">
    <title>Creating new accounts</title>
    <para>
     Click <guimenu>Create new account</guimenu> to open the window that
     enables you to add a new user. Fill in the user's login and/or full name
     and password, then confirm the form by clicking <guimenu>Create</guimenu>.
    </para>
    <para>
     To add authorized SSH keys for the new user or set the <guimenu>Server
     administrator</guimenu> role, edit the already created account by clicking
     on it. For details, refer to <xref linkend="sec-modifying-users"/>.
    </para>
   </section>
   <section xml:id="sec-modifying-users">
    <title>Modifying accounts</title>
    <para>
     After clicking the user icon in the <guimenu>Accounts</guimenu> page, the
     user details view opens and you can edit the user.
    </para>
    <figure>
     <title>User details</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="cockpit_user_details.png" width="100%"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="cockpit_user_details.png" width="100%"/>
      </imageobject>
     </mediaobject>
    </figure>
    <para>
     In the user's details view, you can perform the following actions.
    </para>
    <variablelist>
     <varlistentry>
      <term>Delete the user</term>
      <listitem>
       <para>
        Click <guimenu>Delete</guimenu> to remove the user from the system.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>Terminate user's session</term>
      <listitem>
       <para>
        By clicking <guimenu>Terminate session</guimenu>, you can log out the
        particular user of the system.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>Change user's role</term>
      <listitem>
       <para>
        By checking/unchecking the <guimenu>Server administrator</guimenu>
        check box, you can assign or remove the administrator role from the
        user.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>Manage access to the account</term>
      <listitem>
       <para>
        You can lock the account or you can set a date when the account will
        expire.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>Manage the user's password</term>
      <listitem>
       <para>
        Click <guimenu>Set password</guimenu> to set a new password for the
        account.
       </para>
       <para>
        By clicking <guimenu>Force change</guimenu>, the user will have to
        change the password on the next login.
       </para>
       <para>
        Click <guimenu>edit</guimenu> to set whether or when the password
        expires.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>Add SSH key</term>
      <listitem>
       <para>
        You can add a SSH key for passwordless authentication via SSH. Click
        <guimenu>Add key</guimenu>, paste the contents of the public SSH key
        and confirm it by clicking <guimenu>Add</guimenu>.
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </section>
  </section>

  <section xml:id="sec-cockpit-services">
    <title>Managing services</title>
  </section>

  <section xml:id="sec-selinux-plugin">
    <title>Managing SELinux mode and policy</title>
    <para>
      The SELinux tool enables you to switch between SELinux modes and view current modifications of the SELinux policy.
    </para>
    <para>
      On &slema; SELinux is in the permissive mode by default. To temporarily switch to the enforcing mode, click the button with the <literal>Permisive</literal> label. Bear in mind that the change persist pnly to the next boot. If you need to perform persistent change of the mode, edit the configuration file <filename>/etc/selinux/config</filename> as described in <xref linkend="sec-switching-modes"/>.
    </para>
    <para>
      The <guimenu>System modifications</guimenu> lists all modifications performed on the default SELinux policy. If you want to export the modifications and reuse them on different servers, click <guimenu>View automation script</guimenu>. In the new window you can copy a shell script or ansible configuration file that can be applied on other servers. 
    </para>
  </section>

  <section xml:id="sec-cockpit-updates">
    <title>Managing &slema; updates</title>
  </section>
 
</section>

</article>