<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook50-profile.xsl"
                 type="text/xml"
                 title="Profiling step"?>
<article xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="art_installation-sle-micro.xml" version="5.0" xml:id="article-installation" xml:lang="de">
 <title><citetitle>Schnelleinführung zur Installation</citetitle></title>
 <subtitle><phrase role="productname"><phrase os="slemicro">SUSE Linux Enterprise Micro</phrase></phrase> <phrase role="productnumber"><phrase os="slemicro">5.0</phrase></phrase></subtitle>
 <info>
  <productnumber><phrase role="productnumber"><phrase os="slemicro">5.0</phrase></phrase></productnumber><productname><phrase role="productname"><phrase os="slemicro">SUSE Linux Enterprise Micro</phrase></phrase></productname>
  <date><?dbtimestamp format="d. B Y"?>

</date>
  <abstract>
   <para>
    Diese Kurzanleitung führt Sie Schritt für Schritt durch die Installation von <phrase role="productname"><phrase os="slemicro">SUSE® Linux Enterprise Micro</phrase></phrase> <phrase role="productnumber"><phrase os="slemicro">5.0</phrase></phrase>.
   </para>
  </abstract>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>Ja</dm:translation>
  </dm:docmanager>
 </info>
 <sect1 xml:id="sec-slem-installquick">
  <title>Willkommen bei <phrase role="productname"><phrase os="slemicro">SUSE Linux Enterprise Micro</phrase></phrase></title>

  <para>
   Das moderne System <phrase role="productname"><phrase os="slemicro">SUSE Linux Enterprise Micro</phrase></phrase> ist hauptsächlich auf das Edge Computing abgestimmt. Die Hauptmerkmale von <phrase role="productname"><phrase os="slemicro">SUSE Linux Enterprise Micro</phrase></phrase> sind die Vorhersehbarkeit und Zuverlässigkeit dank des schreibgeschützten Root-Dateisystems und der transaktionalen Aktualisierungen. Durch das schreibgeschützte Dateisystem ist gewährleistet, dass das System während der Laufzeit nicht geändert werden kann und sich nach jedem Neustart identisch verhält. Mit transaktionalen Aktualisierungen können Sie das System aktualisieren, ohne das laufende System zu beeinflussen, wobei Ihnen immer die Möglichkeit eines Rollbacks offensteht.
  </para>

  <para>
   Für <phrase role="productname"><phrase os="slemicro">SUSE Linux Enterprise Micro</phrase></phrase> können Sie unter den folgenden Installationsverfahren wählen:
  </para>

  <itemizedlist>
   <listitem>
    <para>
     manuelle Installation; siehe <xref linkend="sec-slem-manual-installation"/>
    </para>
   </listitem>
   <listitem>
    <para>
     unbeaufsichtigte automatische Installation mit AutoYaST; siehe <xref linkend="sec-slem-autoyast"/>
    </para>
   </listitem>
   <listitem>
    <para>
     Bereitstellung vorgefertigter Images; siehe <xref linkend="sec-slem-image-deployment"/>
    </para>
   </listitem>
  </itemizedlist>
 </sect1>
 <sect1 xml:id="sec-slem-requirements">
  <title>Hardwarevoraussetzungen für <phrase role="productname"><phrase os="slemicro">SUSE Linux Enterprise Micro</phrase></phrase></title>

  <para>
   Für <phrase role="productname"><phrase os="slemicro">SUSE Linux Enterprise Micro</phrase></phrase> gelten die folgenden Hardwarevoraussetzungen:
  </para>

  <itemizedlist>
   <listitem>
    <para>
     1 GB RAM
    </para>
   </listitem>
   <listitem>
    <para>
     Festplatte mit 12 GB
    </para>
   </listitem>
  </itemizedlist>

  <para>
   Für SLE Micro selbst werden 20 GB freier Festplattenspeicher empfohlen, für Containerdaten weitere 40 GB. Beachten Sie, dass die tatsächlichen Hardwarevoraussetzungen von den Workloads Ihrer Container abhängig sind.
  </para>
 </sect1>
 <sect1 xml:id="sec-slem-manual-installation">
  <title>Manuelle Installation</title>

  <para>
   Bei den folgenden Installationsschritten wird vorausgesetzt, dass Sie das Installationssystem erfolgreich gestartet haben.
  </para>

  <sect2 xml:id="sec-slem-licence-agreement">
   <title>Sprach- und Tastaturauswahl</title>
   <informalfigure>
    <mediaobject>
     <imageobject role="fo">
      <imagedata os="slemicro" fileref="install_language_slem.png" width="100%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata os="slemicro" fileref="install_language_slem.png" width="100%"/>
      </imageobject>
    </mediaobject>
   </informalfigure>
   <para>
    Die Standardsprache und die standardmäßige Tastaturbelegung ist Englisch (USA). Im Dropdown-Feld <guimenu>Sprache</guimenu> können Sie eine andere Sprache auswählen. Bei Bedarf wählen Sie eine andere Tastaturbelegung im Dropdown-Feld <guimenu>Tastaturbelegung</guimenu> aus.
   </para>
   <para>
    Lesen Sie den Lizenzvertrag. Die Standardsprache ist Englisch; die Lizenzvereinbarung steht jedoch in mehreren Sprachen zur Verfügung. Wenn Sie eine bestimmte Übersetzung lesen möchten, klicken Sie auf <guimenu>Übersetzungen der Lizenz</guimenu>, wählen Sie im Dropdown-Feld die gewünschte Sprache aus und klicken Sie auf <guimenu>OK</guimenu>. Lesen Sie die Lizenzvereinbarung und klicken Sie dann auf <guimenu>Ja, ich akzeptiere die Lizenzvereinbarung</guimenu>. Wechseln Sie dann mit <guimenu>Weiter</guimenu> zum nächsten Installationsschritt.
   </para>
  </sect2>

  <sect2 xml:id="sec-slem-registration">
   <title>Registrierung</title>

<informalfigure>
    <mediaobject>
     <imageobject role="fo">
      <imagedata os="slemicro" fileref="install_registration_slem.png" width="100%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata os="slemicro" fileref="install_registration_slem.png" width="100%"/>
      </imageobject>
    </mediaobject>
   </informalfigure>

   <para>
    Für technischen Support und Produktaktualisierungen müssen Sie <phrase role="productname"><phrase os="slemicro">SUSE Linux Enterprise Micro</phrase></phrase> beim SUSE Customer Center oder bei einem lokalen Registrierungsserver registrieren und aktivieren.
   </para>
   <variablelist>
    <varlistentry>
     <term><guimenu>Registrieren des Systems über scc.suse.com</guimenu></term>
     <listitem>
      <para>
       Zur Registrierung beim SUSE Customer Center geben Sie die <guimenu>Email-Adresse</guimenu> ein, die mit Ihrem SCC-Konto verknüpft ist, sowie den <guimenu>Registrierungscode</guimenu> für <phrase role="productname"><phrase os="slemicro">SUSE Linux Enterprise Micro</phrase></phrase>. Fahren Sie mit <guimenu>Weiter</guimenu> fort.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Registrieren des Systems über einen lokalen RMT-Server</guimenu></term>
     <listitem>
      <para>
       Wenn Ihr Unternehmen einen lokalen Registrierungsserver bereitstellt, können Sie sich alternativ dort registrieren. Aktivieren Sie <guimenu>System über lokalen RMT-Server registrieren</guimenu> und wählen Sie eine Adresse im Dropdown-Feld aus oder geben Sie eine URL ein. Fahren Sie mit <guimenu>Weiter</guimenu> fort.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Registrierung überspringen</guimenu></term>
     <listitem>
      <para>
       Wenn Sie sich zu diesem Zeitpunkt nicht registrieren möchten, klicken Sie auf <guimenu>Registrierung überspringen</guimenu>. Bestätigen Sie die Warnmeldung mit <guimenu>OK</guimenu> und klicken Sie auf <guimenu>Weiter</guimenu>.
      </para>
      <important>
       <title>Überspringen der Registrierung</title>
       <para>
        Das System muss registriert werden, damit Sie Aktualisierungen abrufen und Support in Anspruch nehmen können. Sie können sich auch nach der Installation noch registrieren.
       </para>
      </important>
     </listitem>
    </varlistentry>
   </variablelist>
   <para>
    Wenn Sie sich registriert haben, klicken Sie auf <guimenu>Weiter</guimenu>.
   </para>
  </sect2>

  <sect2 xml:id="sec-slem-ntp">
   <title>NTP-Serverkonfiguration</title>

<informalfigure>
    <mediaobject>
     <imageobject role="fo">
      <imagedata os="slemicro" fileref="install_ntp_slem.png" width="100%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata os="slemicro" fileref="install_ntp_slem.png" width="100%"/>
      </imageobject>
    </mediaobject>
   </informalfigure>
   <para>
    Konfigurieren Sie mindestens einen NTP-Server, damit die Uhrzeit auf Ihrem System ordnungsgemäß synchronisiert bleibt.
   </para>
  </sect2>

  <sect2 xml:id="sec-slem-root-creation">
   <title>Authentifizierung für <systemitem class="username">root</systemitem></title>
<informalfigure>
    <mediaobject>
     <imageobject role="fo">
      <imagedata os="slemicro" fileref="install_authentication_slem.png" width="100%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata os="slemicro" fileref="install_authentication_slem.png" width="100%"/>
      </imageobject>
    </mediaobject>
   </informalfigure>

   <para>
    Konfigurieren Sie für <systemitem class="username">root</systemitem> ein starkes Passwort mit mindestens 5 Zeichen (Kombination aus Groß- und Kleinbuchstaben und Ziffern). Für Passwörter sind maximal 72 Zeichen zulässig und die Groß-/Kleinschreibung ist zu beachten.</para>
    <para>Sie können einen bereits vorhandenen SSH-Schlüssel importieren; klicken Sie hierzu auf <guimenu>Durchsuchen</guimenu> und wählen Sie den öffentlichen SSH-Schlüssel aus.
   </para>
   <para>
    Wechseln Sie mit <guimenu>Weiter</guimenu> zum nächsten Installationsschritt.
   </para>
  </sect2>

  <sect2 xml:id="sec-slem-installation-settings">
   <title>Installationseinstellungen</title>
<informalfigure>
    <mediaobject>
     <imageobject role="fo">
      <imagedata os="slemicro" fileref="install_settings_slem.png" width="100%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata os="slemicro" fileref="install_settings_slem.png" width="100%"/>
      </imageobject>
    </mediaobject>
   </informalfigure>

   <para>
    Der letzte Installationsschritt zeigt eine Übersicht über die Installationseinstellungen. Prüfen Sie die Einstellungen und nehmen Sie ggf. notwendige Änderungen vor. Zum Ändern einer Einstellung klicken Sie auf die Schaltfläche nach der Option. Wenn Sie auf die Überschrift einer Einstellung klicken, erhalten Sie weitere Optionen.
   </para>
   <variablelist>
    <varlistentry>
     <term><guimenu>Partitionierung</guimenu></term>
     <listitem>
      <para>
       Mit dem <guimenu>Expertenmodus</guimenu> für die Partitionierung können Sie die Partitionen bearbeiten. Wenn der Datenträger verschlüsselt oder die Verwaltung der logischen Volumes aktiviert werden soll, klicken Sie auf <guimenu>Angeleitete Einrichtung</guimenu> und geben Sie ein Passwort für die Datenträgerentschlüsselung ein.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Software</guimenu></term>
     <listitem>
      <para>
       Mit <guimenu>Software</guimenu> gelangen Sie zum Bildschirm <guimenu>Software-Auswahl und System-Tasks</guimenu>, in dem Sie die gewünschten Schemas auswählen oder deaktivieren können. Die einzelnen Schemas enthalten jeweils mehrere Softwarepakete für bestimmte Funktionen. Mit <guimenu>Details</guimenu> können Sie diese Pakete einsehen und verwalten.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Zeitzone</guimenu></term>
     <listitem>
      <para>
       Die Uhrzeit wird standardmäßig über die NTP-Server synchronisiert, die Sie in den vorangegangenen Schritten des Installationsverfahrens angegeben haben; Sie können jedoch die Region und die Zeitzone auswählen. Sollen die Uhrzeit und das Datum manuell eingestellt werden, klicken Sie auf die Schaltfläche <guimenu>Andere Einstellungen</guimenu> und wählen Sie <guimenu>Manuell</guimenu>.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Netzwerkkonfiguration</guimenu></term>
     <listitem>
      <para>
       Zeigt die aktuelle Netzwerkkonfiguration an. Klicken Sie zum Ändern der Einstellungen auf <guimenu>Netzwerkkonfiguration.</guimenu>
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Booten</guimenu></term>
     <listitem>
      <para>
       In diesem Abschnitt wird die Boot-Loader-Konfiguration beschrieben. Die Standardeinstellungen sollten nur geändert werden, wenn dies unbedingt erforderlich ist.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Kdump</guimenu></term>
     <listitem>
      <para>
       Für den Fall, dass der Kernel ausfällt, speichert Kdump das Speicherabbild (<quote>Core-Dump</quote>) im Dateisystem. Durch Debuggen der Dump-Datei können Sie dann die Ursache für den Ausfall ermitteln. Kdump ist standardmäßig vorkonfiguriert und aktiviert.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Standard-systemd-Ziel</guimenu></term>
     <listitem>
      <para>
       Nur der Textmodus ist verfügbar.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>System</guimenu></term>
     <listitem>
      <para>
       Mit <guimenu>System</guimenu> erhalten Sie ausführliche Hardware-Informationen. Ein Bildschirm wird geöffnet, in dem Sie auch die <guimenu>Kernel-Einstellungen</guimenu> ändern können.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Sicherheit</guimenu></term>
     <listitem>
      <para>
       Die <guimenu>CPU-Mitigationen</guimenu> gelten für Kernel-Boot-Befehlszeilenparameter für Software-Mitigationen, die zur Vorbeugung von CPU-Seitenkanalangriffen bereitgestellt wurden. Zum Auswählen einer anderen Option klicken Sie auf den hervorgehobenen Eintrag.
      </para>
      <para>
       Standardmäßig ist die Firewall deaktiviert. Mit <guimenu>Aktivieren</guimenu> ändern Sie die Standardeinstellung.
      </para>
      <para>
       Der SSH-Service wird standardmäßig aktiviert. Mit <guimenu>Deaktivieren</guimenu> ändern Sie die Einstellung. Hinweis: Wenn Sie den SSH-Dienst deaktivieren, können Sie sich nicht aus der Ferne bei Ihrem System anmelden. Der SSH-Port (22) ist standardmäßig geöffnet.
      </para>
      <para>
       Die standardmäßige SELinux-Option lautet <guimenu>Deaktiviert</guimenu>. Sie können den Wert ändern. Klicken Sie hierzu auf <guimenu>Sicherheit</guimenu> und wählen Sie im Menü <guimenu>Modus</guimenu> eine andere Option.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <para>
    Wenn Sie die Installationseinstellungen geprüft haben, können Sie mit <guimenu>Installieren</guimenu> zur Installation wechseln und dann die Installation bestätigen.
   </para>
  </sect2>
 </sect1>
 <sect1 xml:id="sec-slem-autoyast">
  <title>Unbeaufsichtigte Installation mit AutoYaST</title>

  <para>
   <phrase role="productname"><phrase os="slemicro">SUSE Linux Enterprise Micro</phrase></phrase> kann über AutoYaST installiert werden. Sie müssen manuell eine XML-Steuerdatei erstellen (auch als Profil bezeichnet). AutoYaST installiert SLE Micro dann gemäß den Anweisungen im Profil. Detaillierte Informationen finden Sie in <xref linkend="book-autoyast"/>.
  </para>
  <important>
  <para>Ein Teil der Ressourcen und Eigenschaften im AutoYaST-Profil werden standardmäßig in der zweiten Phase der unbeaufsichtigten Installation angewendet; die zweite Phase ist bei <phrase role="productname"><phrase os="slemicro">SUSE Linux Enterprise Micro</phrase></phrase> allerdings nicht verfügbar. Damit alle Ressourcen und Eigenschaften angewendet werden sollen, müssen Sie daher die zweite Phase im AutoYaST-Profil deaktivieren: </para>
    <screen>
  &lt;second_stage config:type="boolean"&gt;false&lt;/second_stage&gt;
  </screen>
  <para>AutoYaST wendet dann alle Ressourcen und Eigenschaften in der ersten Phase an, unabhängig davon, ob diese standardmäßig in der zweiten Phase angewendet würden.</para>
  </important>
 </sect1>
 <sect1 xml:id="sec-slem-image-deployment">
  <title>Bereitstellung von Raw-Images</title>

  <para>
   <phrase role="productname"><phrase os="slemicro">SUSE Linux Enterprise Micro</phrase></phrase> bietet Raw-Images, die direkt auf Ihrem Gerätespeicher (Speicherkarte, USB-Speicherstick oder Festplatte) bereitgestellt werden können. Die Optionen für die Gerätetypen, auf denen Sie das Image bereitstellen können, sind von Ihrer jeweiligen Hardware abhängig; bitte beachten Sie die Dokumentation des Herstellers.
  </para>

  
<para>
Für die anfängliche Konfiguration des bereitgestellten Images müssen Sie die Konfigurationsdaten gemäß <xref linkend="pro-preparing-configuration-device"/> vorbereiten und dann auf ein Speichergerät (z. B. USB-Speicherstick) kopieren. Das Gerät muss beim ersten Starten mit dem Hosts verbunden sein, auf dem SLE Micro ausgeführt wird. So können Sie die Einrichtung für die Bereitstellung vorbereiten: 
</para>
  <procedure>
   <title>Vorbereiten des Raw-Datenträger-Images</title>
   <step>
    <para>
     Laden Sie das Raw-Image herunter und dekomprimieren Sie es:
    </para>
<screen><prompt>tux &gt; </prompt>xz -d &lt;downloaded_image.raw.xz&gt;</screen>
   </step>
   <step>
    <para>
     Kopieren Sie das dekomprimierte Image auf das Gerät, auf dem SLE Micro ausgeführt werden soll:
    </para>
<screen><prompt>tux &gt; </prompt>dd if=&lt;downloaded_image.raw&gt; of=/dev/sdX</screen>
   </step>
   </procedure>
   <para>Mti dem folgenden Verfahren bereiten Sie das Konfigurationsgerät (in der Regel ein USB-Speicherstick) vor.</para>
   <procedure xml:id="pro-preparing-configuration-device">
   <title>Vorbereiten des Konfigurationsgeräts</title>
   <step>
     <para>
      Formatieren Sie den Datenträger mit einem Dateisystem, das von SLE Micro unterstützt wird: FAT, Ext4 usw.:
     </para>
<screen>
<prompt>tux &gt; </prompt>sudo mkfs.ext4 /dev/sdY
</screen>
    </step>
   <step>
     <para>
      Stellen Sie die Gerätekennung entweder auf <literal>ignition</literal> oder auf <literal>combustion</literal> ein. Ext4-Dateisystem:
     </para>
<screen><prompt>tux &gt; </prompt>sudo e2label /dev/sdY ignition</screen>
    <para>
     Sie können ein beliebiges Konfigurationsspeichermedium verwenden, das von Ihrem Virtualisierungssystem oder Ihrer Hardware unterstützt wird: ISO-Image, USB-Speicherstick usw. 
    </para>
   </step>
   <step>
     <para>
      Hängen Sie das Gerät ein:
     </para>
<screen>
<prompt>tux &gt; </prompt>sudo mount /dev/sdY /mnt
</screen>
</step>
<step>
     <para>
      Erstellen Sie die Verzeichnisstruktur gemäß <xref linkend="sec-slem-ignition"/> oder <xref linkend="sec-slem-combustion"/>, je nach dem verwendeten Konfigurationstool:
     </para>
<screen>
<prompt>tux &gt; </prompt>sudo mkdir -p /mnt/ignition/
</screen>
     <para>
      oder:
     </para>
<screen>
<prompt>tux &gt; </prompt>sudo mkdir -p /mnt/combustion/
</screen>
    </step>
   <step>
    <para>
     Bereiten Sie vor dem ersten Starten alle Elemente der Konfiguration vor, die von <xref linkend="sec-slem-ignition" xrefstyle="template:Ignition"/> oder <xref linkend="sec-slem-combustion" xrefstyle="template:Combustion"/> verwendet werden. Die Minimalkonfiguration muss mindestens ein Passwort für <systemitem class="username">root</systemitem> enthalten; ansonsten ist nach dem ersten Starten kein Zugriff auf das System möglich.
    </para>
   </step>
   </procedure>
  
  <para>
     Nach dem ersten Starten müssen Sie Ihre SUSE Linux Enterprise Micro-Instanz mit dem Befehlszeilentool <command>SUSEConnect</command> registrieren. Detaillierte Informationen finden Sie in <xref linkend="sec-register-slem-system-suseconnect"/>.
    </para>

  <sect2 xml:id="sec-slem-ignition">
   <title>Konfiguration mit Ignition</title>
   <para>
    Ignition konfiguriert Ihr System beim ersten Starten anhand der Konfigurationsdatei <filename>config.ign</filename>. Die Datei <filename>config.ign</filename> muss in einem Verzeichnis mit dem Namen <filename>ignition</filename> gespeichert werden. Das Verzeichnis <filename>ignition</filename> ist ein Unterverzeichnis des Root-Verzeichnisses. Das Root-Verzeichnis enthält auch das bereitzustellende Raw-Image. Die Verzeichnisstruktur sieht dann wie folgt aus:
   </para>
<screen>
&lt;root directory&gt;
	- ignition
		- config.ign
	</screen>
   <para>
    Die Datei <filename>config.ign</filename> liegt im JSON-Format vor. Ein Minimalbeispiel:
   </para>
<screen>
{
  "ignition": { "version": "3.1.0" },
  "passwd": {
    "users": [
      {
        "name": "root",
        "passwordHash": "O9h4s2UUtAtok"
      }
    ]
  }
}
</screen>
   <para>
    Im obigen Beispiel wird das Passwort für <systemitem class="username">root</systemitem> auf <emphasis>password</emphasis> eingestellt. Mit diesem Befehl erhalten Sie einen eigenen Passwort-Hash:
   </para>
<screen>
<prompt role="root">root # </prompt> openssl passwd
</screen>

  </sect2>

  <sect2 xml:id="sec-slem-combustion">
   <title>Konfiguration mit Combustion</title>
   <para>
    Combustion ist ein Minimalmodul für dracut. Sie können Ihr Skript bereitstellen und Combustion führt das Skript beim ersten Starten des Systems aus. Mit Combustion können Sie Dateien hinzufügen, Pakete installieren, Geräte einrichten und Ihren Datenträger neu partitionieren. Sie können die Konfiguration als Shell-Skript auf einem externen Speichermedium bereitstellen. Das Skript wird beim Startvorgang in einer transaktionalen Aktualisierungs-Shell ausgeführt. Wenn der Vorgang erfolgreich ist, startet das System mit dem neuen Snapshot.
   </para>
   <para>
    Soll Combustion beim Starten verwendet werden, erstellen Sie ein Verzeichnis mit dem Namen <filename>combustion</filename> als Unterverzeichnis des Root-Verzeichnisses. Speichern Sie im Verzeichnis <filename>combustion</filename> eine Datei mit dem Namen <filename>script</filename> und alle anderen erforderlichen Dateien. Die Verzeichnisstruktur sieht wie folgt aus:</para>
    <screen>
    &lt;root directory&gt;
	- combustion
		- script
		- other files
	</screen>
    <note>
    <title>Combustion auf einer virtuellen QEMU-Maschine</title>
    <para>Combustion sucht die Datei <filename>script</filename> in <filename>opt/org.opensuse.combustion/script</filename>. Wenn <filename>script</filename> vorhanden ist, erstellt Combustion das Verzeichnis <filename>combustion</filename> auf dem Gerät und kopiert <filename>script</filename> in das Verzeichnis.</para>
    <para>Mit dem folgenden QEMU-<literal>fw cfg</literal>-Parameter übergeben Sie <filename>script</filename> an Ihre virtuelle Maschine:</para>
    <screen>
    -fw_cfg name=opt/org.opensuse.combustion/script,file=/var/combustion-script
    </screen>
    </note>
    <para>Sie können Combustion zusammen mit Ignition verwenden. Weisen Sie Ihrem Gerät in diesem Fall die Kennung <literal>ignition</literal> zu, erstellen Sie ebenfalls das Unterverzeichnis <filename>ignition</filename> im Root-Verzeichnis und speichern Sie <filename>config.ign</filename> im Verzeichnis <filename>ignition</filename>. Die Verzeichnisstruktur sieht dann wie folgt aus:
   </para>
<screen>
&lt;root directory&gt;
	-combustion
		- script
		- other files
	- ignition 
		- config.ign
	</screen>
   <para>
    Im folgenden Beispiel für <filename>script</filename> wird ein <systemitem class="username">root</systemitem>-Passwort festgelegt, ein SSH-Schlüssel kopiert (der SSH-Schlüssel muss sich im Verzeichnis <filename>combustion</filename> befinden) und der <emphasis>Vim</emphasis>-Editor mit eingeschränkten Funktionen installiert.
   </para>
<screen>
#!/bin/bash
# combustion: network
# Redirect output to the console
exec &gt; &gt;(exec tee -a /dev/tty0) 2&gt;&amp;1
# Set a password for root, generate the hash with "openssl passwd -6"
echo 'root:$5$.wn2BZHlEJ5R3B1C$TAHEchlU.h2tvfOpOki54NaHpGYKwdNhjaBuSpDotD7' | chpasswd -e
# Add a public ssh key and enable sshd
mkdir -pm700 /root/.ssh/
cat id_rsa_new.pub &gt;&gt; /root/.ssh/authorized_keys
systemctl enable sshd.service
# Install vim-small
zypper --non-interactive install vim-small
# Leave a marker
echo "Configured with combustion" &gt; /etc/issue.d/combustion
</screen>
<note>
   <para>
    Die Anweisung <literal># combustion: network</literal> informiert Combustion, dass das Netzwerk konfiguriert werden muss, bevor das Skript ausgeführt werden kann. Combustion greift auf die Netzwerkkonfiguration <literal>initrd</literal> zurück; standardmäßig wird DHCP verwendet.
   </para>
   </note>
  </sect2>

 

  <sect2 xml:id="sec-register-slem-system-suseconnect">
   <title>Registrieren mit SUSEConnect</title>
   <para>
    Mit <command>SUSEConnect</command> können Sie das System über die Befehlszeile registrieren. Informationen, die über den Umfang dieses Abschnitts hinausgehen, finden Sie in der Inline-Dokumentation zu <command>man 8 SUSEConnect</command>.
   </para>
   <procedure>
    <title>Produktregistrierung mit SUSE Connect</title>
    <step>
     <para>
      Führen Sie zur Registrierung von <phrase role="productname"><phrase os="slemicro">SUSE Linux Enterprise Micro</phrase></phrase> beim SUSE Customer Center <command>SUSEConnect</command> wie folgt aus:
     </para>
<screen><prompt>tux &gt; </prompt>sudo SUSEConnect -r <replaceable>REGISTRATION_CODE</replaceable> -e <replaceable>EMAIL_ADDRESS</replaceable></screen>
     <para>
      Soll die Registrierung über einen lokalen Registrierungsserver erfolgen, geben Sie zusätzlich die URL des Servers an:
     </para>
<screen><prompt>tux &gt; </prompt>sudo SUSEConnect -r <replaceable>REGISTRATION_CODE</replaceable> -e <replaceable>EMAIL_ADDRESS</replaceable> \
--url "https://suse_register.example.com/"</screen>
     <para>
      Ersetzen Sie <replaceable>REGISTRATION_CODE</replaceable> durch den Registrierungscode, den Sie mit Ihrer Version von <phrase role="productname"><phrase os="slemicro">SUSE Linux Enterprise Micro</phrase></phrase> erhalten haben. Ersetzen Sie <replaceable>EMAIL_ADDRESS</replaceable> durch die Email-Adresse für das SUSE-Konto, mit dem Sie oder Ihr Unternehmen die Abonnements verwalten.
     </para>
    </step>
    <step>
     <para>
      <phrase role="productname"><phrase os="slemicro">SUSE Linux Enterprise Micro</phrase></phrase> ist nun registriert.
     </para>
    </step>
   </procedure>
  </sect2>
 </sect1>
 <xi:include href="common_copyright_quick.xml"/>
 <xi:include href="common_gfdl1.2_i.xml"/>
</article>
