<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="deployment_selfinstall_procedure.xml" version="5.0" xml:id="cha-selfinstal-procedure">
 <title>Bereitstellen von selbstinstallierenden Images</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
  <abstract>
    <para>
      In diesem Kapitel wird die Bereitstellung von SLE Micro über selbstinstallierende, vordefinierte ISO-Images beschrieben.
    </para>
  </abstract>
 </info>
<para>
  <phrase role="productname"><phrase os="slemicro">SUSE Linux Enterprise Micro</phrase></phrase> bietet selbstinstallierende ISO-Images, mit denen Sie SLE Micro auf Ihrem Computer (entweder eine virtuelle Maschine oder ein Bare-Metal-System) bereitstellen und das System beim ersten Starten konfigurieren können.
</para>
<para>
  Zum Vorbereiten der Einrichtung benötigen Sie Folgendes:  
  </para>
  <itemizedlist>
    <listitem>
      <para>
        einen Datenträger (physisch oder virtuell), auf dem SLE Micro ausgeführt wird
      </para>
    </listitem>
    <listitem>
      <para>
        ein bootfähiges Gerät mit der selbstinstallierenden ISO (z. B. ein USB-Datenträger)
      </para>
    </listitem>
    <listitem>
      <para>
        ein Gerät, das als Konfigurationsmedium fungiert. Zum Vorbereiten des Konfigurationsgeräts führen Sie die Schritte in <xref linkend="pro-selfinstall-configuration-device"/> aus.
      </para>
      <note>
        <title>Das Konfigurationsgerät muss beim ersten Starten angeschlossen sein.</title>
        <para>
          Denken Sie daran, dass das Konfigurationsgerät während des gesamten Konfigurationsprozesses beim ersten Starten angeschlossen sein muss. Es wird empfohlen, das Gerät vor Beginn des Installationsprozesses anzuschließen. Falls Ihre Firmware nicht zwei oder mehr angeschlossene USB-Datenträger beim Starten unterstützt, können Sie das USB-Gerät vor Beginn des Konfigurationsprozesses austauschen.
        </para>
      </note>
    </listitem>
  </itemizedlist>

<para>
  Mit dem folgenden Verfahren bereiten Sie das Konfigurationsgerät vor: 
  </para>
<procedure xml:id="pro-selfinstall-configuration-device">
  <title>Vorbereiten des Konfigurationsgeräts</title>
  <step>
   <para>
    Formatieren Sie den Datenträger mit einem Dateisystem, das von SLE Micro unterstützt wird: Ext3, Ext4 usw:
   </para>
<screen>
<prompt>&gt; </prompt>sudo mkfs.ext4 /dev/sd<replaceable>Y</replaceable>
</screen>
  </step>
  <step>
   <para>
    Legen Sie als Gerätekennung entweder <literal>ignition</literal> (wenn entweder Ignition oder Combustion verwendet wird) oder <literal>combustion</literal> fest (wenn nur Combustion verwendet wird). Ext4-Dateisystem:
   </para>
<screen><prompt>&gt; </prompt>sudo e2label /dev/sd<replaceable>Y</replaceable> ignition</screen>
   <para>
    Sie können ein beliebiges Konfigurationsspeichermedium verwenden, das von Ihrem Virtualisierungssystem oder Ihrer Hardware unterstützt wird: ISO-Image, USB-Speicherstick usw.
   </para>
  </step>
  <step>
   <para>
    Hängen Sie das Gerät ein:
   </para>
<screen>
<prompt>&gt; </prompt>sudo mount /dev/sdY /mnt
</screen>
  </step>
  <step>
   <para>
    Erstellen Sie die Verzeichnisstruktur gemäß <xref linkend="cha-images-ignition"/> oder <xref linkend="cha-images-combustion"/>, je nach dem verwendeten Konfigurationstool:
   </para>
<screen>
<prompt>&gt; </prompt>sudo mkdir -p /mnt/ignition/
</screen>
   <para>
    oder:
   </para>
<screen>
<prompt>&gt; </prompt>sudo mkdir -p /mnt/combustion/
</screen>
  </step>
  <step>
   <para>
    Bereiten Sie vor dem ersten Starten alle Elemente der Konfiguration vor, die von <xref linkend="cha-images-ignition" xrefstyle="template:Ignition"/> oder <xref linkend="cha-images-combustion" xrefstyle="template:Combustion"/> verwendet werden. Zum Anmelden bei Ihrem System müssen Sie ein Passwort für <systemitem class="username">root</systemitem> angeben oder die passwortlose Authentifizierung einrichten. Ansonsten ist nach dem ersten Starten kein Zugriff auf das System möglich.
   </para>
  </step>
</procedure>

<para>
  Sobald Sie das Konfigurationsgerät vorbereitet haben, können Sie den Installationsprozess wie nachfolgend beschrieben beginnen.
  </para>

  <procedure>
    <title>Installation von SLE Micro</title>
    <step>
      <para>
        Starten Sie den Computer mit der angeschlossenen selbstinstallierenden ISO. 
      </para>
    </step>
    <step>
      <para>
        Starten Sie den Installationsprozess mit <guimenu>SLE Micro installieren</guimenu>.
      </para>
    </step>
    <step>
      <para>
        Wählen Sie den Datenträger aus, auf dem SLE Micro installiert werden soll, und bestätigen Sie, dass Sie die Daten auf dem Datenträger löschen möchten. Daraufhin wird ein SLE Micro-Image auf den Datenträger kopiert.
      </para>
    </step>
    <step>
      <para>
        Ihr System wird mit <command>kexec</command> neu gestartet und dann für den Konfigurationsprozess vorbereitet.
      </para>
    </step>
    <step>
      <para>
        Starten Sie den Konfigurationsprozess, indem Sie <guimenu>SLE Micro</guimenu> auswählen. SLE Micro wird gemäß den auf dem Konfigurationsgerät festgelegten Anweisungen installiert.
      </para>
    </step>
    <step>
      <para>
        Nach Abschluss des Konfigurationsprozesses können Sie sich bei Ihrem System anmelden.
      </para>
    </step>
  </procedure>

<para>
  Nach dem ersten Starten können Sie Ihre SUSE Linux Enterprise Micro-Instanz mit dem Befehl <command>transactional-update</command> registrieren. Detaillierte Informationen finden Sie in <xref linkend="sec-images-registration"/>.
 </para>
 <para>
  SLE Micro bietet eine Erweiterung für das Live-Patching. Soll diese Erweiterung verwendet werden, nehmen Sie sie vom installierten System aus in Ihr Abonnement auf. Detaillierte Informationen finden Sie in <xref linkend="sec-adding-extension"/>.
 </para> 
</chapter>
