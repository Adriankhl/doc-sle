<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="ay_general_options.xml" version="5.0" xml:id="CreateProfile-General">
 <title>General options</title>

 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>

 <para>
  The general section includes all settings that influence the installation
  workflow. The overall structure of this section looks like the following:
 </para>

<screen>&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE profile&gt;
&lt;profile xmlns="http://www.suse.com/1.0/yast2ns"
 xmlns:config="http://www.suse.com/1.0/configns"&gt;
 &lt;general&gt;
  &lt;ask-list&gt;<co xml:id="co-ay-general-ask"/>
   ...
  &lt;/ask-list&gt;
  &lt;cio_ignore&gt;<co xml:id="co-ay-general-cio-ignore" arch="zseries"/>
   ...
  &lt;/cio_ignore&gt;
  &lt;mode&gt;<co xml:id="co-ay-general-mode"/>
   ...
  &lt;/mode&gt;
  &lt;proposals&gt;<co xml:id="co-ay-general-proposal"/>
   ...
  &lt;/proposals&gt;
  
  
  &lt;semi-automatic config:type="list"&gt;<co xml:id="co-ay-general-semi"/>
  ...
  &lt;/semi-automatic&gt;
  &lt;signature-handling&gt;
   ...
  &lt;/signature-handling&gt;
  &lt;storage&gt;<co xml:id="co-ay-general-storage"/>
   ...
  &lt;/storage&gt;
  
   ...
  
 &lt;/general&gt;
&lt;profile&gt;</screen>

 <calloutlist>
  <callout arearefs="co-ay-general-ask">
   <para>
    
    <xref linkend="CreateProfile-Ask" xrefstyle="HeadingOnPage"/>
   </para>
  </callout>
  <callout arearefs="co-ay-general-cio-ignore" arch="zseries">
   <para>
    
    <xref linkend="CreateProfile-General-cio-ignore" xrefstyle="HeadingOnPage"/>
   </para>
  </callout>
  <callout arearefs="co-ay-general-mode">
   <para>
    
    <xref linkend="CreateProfile-General-mode" xrefstyle="HeadingOnPage"/>
   </para>
  </callout>
  <callout arearefs="co-ay-general-proposal">
   <para>
    
    <xref linkend="CreateProfile-General-proposal" xrefstyle="HeadingOnPage"/>
   </para>
  </callout>
  
  <callout arearefs="co-ay-general-semi">
   <para>
    
    <xref linkend="CreateProfile-General-semi-automatic" xrefstyle="HeadingOnPaqge"/>
   </para>
  </callout>
  
  <callout arearefs="co-ay-general-storage">
   <para>
    
    <xref linkend="CreateProfile-Partitioning" xrefstyle="HeadingOnPage"/>
   </para>
  </callout>
  
 </calloutlist>

 <sect2 xml:id="CreateProfile-General-mode">
  <title>The mode section</title>
  <para>
   The mode section configures the behavior of AutoYaST with regard to user
   confirmations and rebooting. The following elements are allowed in the
   <tag class="element">mode</tag> section:
  </para>
  <variablelist>
   
   <varlistentry>
    <term><tag class="element">confirm</tag></term>
    <listitem>
     <para>
      By default, the installation stops at the <guimenu>Installation
      Settings</guimenu> screen. Up to this point, no changes have been made to
      the system and settings may be changed on this screen. To proceed and
      finally start the installation, the user needs to confirm the settings.
      By setting this value to <literal>false</literal> the settings are
      automatically accepted and the installation starts. Only set to
      <literal>false</literal> to carry out a fully unattended installation.
      Setting this value is optional. The default is <literal>true</literal>.
     </para>
<screen>&lt;general&gt;
 &lt;mode&gt;
  &lt;confirm config:type="boolean"&gt;true&lt;/confirm&gt;
 &lt;/mode&gt;
 ...
&lt;/general&gt;</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><tag class="element">confirm_base_product_license</tag></term>
    <listitem>
     <para>
      If you set this to <literal>true</literal>, the EULA of the base product
      will be shown. The user needs to accept this license. Otherwise the
      installation will be canceled. Setting this value is optional. The
      default is <literal>false</literal>. 
     </para>
<screen>&lt;general&gt;
 &lt;mode&gt;
  &lt;confirm_base_product_license config:type="boolean"&gt;
   false
  &lt;/confirm_base_product_license&gt;
 &lt;/mode&gt;
 ...
&lt;/general&gt;</screen>
    </listitem>
   </varlistentry>
   
   
   
   
   <varlistentry>
    <term><tag class="element">halt</tag></term>
    <listitem>
     <para>
      Shuts down the machine after the first stage. All packages and the boot
      loader have been installed and all your chroot scripts have run.
      <phrase os="slemicro">After the installation is complete,
      the machine is turned off instead of rebooting.</phrase> Setting this
      value is optional. The default is <literal>false</literal>.
     </para>
<screen>&lt;general&gt;
 &lt;mode&gt;
  &lt;halt config:type="boolean"&gt;false&lt;/halt&gt;
 &lt;/mode&gt;
 ...
&lt;/general&gt;</screen>
    </listitem>
   </varlistentry>
   
   <varlistentry>
    <term><tag class="element">ntp_sync_time_before_installation</tag></term>
    <listitem>
     <para>
      Specify the NTP server with which to synchronize time before starting the
      installation. Time synchronization will only occur if this option is set.
      Keep in mind that you need a network connection and access to a time
      server. Setting this value is optional. By default no time
      synchronization will occur.
     </para>
<screen>&lt;general&gt;
     &lt;mode&gt;
      &lt;ntp_sync_time_before_installation&gt;
       &amp;ntpname;
      &lt;/max_systemd_wait&gt;
     &lt;/mode&gt;
     ...
    &lt;/general&gt;</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><tag class="element">second_stage</tag></term>
    <listitem>
     
     <para os="slemicro">
      Set the value to <literal>false</literal> to apply all options of the
      AutoYaST profile for SLE Micro.
     </para>

<screen os="slemicro">&lt;general&gt;
 &lt;mode&gt;
  &lt;second_stage config:type="boolean"&gt;false&lt;/second_stage&gt;
 &lt;/mode&gt;
 ...
&lt;/general&gt;</screen>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect2>

 <sect2 xml:id="CreateProfile-General-proposal">
  <title>Configuring the installation settings screen</title>
  <para>
   AutoYaST allows you to configure the <guimenu>Installation Settings</guimenu>
   screen, which shows a summary of the installation settings. On this screen,
   the user can change the settings before confirming them to start the
   installation. Using the <tag class="element">proposal</tag> tag, you can
   control which settings (<quote>proposals</quote>) are shown in the
   installation screen. A list of valid proposals for your products is
   available from the <filename>/control.xml</filename> file on the
   installation medium. This setting is optional. By default all configuration
   options will be shown.
  </para>
<screen>&lt;proposals config:type="list"&gt;
 &lt;proposal&gt;partitions_proposal&lt;/proposal&gt;
 &lt;proposal&gt;timezone_proposal&lt;/proposal&gt;
 &lt;proposal&gt;software_proposal&lt;/proposal&gt;
&lt;/proposals&gt;</screen>
 </sect2>

 

 <sect2 xml:id="CreateProfile-General-semi-automatic">
  <title>The semi-automatic section</title>
  <para>
   AutoYaST offers to start some YaST modules during the installation. This
   gives administrators installing the machine the ability to
   manually configure some aspects of the installation, while also
   automating the rest of the installation. Within the semi-automatic
   section, you can start the following YaST modules:
  </para>
  <itemizedlist>
   <listitem>
    <para>
     The network settings module (<literal>networking</literal>)
    </para>
   </listitem>
   <listitem>
    <para>
     The partitioner (<literal>partitioning</literal>)
    </para>
   </listitem>
   <listitem>
    <para>
     The registration module (<literal>scc</literal>)
    </para>
   </listitem>
  </itemizedlist>
  <para>
   The following example starts all three supported YaST modules during the
   installation:
  </para>
<screen>&lt;general&gt;
 &lt;semi-automatic config:type="list"&gt;
  &lt;semi-automatic_entry&gt;networking&lt;/semi-automatic_entry&gt;
  &lt;semi-automatic_entry&gt;scc&lt;/semi-automatic_entry&gt;
  &lt;semi-automatic_entry&gt;partitioning&lt;/semi-automatic_entry&gt;
 &lt;/semi-automatic&gt;
&lt;/general&gt;</screen>
 </sect2>

 <sect2 xml:id="CreateProfile-General-signature">
  <title>The signature handling section</title>
  <para>
   By default AutoYaST will only install signed packages from sources with known
   GPG keys. Use this section to overwrite the default settings.
  </para>
  <warning>
   <title>Overwriting the signature handling defaults</title>
   <para>
    Installing unsigned packages, packages with failing checksum checks, or
    packages from sources you do not trust is a major security risk. Packages
    may have been modified and may install malicious software on your machine.
    Only overwrite the defaults in this section if you are sure the repository
    and packages can be trusted. SUSE is not responsible for any problems
    arising from software installed with integrity checks disabled.
   </para>
  </warning>
  <para>
   Default values for all options are false. If an option is set to false and a
   package or repository fails the respective test, it is silently ignored and
   will not be installed.
  </para>
  <variablelist>
   <varlistentry>
    <term><tag class="element">accept_unsigned_file</tag></term>
    <listitem>
     <para>
      If set to <literal>true</literal>, AutoYaST will accept unsigned files like
      the content file.
     </para>
<screen>&lt;general&gt;
 &lt;signature-handling&gt;
  &lt;accept_unsigned_file config:type="boolean"&gt;
   false
  &lt;/accept_unsigned_file&gt;
 &lt;/signature-handling&gt;
 ...
&lt;general&gt;</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><tag class="element">accept_file_without_checksum</tag></term>
    <listitem>
     <para>
      If set to <literal>true</literal>, AutoYaST will accept files without a
      checksum in the content file.
     </para>
<screen>&lt;general&gt;
 &lt;signature-handling&gt;
  &lt;accept_file_without_checksum config:type="boolean"&gt;
   false
  &lt;/accept_file_without_checksum&gt;
 &lt;/signature-handling&gt;
 ...
&lt;general&gt;</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><tag class="element">accept_verification_failed</tag></term>
    <listitem>
     <para>
      If set to <literal>true</literal>, AutoYaST will accept signed files even
      when the signature verification fails.
     </para>
<screen>&lt;general&gt;
 &lt;signature-handling&gt;
  &lt;accept_verification_failed config:type="boolean"&gt;
   false
  &lt;/accept_verification_failed&gt;
 &lt;/signature-handling&gt;
 ...
&lt;general&gt;</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><tag class="element">accept_unknown_gpg_key</tag></term>
    <listitem>
     <para>
      If set to <literal>true</literal>, AutoYaST will accept new GPG keys of the
      installation sources, for example the key used to sign the content file.
     </para>
<screen>&lt;general&gt;
 &lt;signature-handling&gt;
  &lt;accept_unknown_gpg_key config:type="boolean"&gt;
   false
  &lt;/accept_unknown_gpg_key&gt;
 &lt;/signature-handling&gt;
 ...
&lt;general&gt;</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><tag class="element">accept_non_trusted_gpg_key</tag></term>
    <listitem>
     <para>
      Set this option to <literal>true</literal> to accept known keys you have
      not yet trusted.
     </para>
<screen>&lt;general&gt;
 &lt;signature-handling&gt;
  &lt;accept_non_trusted_gpg_key config:type="boolean"&gt;
   false
  &lt;/accept_non_trusted_gpg_key&gt;
 &lt;/signature-handling&gt;
 ...
&lt;general&gt;</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><tag class="element">import_gpg_key</tag></term>
    <listitem>
     <para>
      If set to <literal>true</literal>, AutoYaST will accept and import new GPG
      keys on the installation source in its database.
     </para>
<screen>&lt;general&gt;
 &lt;signature-handling&gt;
  &lt;import_gpg_key config:type="boolean"&gt;
   false
  &lt;/import_gpg_key&gt;
 &lt;/signature-handling&gt;
 ...
&lt;general&gt;</screen>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect2>

 

 <sect2 xml:id="CreateProfile-General-cio-ignore" arch="zseries">
  <title>Blacklisting unused devices on IBM Z</title>
  <para>
   On IBM Z, you can prevent the kernel from looking at unused hardware
   devices by running <command>cio_ignore</command> and blacklisting them. This
   is done by setting the AutoYaST parameter with the same name to
   <literal>true</literal>. Setting this value is optional and only applies to
   installations on IBM Z hardware. The default is
   <literal>false</literal>.
  </para>
<screen>&lt;general&gt;
 &lt;cio_ignore config:type="boolean"&gt;false&lt;/cio_ignore&gt;
 ...
&lt;general&gt;</screen>
 </sect2>

 <sect2 xml:id="CreateProfile-General-example-common">
  <title>Examples for the <tag class="element">general</tag> section</title>
  <para>
   Find examples covering several use cases in this section.
  </para>
  <example xml:id="ex-general-common">
   <title>General options</title>
   <para>
    This example shows the most commonly used options in the general section.
    The scripts in the pre- and post-modules sections are only dummy scripts
    illustrating the concept.
   </para>

<screen os="slemicro">
&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE profile&gt;
&lt;profile xmlns="http://www.suse.com/1.0/yast2ns"
 xmlns:config="http://www.suse.com/1.0/configns"&gt;
 &lt;general&gt;
  &lt;mode&gt;
   &lt;halt config:type="boolean"&gt;false&lt;/halt&gt;
   &lt;forceboot config:type="boolean"&gt;false&lt;/forceboot&gt;
   &lt;final_reboot config:type="boolean"&gt;false&lt;/final_reboot&gt;
   &lt;final_halt config:type="boolean"&gt;false&lt;/final_halt&gt;
   &lt;confirm_base_product_license config:type="boolean"&gt;
    false
   &lt;/confirm_base_product_license&gt;
   &lt;confirm config:type="boolean"&gt;true&lt;/confirm&gt;
   &lt;second_stage config:type="boolean"&gt;true&lt;/second_stage&gt;
  &lt;/mode&gt;
  &lt;proposals config:type="list"&gt;
   &lt;proposal&gt;partitions_proposal&lt;/proposal&gt;
  &lt;/proposals&gt;
  &lt;self_update config:type="boolean"&gt;true&lt;/self_update&gt;
  &lt;self_update_url&gt;http://example.com/updates/$arch&lt;/self_update_url&gt;
  &lt;signature-handling&gt;
   &lt;accept_unsigned_file config:type="boolean"&gt;
    true
   &lt;/accept_unsigned_file&gt;
   &lt;accept_file_without_checksum config:type="boolean"&gt;
    true
   &lt;/accept_file_without_checksum&gt;
   &lt;accept_verification_failed config:type="boolean"&gt;
    true
   &lt;/accept_verification_failed&gt;
   &lt;accept_unknown_gpg_key config:type="boolean"&gt;
    true
   &lt;/accept_unknown_gpg_key&gt;
   &lt;import_gpg_key config:type="boolean"&gt;true&lt;/import_gpg_key&gt;
   &lt;accept_non_trusted_gpg_key config:type="boolean"&gt;
   true
   &lt;/accept_non_trusted_gpg_key&gt;
  &lt;/signature-handling&gt;
  &lt;/general&gt;
&lt;/profile&gt;
</screen>
  </example>
 </sect2>
</sect1>
