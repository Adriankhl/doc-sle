<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="deployment_prep_zseries.xml" version="5.0" xml:id="cha-zseries">
 <title>在 IBM Z 上安裝</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>是</dm:translation>
  </dm:docmanager>
  <abstract>
   <para>
    本章介紹在 IBM Z 上安裝 <phrase role="productname"><phrase os="sles">SUSE® Linux Enterprise Server</phrase></phrase> 的準備程序，其中提供了完成在 LPAR 和 z/VM 一端安裝的準備工作所需的全部資訊。
   </para>
  </abstract>
 </info>
 <xi:include href="deployment_prep_zseries_requirements.xml"/>
 <xi:include href="deployment_prep_zseries_info_i.xml"/>
 <xi:include href="deployment_prep_zseries_prep_i.xml"/>
 <sect1 xml:id="sec-appdendix-parm">
  <title>Parmfile — 自動化系統組態</title>

  <para>
   藉由在 <filename>parmfile</filename> 中指定關鍵參數，即可局部自動化安裝程序。<filename>parmfile</filename> 包含網路設定與 DASD 組態的全部所需資料。除此之外，這個檔案也可以用來設定與 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 安裝系統及其上執行之 YaST 例項建立連接的方式。使用者互動因而限制為由 YaST 對話方塊控制的實際 YaST 安裝。
  </para>

  <para>
   下列參數可傳遞至安裝常式，安裝常式會將它們視為安裝預設值。所有 IP 位址、伺服器名稱和數值都僅供示範之用。請根據安裝方案所需的設定值來取代此處的值。
  </para>

  <para>
   Parmfile 中的行數上限為 10 行。一行請指定一個以上的參數。參數名稱不區分大小寫。請以空格分隔參數。您可以依任何順序指定參數。請務必將 <literal>PARAMETER=value</literal> 字串保持在同一行。例如︰
  </para>

<screen>Hostname=s390zvm01.suse.de HostIP=10.11.134.65</screen>

  <tip>
   <title>安裝期間使用 IPv6</title>
   <para>
    依預設，您只能為您的機器指定 IPv4 網路位址。若要在安裝期間啟用 IPv6，請在開機提示處輸入以下某個參數︰<literal>ipv6=1</literal> (接受 IPv4 與 IPv6) 或 <literal>ipv6only=1</literal> (僅接受 IPv6)。
   </para>
  </tip>

  <para>
   需要指定一些開機參數。如果缺少這些參數，自動程序便會暫停，並要求您手動輸入相關的值。
  </para>

  <para>
   <xref linkend="cha-boot-parameters"/>中提供了可用開機參數的清單。
  </para>
 </sect1>
 <sect1 xml:id="sec-appdendix-parm-examples">
  <title>Parmfile 範例</title>
  <para>
   parmfile 的容量上限是 860 個字元。一般來說，parmfile 最多只應包含 10 行，且每行不超過 80 個字元。讀取 parmfile 時，將會串連所有行而不加入空格，因此，每行的最後一個字元 (第 80 個字元) 須是 <keycap function="space"/>。
  </para>
  <para>
   若要接收主控台上的潛在錯誤訊息，請使用
  </para>
<screen>linuxrclog=/dev/console</screen>
  <example xml:id="ex-appdendix-parm-ex1">
   <title>使用 VNC 和 AutoYaST 從 NFS 進行安裝的 Parmfile</title>
<screen>ramdisk_size=131072 root=/dev/ram1 ro init=/linuxrc TERM=dumb
instnetdev=osa osainterface=qdio layer2=1 osahwaddr=
pointopoint=192.168.0.1 hostip=192.168.0.2
nameserver=192.168.0.3
install=nfs://192.168.0.4/SLES/SLES-12-Server/s390x/DVD1
autoyast=http://192.168.0.5/autoinst.xml
linuxrclog=/dev/console vnc=1 VNCPassword=testing</screen>
  </example>
  <example xml:id="ex-appdendix-parm-ex2">
   <title>透過 NFS、SSH 與 HSI 以及使用 NFS 之 AutoYaST 進行安裝的 Parmfile。</title>
<screen>ramdisk_size=131072 root=/dev/ram1 ro init=/linuxrc TERM=dumb
AutoYast=nfs://192.168.1.1/autoinst/s390.xml
Hostname=zsystems.example.com HostIP=192.168.1.2
Gateway=192.168.1.3 Nameserver=192.168.1.4
InstNetDev=hsi layer2=0
Netmask=255.255.255.128 Broadcast=192.168.1.255
readchannel=0.0.702c writechannel=0.0.702d datachannel=0.0.702e
install=nfs://192.168.1.5/SLES-12-Server/s390x/DVD1/
ssh=1 ssh.password=testing linuxrclog=/dev/console</screen>
  </example>
  <example xml:id="ex-appdendix-parm-ex3">
   <title>用於在 VLAN 中安裝的 Parmfile</title>
<screen>ro ramdisk_size=50000 MANUAL=0 PORTNO=1 ReadChannel=0.0.b140
WriteChannel=0.0.b141 DataChannel=0.0.b142
cio_ignore=all,!condev,!0.0.b140-0.0.b142,!0.0.e92c,!0.0.5000,!0.0.5040
HostIP= Gateway= Hostname=zsystems.example.com nameserver=192.168.0.1
Install=ftp://user:password@10.0.0.1/s390x/SLES15.0/INST/ usevnc=1
vncpassword=12345 InstNetDev=osa Layer2=1 OSAInterface=qdio ssl_certs=0
osahwaddr= domain=example.com self_update=0
ifcfg=eth0.201=192.168.0.2/16,192.168.0.1</screen>
  </example>
 </sect1>
 <sect1 xml:id="sec-appdendix-vt220">
  <title>使用 vt220 終端機模擬器</title>

  <para>
   最新的微碼層級除了標準行模式終端機以外，還允許使用整合式 vt220 終端機模擬器 (ASCII 終端機)。vt220 終端機連接到 <filename>/dev/ttysclp0</filename>。行模式終端機連接到 <filename>/dev/ttysclp_line0</filename>。對於 LPAR 安裝，預設已啟動 vt220 終端機模擬器。
  </para>

  <para>
   若要在 HMC 上啟動 ASCII 主控台，請登入 HMC，然後選取<menuchoice> <guimenu>系統管理</guimenu>
   <guimenu>系統</guimenu>
   <guimenu><phrase><replaceable>影像 ID</replaceable></phrase>
   </guimenu></menuchoice>。選取 LPAR 對應的選項圓鈕，然後選取<menuchoice> <guimenu>復原</guimenu> <guimenu>整合式 ASCII 主控台</guimenu> </menuchoice>。
  </para>

  <para>
   為了讓開機時的核心訊息從系統主控台重新導向至 vt220 終端機，請將下列項目新增到 <filename>/etc/zipl.conf</filename> 中的 <literal>parameters</literal> 行︰
  </para>

<screen>console=ttysclp0 console=ttysclp_line0</screen>

  <para>
   產生的 <literal>parameters</literal> 行應該看起來如下例所示︰
  </para>

<screen>parameters = "root=/dev/dasda2 TERM=dumb console=ttysclp0 console=ttysclp_line0"</screen>

  <para>
   在 <filename>/etc/zipl.conf</filename> 中儲存變更，執行 <command>zipl</command>，並重新啟動系統。
  </para>
 </sect1>
 <sect1 xml:id="sec-appdendix-further-information">
  <title>關於 IBM Z 的更深入資訊</title>

  <para>
   IBM Redbooks (<link xlink:href="https://www.redbooks.ibm.com/Redbooks.nsf/domains/zsystems"/>) 或 IBM developerWorks (<link xlink:href="https://www.ibm.com/developerworks/linux/linux390/"/>) 上提供了更多深入的 IBM Z 相關技術文件。<link xlink:href="https://www.ibm.com/developerworks/linux/linux390/documentation_suse.html"/> 上提供了 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 特定的文件。
  </para>

  <sect2 xml:id="sec-intro-further-information-general">
   <title>有關 Linux on IBM Z 的一般文件</title>
   <para>
    下列文件提供了 Linux on IBM Z 的一般資訊︰
   </para>
   <itemizedlist>
    <listitem>
     <para>
      Linux on IBM eServer zSeries and S/390: ISP and ASP Solutions (IBM eServer zSeries 與 S/390 上的 Linux︰ISP 與 ASP 解決方案) (SG24-6299)
     </para>
    </listitem>
   </itemizedlist>
   <para>
    這些文件可能無法反映 Linux 的最新狀態，但其中描述的 Linux 部署原則依舊正確。
   </para>
  </sect2>

  <sect2 xml:id="sec-intro-further-information-technical">
   <title>Linux on IBM Z 的技術問題</title>
   <para>
    請參閱下列文件以取得有關 Linux 核心與應用程式主題的詳盡技術資訊。如需這些文件的最新版本以取得最近期的程式碼，請瀏覽網際網路 (<link xlink:href="http://www.ibm.com/developerworks/linux/linux390/index.html"/>)。
   </para>
   <itemizedlist>
    <listitem>
     <para>
      Linux on System z Device Drivers, Features, and Commands (Linux on System z 裝置驅動程式、功能和指令)
     </para>
    </listitem>
    <listitem>
     <para>
      zSeries ELF Application Binary Interface Supplement (zSeries ELF 應用程式二進位檔介面補充)
     </para>
    </listitem>
    <listitem>
     <para>
      Linux on System z Device Drivers, Using the Dump Tools (Linux on System z 裝置驅動程式，使用 Dump 工具)
     </para>
    </listitem>
    <listitem>
     <para>
      IBM zEnterprise 196 技術指南
     </para>
    </listitem>
    <listitem>
     <para>
      IBM zEnterprise EC12 技術指南
     </para>
    </listitem>
    <listitem>
     <para>
      IBM z13 技術指南
     </para>
    </listitem>
    <listitem>
     <para>
      IBM z14 技術指南
     </para>
    </listitem>
   </itemizedlist>
   <para>
    <link xlink:href="http://www.redbooks.ibm.com"/> 上也提供了一本有關 Linux 應用程式開發的紅皮書︰
   </para>
   <itemizedlist>
    <listitem>
     <para>
      Linux on IBM eServer zSeries and S/390: Application Development (IBM eServer zSeries 與 S/390 上的 Linux︰應用程式開發) (SG24-6807)
     </para>
    </listitem>
   </itemizedlist>
  </sect2>

  <sect2 xml:id="sec-info-further-information-advanced">
   <title>Linux on IBM Z 進階組態</title>
   <para>
    請參閱下列 Redbook、Redpaper 和連結，以瞭解更複雜的 IBM Z 方案︰
   </para>
   <itemizedlist>
    <listitem>
     <para>
      Linux on IBM eServer zSeries and S/390: Large Scale Deployment (IBM eServer zSeries 與 S/390 上的 Linux︰大規模部署) (SG24-6824)
     </para>
    </listitem>
    <listitem>
     <para>
      Linux on IBM eServer zSeries and S/390: Performance Measuring and Tuning (IBM eServer zSeries 與 S/390 上的Linux︰效能測量與調整) (SG24-6926)
     </para>
    </listitem>
    <listitem>
     <para>
      Linux with zSeries and ESS: Essentials ( zSeries 與 ESS 上的 Linux︰基本功能) (SG24-7025)
     </para>
    </listitem>
    <listitem>
     <para>
      IBM TotalStorage Enterprise Storage Server Implementing ESS Copy Services with IBM eServer zSeries (IBM TotalStorage Enterprise Storage Server 實作 ESS Copy Service 與 IBM eServer zSeries) (SG24-5680)
     </para>
    </listitem>
    <listitem>
     <para>
      Linux on IBM zSeries and S/390: High Availability for z/VM and Linux (IBM zSeries 與 S/390 上的 Linux︰z/VM 與 Linux 的高可用性) (REDP-0220)
     </para>
    </listitem>
    <listitem>
     <para>
      儲存區段之規劃與管理
     </para>
     <para>
      <link xlink:href="http://publibz.boulder.ibm.com/epubs/pdf/hcsg4a00.pdf"/>
     </para>
    </listitem>
    <listitem>
     <para>
      System z 上的 Linux 文件︰開發資料流
     </para>
     <para>
      <link xlink:href="http://www.ibm.com/developerworks/linux/linux390/development_documentation.html"/>
     </para>
    </listitem>
   </itemizedlist>
  </sect2>
 </sect1>
</chapter>
