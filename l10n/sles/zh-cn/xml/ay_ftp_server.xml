<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="ay_ftp_server.xml" version="5.0" xml:id="Configuration-Network-Ftp">
  <title>FTP 服务器</title>

 <info>
      <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
        <dm:bugtracker/>
        <dm:translation>是</dm:translation>
      </dm:docmanager>
    </info>
    <para>
     配置 FTP 因特网服务器设置
    </para>
    <example>
     <title>FTP 服务器配置：</title>
<screen>
  &lt;ftp-server&gt;
    &lt;AnonAuthen&gt;2&lt;/AnonAuthen&gt;
    &lt;AnonCreatDirs&gt;NO&lt;/AnonCreatDirs&gt;
    &lt;AnonMaxRate&gt;0&lt;/AnonMaxRate&gt;
    &lt;AnonReadOnly&gt;NO&lt;/AnonReadOnly&gt;
    &lt;AntiWarez&gt;YES&lt;/AntiWarez&gt;
    &lt;Banner&gt;Welcome message&lt;/Banner&gt;
    &lt;CertFile/&gt;
    &lt;ChrootEnable&gt;NO&lt;/ChrootEnable&gt;
    &lt;EnableUpload&gt;YES&lt;/EnableUpload&gt;
    &lt;FTPUser&gt;ftp&lt;/FTPUser&gt;
    &lt;FtpDirAnon&gt;/srv/ftp&lt;/FtpDirAnon&gt;
    &lt;FtpDirLocal/&gt;
    &lt;GuestUser/&gt;
    &lt;LocalMaxRate&gt;0&lt;/LocalMaxRate&gt;
    &lt;MaxClientsNumber&gt;10&lt;/MaxClientsNumber&gt;
    &lt;MaxClientsPerIP&gt;3&lt;/MaxClientsPerIP&gt;
    &lt;MaxIdleTime&gt;15&lt;/MaxIdleTime&gt;
    &lt;PasMaxPort&gt;40500&lt;/PasMaxPort&gt;
    &lt;PasMinPort&gt;40000&lt;/PasMinPort&gt;
    &lt;PassiveMode&gt;YES&lt;/PassiveMode&gt;
    &lt;SSL&gt;0&lt;/SSL&gt;
    &lt;SSLEnable&gt;NO&lt;/SSLEnable&gt;
    &lt;SSLv2&gt;NO&lt;/SSLv2&gt;
    &lt;SSLv3&gt;NO&lt;/SSLv3&gt;
    &lt;StartDaemon&gt;2&lt;/StartDaemon&gt;
    &lt;TLS&gt;YES&lt;/TLS&gt;
    &lt;Umask/&gt;
    &lt;UmaskAnon/&gt;
    &lt;UmaskLocal/&gt;
    &lt;VerboseLogging&gt;NO&lt;/VerboseLogging&gt;
    &lt;VirtualUser&gt;NO&lt;/VirtualUser&gt;
  &lt;/ftp-server&gt;
</screen>
    </example>

    <informaltable>
     <tgroup cols="3">
      <thead>
       <row>
        <entry>
         <para>
          元素
         </para>
        </entry>
        <entry>
         <para>
          说明
         </para>
        </entry>
        <entry>
         <para>
          注释
         </para>
        </entry>
       </row>
      </thead>
      <tbody>
       <row>
        <entry>
         <para>
          <literal>AnonAuthen</literal>
         </para>
        </entry>
        <entry>
         <para>
          启用/禁用匿名用户和本地用户。
         </para>
        </entry>
        <entry>
         <para>
          仅经身份验证的用户：1；仅匿名：0；两者：2
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>AnonCreatDirs</literal>
         </para>
        </entry>
        <entry>
         <para>
         匿名用户可以创建目录。
         </para>
        </entry>
        <entry>
         <para>
         值：YES/NO
        </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>AnonReadOnly</literal>
         </para>
        </entry>
        <entry>
         <para>
         匿名用户可以上载。
         </para>
        </entry>
        <entry>
         <para>
          值：YES/NO
          </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>AnonMaxRate</literal>
         </para>
        </entry>
        <entry>
         <para>
          允许匿名客户端使用的最大数据传输速率。
         </para>
        </entry>
        <entry>
         <para>
          KB/秒
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>AntiWarez</literal>
         </para>
        </entry>
        <entry>
         <para>
          禁止下载已上载但未经本地管理员验证的文件。
         </para>
        </entry>
        <entry>
         <para>
          值：YES/NO
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>Banner</literal>
         </para>
        </entry>
        <entry>
         <para>
          指定包含当某人连接到服务器时所显示文本的文件名。
         </para>
        </entry>
        <entry>
         <para/>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>CertFile</literal>
         </para>
        </entry>
        <entry>
         <para>
          用于 SSL 加密连接的 DSA 证书
         </para>
        </entry>
        <entry>
         <para>
          此选项指定用于 SSL 加密连接的 DSA 证书的位置。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>ChrootEnable</literal>
         </para>
        </entry>
        <entry>
         <para>
          如果启用，则本地用户登录后，默认会将他们放置到其主目录中的 <literal>chroot</literal> jail 内。
         </para>
        </entry>
        <entry>
         <para>
          警告：此选项会影响安全性。值：YES/NO
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>EnableUpload</literal>
         </para>
        </entry>
        <entry>
         <para>
          如果启用，则 FTP 用户可以上载。
         </para>
        </entry>
        <entry>
         <para>
          要允许匿名用户上载，请启用 <literal>AnonReadOnly</literal>。值：YES/NO
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>FTPUser</literal>
         </para>
        </entry>
        <entry>
         <para>
          定义匿名 FTP 用户。
         </para>
        </entry>
        <entry>
         <para>
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>FtpDirAnon</literal>
         </para>
        </entry>
        <entry>
         <para>
          匿名用户的 FTP 目录。
         </para>
        </entry>
        <entry>
         <para>
          指定匿名 FTP 用户使用的目录。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>FtpDirLocal</literal>
         </para>
        </entry>
        <entry>
         <para>
          经身份验证的用户的 FTP 目录。
         </para>
        </entry>
        <entry>
         <para>
          指定经过身份验证的 FTP 用户使用的目录。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>LocalMaxRate</literal>
         </para>
        </entry>
        <entry>
         <para>
          指定允许经身份验证的本地用户使用的最大数据传输速率。
         </para>
        </entry>
        <entry>
         <para>
          KB/秒
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>MaxClientsNumber</literal>
         </para>
        </entry>
        <entry>
         <para>
          允许连接的最大客户端数。
         </para>
        </entry>
        <entry>
         <para>
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>MaxClientsPerIP</literal>
         </para>
        </entry>
        <entry>
         <para>
          定义一个 IP 的最大客户端数。
         </para>
        </entry>
        <entry>
         <para>
          此元素用于限制允许从单个源因特网地址连接的客户端数。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>MaxIdleTime</literal>
         </para>
        </entry>
        <entry>
         <para>
          两个 FTP 命令之间远程客户端的最大等待时间（超时）。
         </para>
        </entry>
        <entry>
         <para>
          分钟
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>PasMaxPort</literal>
         </para>
        </entry>
        <entry>
         <para>
          用于被动连接答复的端口范围最大值。
         </para>
        </entry>
        <entry>
         <para>
          <literal>PassiveMode</literal> 需设置为 YES。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>PasMinPort</literal>
         </para>
        </entry>
        <entry>
         <para>
          用于被动连接答复的端口范围最小值。
         </para>
        </entry>
        <entry>
         <para>
          <literal>PassiveMode</literal> 需设置为 YES。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>PassiveMode</literal>
         </para>
        </entry>
        <entry>
         <para>
          启用被动模式
         </para>
        </entry>
        <entry>
         <para>
         值：YES/NO
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>SSL</literal>
         </para>
        </entry>
        <entry>
         <para>
          安全性设置
         </para>
        </entry>
        <entry>
         <para>
         禁用 SSL/TLS：0；接受 SSL 和 TLS：1；拒绝非 SSL/TLS 连接：2
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>SSLEnable</literal>
         </para>
        </entry>
        <entry>
         <para>
          如果启用，则允许 SSL 连接。
         </para>
        </entry>
        <entry>
         <para>
          值：YES/NO
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>SSLv2</literal>
         </para>
        </entry>
        <entry>
         <para>
          如果启用，则允许 SSL 版本 2 连接。
         </para>
        </entry>
        <entry>
         <para>
          值：YES/NO
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>SSLv3</literal>
         </para>
        </entry>
        <entry>
         <para>
          如果启用，则允许 SSL 版本 3 连接。
         </para>
        </entry>
        <entry>
         <para>
          值：YES/NO
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>StartDaemon</literal>
         </para>
        </entry>
        <entry>
         <para>
          如何启动 FTP 守护程序。
         </para>
        </entry>
        <entry>
         <para>
          手动：0；引导时：1；通过 <systemitem class="daemon">systemd</systemitem> 套接字：2
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>TLS</literal>
         </para>
        </entry>
        <entry>
         <para>
          如果启用，则允许 TLS 连接。
         </para>
        </entry>
        <entry>
         <para>
          值：YES/NO
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>Umask</literal>
         </para>
        </entry>
        <entry>
         <para>
          文件创建掩码，采用“(文件的 umask):(目录的 umask)”格式。
         </para>
        </entry>
        <entry>
         <para>
          例如，如果您存有怀疑，请将其设置为 <literal>177:077</literal>。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>UmaskAnon</literal>
         </para>
        </entry>
        <entry>
         <para>
          为匿名用户设置的文件创建 umask 的值。
         </para>
        </entry>
        <entry>
         <para>
          要指定八进制值，请记得添加“0”前缀，否则会将该值视为十进制整数。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>UmaskLocal</literal>
         </para>
        </entry>
        <entry>
         <para>
          经身份验证的用户的 Umask。
         </para>
        </entry>
        <entry>
         <para>
          要指定八进制值，请记得添加“0”前缀，否则会将该值视为十进制整数。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>VerboseLogging</literal>
         </para>
        </entry>
        <entry>
         <para>
          如果启用，则记录所有 FTP 请求和响应。
         </para>
        </entry>
        <entry>
         <para>
          值：YES/NO
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>VirtualUser</literal>
         </para>
        </entry>
        <entry>
         <para>
          使用虚拟用户可以在不影响系统帐户的情况下管理 FTP 帐户。
         </para>
        </entry>
        <entry>
         <para>
          值：YES/NO
         </para>
        </entry>
       </row>
      </tbody>
     </tgroup>
    </informaltable>

    <note>
      <title>防火墙</title>
      <para>
      需要指定正确的防火墙设置才能让 FTP 服务器正常运行。
      </para>
    </note>
   </sect1>
