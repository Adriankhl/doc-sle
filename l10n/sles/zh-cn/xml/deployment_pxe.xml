<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="deployment_pxe.xml" version="5.0" role="General" xml:id="cha-deployment-prep-pxe">
 <title>准备网络引导环境</title>
 <info>
  <abstract>
   <para>
    本章介绍如何配置 DHCP 和 TFTP 服务器，以提供所需的基础结构来通过 PXE 进行引导。
   </para>
  </abstract>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>是</dm:translation>
  </dm:docmanager>
 </info>

 <para>
  可以通过预引导执行环境 (PXE) 安装 <phrase role="productname"><phrase os="sles">SUSE® Linux Enterprise Server</phrase></phrase>。客户端硬件需支持通过 PXE 引导。网络需要提供 DHCP 服务器和 TFTP 服务器，以向客户端提供所需的数据。本章将引导您设置所需的服务器。
 </para>
 <para>
  PXE 只会引导内核和 initrd。可以使用此方法引导进入安装环境或在线系统。要设置安装源，请参见<xref linkend="cha-deployment-instserver"/>。
 </para>
 <para>
  此部分讨论复杂引导场景中需要的配置任务。其中包含了 DHCP、PXE 引导、TFTP 和网络唤醒的“准备应用”配置示例。
 </para>
 <para>
  这些示例假设 DHCP、TFTP 和 NFS 服务器驻留在 IP 为 <literal>192.168.1.1</literal> 的同一计算机上。所有服务都可以驻留在不同的计算机上，且不会产生任何问题。请务必根据需要更改 IP 地址。
 </para>
 <sect1 xml:id="sec-deployment-dhcp-server">
  <title>设置 DHCP 服务</title>
  <para>
   除了向网络客户端提供自动地址分配外，DHCP 服务器还会通告 TFTP 服务器的 IP 地址，以及内核和 Initrd 文件的路径。需要装载哪些文件取决于目标计算机的体系结构，以及使用的是传统的 BIOS 还是 UEFI 引导方式。客户端会在 DHCP 请求中传输其体系结构类型。DHCP 服务器可以根据此信息确定必须下载哪些文件用于引导。
  </para>
  <procedure xml:id="pro-deployment-dhcp-server">
   <step>
    <para>
     以 <systemitem class="username">root</systemitem> 登录到主管 DHCP 服务器的计算机。
    </para>
   </step>
   <step>
    <para>
     通过执行 <command>systemctl enable dhcpd</command> 启用 DHCP 服务器。
    </para>
   </step>
   <step>
    <para>
     向位于 <filename>/etc/dhcpd.conf</filename> 的 DHCP 服务器配置文件中的子网配置追加以下几行：
    </para>
<screen># The following lines are optional
option domain-name "my.lab";
option domain-name-servers 192.168.1.1;
option routers 192.168.1.1;
option ntp-servers 192.168.1.1;
ddns-update-style none;
default-lease-time 3600;

# The following lines are required
option arch code 93 = unsigned integer 16; # RFC4578
subnet 192.168.1.0 netmask 255.255.255.0 {
 next-server 192.168.1.1;
 range 192.168.1.100 192.168.1.199;
 default-lease-time 3600;
 max-lease-time 3600;
 if option arch = 00:07 or option arch = 00:09 {
   filename "/EFI/x86/grub.efi";
 }
 else if option arch = 00:0b {
   filename "/EFI/aarch64/bootaa64.efi";
 }
 else  {
   filename "/BIOS/x86/pxelinux.0";
 }
}</screen>
    <para>
     此配置示例使用的子网为 <literal>192.168.1.0/24</literal>，DHCP、DNS 和网关配置在 IP 为 <literal>192.168.1.1</literal> 的服务器上。请务必根据您的网络布局更改使用的所有 IP 地址。关于 <filename>dhcpd.conf</filename> 中可用选项的更多信息，请参见 <systemitem>dhcpd.conf</systemitem> 手册页。
    </para>
   </step>
   <step>
    <para>
     执行 <command>systemctl restart dhcpd</command> 重启动 DHCP 服务器。
    </para>
   </step>
  </procedure>
  <para>
   如果打算使用 SSH 来远程控制 PXE 和网络唤醒安装，请指定 DHCP 应提供给安装目标的 IP 地址。要实现此设置，请根据以下示例修改上述的 DHCP 配置：
  </para>
<screen>group {
 host test {
   hardware ethernet <replaceable>MAC_ADDRESS</replaceable>;
   fixed-address <replaceable>IP_ADDRESS</replaceable>;
   }
}
</screen>
  <para>
   host 语句引入了安装目标的主机名。要将主机名和 IP 地址与特定主机绑定，则必须了解系统的硬件 (NAC) 地址并指定它。请将本例中使用的所有变量替换为符合您环境的实际值。
  </para>
  <para>
   在重启动 DHCP 服务器之后，它将向所指定的主机提供一个静态 IP，从而使您能够通过 SSH 连接到该系统。
  </para>
 </sect1>

 <sect1 xml:id="sec-deployment-tftp-server">
  <title>设置 TFTP 服务器</title>
  <para>
   以下过程介绍如何在 32 位和 64 位 x86 体系结构上为配有 UEFI 和 BIOS 的目标计算机准备服务器。已经为 AArch64 系统提供了准备好的结构。
  </para>
  <sect2 xml:id="sec-deployment-tftp-server-install">
   <title>安装 TFTP 服务器</title>
   <para>
    要安装 TFTP 服务器，请执行以下过程：
   </para>

   <procedure>
    <step>
     <para>
      安装 <systemitem>tftp</systemitem> 包。
     </para>
     <screen><prompt>tux &gt; </prompt><command>sudo</command> <command>zypper in tftp</command></screen>
    </step>
    <step>
     <para>
      检查 <filename>/etc/sysconfig/tftp</filename> 中的 <systemitem class="daemon">tftpd</systemitem> 配置，并根据需要添加或更改选项。有关更多细节，请参见 <command>man 8 tftpd</command>。不更改该配置，TFTP 守护程序也可正常工作。文件的默认根目录为 <filename>/srv/tftpboot</filename>。
     </para>
    </step>
    <step>
     <para>
      确保 <systemitem class="daemon">tftpd</systemitem> 在引导时已启动，并重启动它以读取新配置。
     </para>
     <screen><prompt>tux &gt; </prompt><command>sudo</command> <command>systemctl enable tftp.socket</command>
<prompt>tux &gt; </prompt><command>sudo</command> <command>systemctl restart tftp.socket</command></screen>
    </step>
   </procedure>
  </sect2>
  <sect2 xml:id="sec-deployment-tftp-server-grub-package">
   <title>安装引导文件</title>
   <para>
    <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 在 RPM 中提供在 BIOS 或 UEFI 计算机上通过 PXE 引导所需的文件。请在运行 TFTP 服务器的计算机上安装这些文件：
   </para>
   <screen><prompt>tux &gt; </prompt><command>sudo</command> <command>zypper in tftpboot-installation-SLES-<replaceable>OS_VERSION</replaceable>-<replaceable>ARCHITECTURE</replaceable></command></screen>
   <para>
    请将 <replaceable>OS_VERSION</replaceable> 替换为 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 安装的版本（例如 <literal>15</literal>），将 <replaceable>ARCHITECTURE</replaceable> 替换为系统的体系结构（例如 <literal>x86_64</literal>）。可以使用 <command>zypper se tftpboot</command> 来搜索所有可用版本和体系结构。
   </para>
   <para>
    文件将安装在 <filename>/srv/tftpboot/SLES-<replaceable>OS_VERSION</replaceable>-<replaceable>ARCHITECTURE</replaceable></filename> 中。您也可以将 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 的其他版本和体系结构的相应文件复制到 <filename>/srv/tftpboot</filename> 目录。
   </para>
   <note>
    <title>现有的 <filename>/srv/tftpboot/</filename> 目录</title>
    <para>
     如果您的计算机上已存在目录 <filename>/srv/tftpboot/</filename>，则所有文件将安装到 <filename>/usr/share/tftpboot-installation/</filename>。如果您正在从旧版 SLES 升级 PXE 服务器，就会采用这种安装方式。
    </para>
    <para>
     要修复此问题，请将 <filename>/usr/share/tftpboot-installation/</filename> 中的文件手动复制到 <filename>/srv/tftpboot/</filename>。或者，去除 <filename>/srv/tftpboot/</filename> 并重新安装
     <package>tftpboot-installation-SLES-<replaceable>OS 版本</replaceable>-<replaceable>体系结构</replaceable></package>
     包中提供。
    </para>
   </note>
  </sect2>
  <sect2 xml:id="sec-deployment-tftp-server-pxelinux">
   <title>配置 PXELINUX</title>
   <para>
    在编辑器中打开 <filename>/srv/tftpboot/SLES-<replaceable>OS_VERSION</replaceable>-<replaceable>ARCHITECTURE</replaceable>/net/pxelinux.cfg/default</filename> 文件。根据<xref linkend="cha-deployment-instserver"/>中所述的设置替换 <literal>install</literal> 参数的路径。另外，请将 <replaceable>TFTP_SERVER</replaceable> 替换为 TFTP 服务器的 IP 地址。有关 PXELINUX 配置选项的概述，请参见<xref linkend="sec-deployment-prep-boot-pxeopts"/>。
   </para>
<screen>default linux

# install
label linux
  ipappend 2
  kernel boot/<replaceable>ARCHITECTURE</replaceable>/loader/linux
  append initrd=boot/x86_64/<replaceable>ARCHITECTURE</replaceable>/initrd instsys=tftp://<replaceable>TFTP_SERVER</replaceable>/SLES-<replaceable>OS_VERSION</replaceable>-<replaceable>ARCHITECTURE</replaceable>/boot/<replaceable>ARCHITECTURE</replaceable>/root install=<replaceable>PROTOCOL</replaceable>://<replaceable>SERVER_IP</replaceable>:/<replaceable>PATH</replaceable>

display  message
implicit 1
prompt  1
timeout  50</screen>
   <para>
    有关 <literal>append</literal> 行中使用的引导参数的细节，请参见<xref linkend="sec-boot-parameters-list"/>。
   </para>
   <para>
    如果需要，请编辑 <filename>/srv/tftpboot/SLES-<replaceable>OS_VERSION</replaceable>-<replaceable>ARCHITECTURE</replaceable>/net/pxelinux.cfg/message</filename>，以在引导菜单中显示讯息。
   </para>
  </sect2>
  <sect2 xml:id="sec-deployment-tftp-server-efilinux-x86">
   <title>使用 GRUB2 为 EFI 准备 PXE 引导</title>
   <para>
    您无需更改 GRUB2 配置文件。但是，默认设置中未提供安装系统的网络源。如果您要完全通过网络来安装 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>，请将 <option>install</option> 参数添加到 <filename>/srv/tftpboot/SLES-<replaceable>OS_VERSION</replaceable>-<replaceable>ARCHITECTURE</replaceable>/EFI/BOOT/grub.cfg</filename> 文件中的 <option>linuxefi</option> 行内。根据<xref linkend="cha-deployment-instserver"/>中所述设置 <literal>install</literal> 参数。有关 <literal>efilinux</literal> 行中使用的其他引导参数的细节，请参见<xref linkend="sec-boot-parameters-list"/>。
   </para>
  </sect2>
 </sect1>
 <sect1 xml:id="sec-deployment-prep-boot-pxeopts">
  <title>PXELINUX 配置选项</title>

  <para>
   此处列出的选项是 PXELINUX 配置文件中所有可用选项中的一部分。
  </para>

  <variablelist>
   <varlistentry>
    <term><option>APPEND <replaceable>OPTIONS</replaceable></option>
    </term>
    <listitem>
     <para>
      将一个或多个选项添加到内核命令行。添加的这些选项对自动引导和手动引导都适用。这些选项添加在内核命令行的最前面，通常允许用显式输入的内核选项覆盖它们。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>APPEND -</option>
    </term>
    <listitem>
     <para>
      不追加任何选项。在 <option>LABEL</option> 段中用一个连字符作为参数的 <option>APPEND</option> 可用于覆盖全局 <option>APPEND</option>。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>DEFAULT <replaceable>KERNEL_OPTIONS</replaceable>...</option>
    </term>
    <listitem>
     <para>
      用于设置默认内核命令行。如果 PXELINUX 自动引导，则该选项的作用相当于已在引导提示符处输入了在 DEFAULT 后输入的所有内容（表示自动引导的 auto 选项除外，它是自动添加的）。
     </para>
     <para>
      如果配置文件不存在或其中未定义 DEFAULT 项，则默认使用内核名称<quote>linux</quote>且不带任何选项。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>

    <term><option>IFAPPEND <replaceable>标志</replaceable></option>
    </term>
    <listitem>
     <para>
      根据<replaceable>标志</replaceable>值将特定项添加到内核命令行。只有 PXELINUX 提供 <option>IFAPPEND</option> 项。<replaceable>标志</replaceable>需赋一个值，具体如<xref linkend="tab-deployment-boot-pxeopts-ifappend"/>所述：
     </para>
     <table xml:id="tab-deployment-boot-pxeopts-ifappend">
      <title>从 <option>IFAPPEND</option> 中生成并添加内核命令行选项。</title>
      <tgroup cols="2">
       <colspec colwidth="1*"/>
       <colspec colwidth="4*"/>
       <thead>
        <row>
         <entry valign="middle">
          <para>
           自变量
          </para>
         </entry>
         <entry>
          <para>
           生成内核命令行/说明
          </para>
         </entry>
        </row>
       </thead>
       <tbody>
        <row>
         <entry>
          <para>
           <option>1</option>
          </para>
         </entry>
         <entry>
<screen>ip=<replaceable>CLIENT_IP</replaceable>:<replaceable>BOOT_SERVER_IP</replaceable>:<replaceable>GW_IP</replaceable>:<replaceable>NETMASK</replaceable></screen>
          <para>
           根据从 DHCP//BOOTP 或 PXE 引导服务器输入的内容替换占位符。
          </para>
          <para>
           注，此选项不可替换为在引导系统中运行 DHCP 客户端。若不定期更新，PXE BIOS 所获得的租用将失效，致使 DHCP 服务器可重新使用该 IP 地址。
          </para>
         </entry>
        </row>
        <row>
         <entry>
          <para>
           <option>2</option>
          </para>
         </entry>
         <entry>
<screen>BOOTIF=<replaceable>MAC_ADDRESS_OF_BOOT_INTERFACE</replaceable></screen>
          <para>
           当安装服务器在收到 DHCP 服务器的答复前逐个探测 LAN 接口时，此选项可用于避免超时。使用此选项可让 initrd 程序确定系统是从哪个接口引导的。linuxrc 会读取此选项并使用该网络接口。
          </para>
         </entry>
        </row>
        <row>
         <entry>
          <para>
           <option>4</option>
          </para>
         </entry>
         <entry>
<screen>SYSUUID=<replaceable>SYSTEM_UUID</replaceable></screen>
          <para>
           以小写十六进制添加 UUIDs，具体请参见 <filename>/usr/share/doc/packages/syslinux/pxelinux.txt</filename>
          </para>
         </entry>
        </row>
       </tbody>
      </tgroup>
     </table>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>LABEL <replaceable>LABEL</replaceable> KERNEL <replaceable>IMAGE</replaceable> APPEND <replaceable>OPTIONS</replaceable>...</option>
    </term>
    <listitem>
     <para>
      指示如果输入了 <replaceable>LABEL</replaceable> 作为要引导的内核，则 PXELINUX 应改为引导 <replaceable>IMAGE</replaceable>，并且应使用指定的 <option>APPEND</option> 选项。这些设置会替换文件的 global 部分第一条 <option>LABEL</option> 命令前面指定的设置。<replaceable>IMAGE</replaceable> 的默认值与 <replaceable>LABEL</replaceable> 的相同，如果未指定 <option>APPEND</option>，则默认情况下使用 global 项（如果有）。最多允许 128 个 <option>LABEL</option> 条目。
     </para>

     <para>
      PXELINUX 使用以下语法：
     </para>
<screen>label <replaceable>MYLABEL</replaceable>
  kernel <replaceable>MYKERNEL</replaceable>
  append <replaceable>MYOPTIONS</replaceable></screen>
     <para>
      标签的数据报处理如同文件名一样，它们在数据报处理之后必须唯一。例如，<quote>v2.6.30</quote>和<quote>v2.6.31</quote>这两个标签在 PXELINUX 下是无法区分的，因为它们在数据报处理之后的 DOS 文件名相同。
     </para>
     <para>
      该内核不必是 Linux 内核。它也可以是引导扇区或 COMBOOT 文件。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>LOCALBOOT <replaceable>TYPE</replaceable></option>
    </term>
    <listitem>
     <para>
      在 PXELINUX 上，指定 <option>LOCALBOOT 0</option> 取代 <option>KERNEL</option> 选项表示调用该特定标签，这样就会从本地磁盘引导而不是从内核引导。
     </para>
     <informaltable frame="topbot" rowsep="0">
      <tgroup cols="2">

       <thead>
        <row>
         <entry>
          <para>
           自变量
          </para>
         </entry>
         <entry>
          <para>
           描述
          </para>
         </entry>
        </row>
       </thead>
       <tbody>
        <row>
         <entry>
          <para>
           <literal>0</literal>
          </para>
         </entry>
         <entry>
          <para>
           执行正常引导
          </para>
         </entry>
        </row>
        <row>
         <entry>
          <para>
           <literal>4</literal>
          </para>
         </entry>
         <entry>
          <para>
           在“通用网络驱动程序接口”（UNDI）驱动程序仍然驻留在内存中的情况下执行本地引导
          </para>
         </entry>
        </row>
        <row>
         <entry>
          <para>
           <literal>5</literal>
          </para>
         </entry>
         <entry>
          <para>
           在整个 PXE 堆栈（包括 UNDI 驱动程序）仍然驻留于内存中的情况下执行本地引导
          </para>
         </entry>
        </row>
       </tbody>
      </tgroup>
     </informaltable>
     <para>
      不定义所有其他的值。如果对 UNDI 或 PXE 堆栈不甚了解，请指定 <literal>0</literal>。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>TIMEOUT <replaceable>TIME-OUT</replaceable></option>
    </term>
    <listitem>
     <para>
      表示在自动引导之前在引导提示符下等待的时间（以 1/10 秒为单位）。用户按了键盘上的任意键后，超时将会取消（假设从用户完成命令开始）。如果超时值为零，则将完全禁用超时（这也是默认值）。允许的最大超时值为 35996（即小于一小时）。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>PROMPT<replaceable> flag_val</replaceable></option>
    </term>
    <listitem>
     <para>
      如果 <option>flag_val</option> 为 0，则仅当按下 <keycap function="shift"/> 或 <keycap function="alt"/> 键，或者在 <keycap>Caps Lock</keycap> 或 <keycap>Scroll Lock</keycap> 状态下，才显示引导提示符（这是默认设置）。如果 <option>flag_val</option> 为 1，则始终显示引导提示符。
     </para>
<screen>F2  <replaceable>FILENAME</replaceable>
F1  <replaceable>FILENAME</replaceable>
..etc...
F9  <replaceable>FILENAME</replaceable>
F10 <replaceable>FILENAME</replaceable></screen>
     <para>
      当在引导提示符下按下功能键时，将显示指定的文件。这可以用于执行预引导联机帮助（大致是关于内核命令行选项）。为了向后兼容先前的发行版，<keycap>F10</keycap> 也可以输入为 <literal>F0</literal>。请注意目前尚无法将文件名与 <keycap>F11</keycap> 和 <keycap>F12</keycap> 绑定。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
 <sect1 xml:id="sec-deployment-prep-boot-pxeprep">
  <title>准备目标系统的 PXE 引导</title>

  <para>
   请将 PXE 选项包含在 BIOS 引导序列中来为系统 BIOS 的 PXE 引导作准备。
  </para>

  <warning>
   <title>BIOS 引导顺序</title>
   <para>
    在 BIOS 中，不要将 PXE 选项置于硬盘引导参数的前面。否则，每次引导系统时，系统都会尝试重新自我安装。
   </para>
  </warning>
 </sect1>
 <sect1 xml:id="sec-deployment-prep-boot-wolprep">
  <title>准备目标系统的网络唤醒</title>

  <para>
   网络唤醒 (WOL) 要求在安装之前启用相应的 BIOS 选项。此外，请记下目标系统的 MAC 地址。该数据是启动网络唤醒所需要的。
  </para>
 </sect1>
 <sect1 xml:id="sec-deployment-prep-boot-wol">
  <title>局域网唤醒</title>

  <para>
   “网络唤醒”允许通过一个发送时包含计算机 MAC 地址的特定网络包来打开该计算机的电源。由于全球的每台计算机都有一个唯一的 MAC 标识，所以无需担心会意外地错开计算机的电源。
  </para>

  <important>
   <title>不同网段的“网络唤醒”</title>
   <para>
    如果控制计算机与 WOL 命令的目标不在同一网段，您可以采用两种做法。将 WOL 请求配置为以多路广播形式发送，或者远程控制该网段中的某台计算机，使其充当这些请求的发送方。
   </para>
  </important>

  <para>
   SUSE Linux Enterprise Server 的用户可以使用名为 WOL 的 YaST 模块来方便地配置网络唤醒。基于 SUSE Linux 操作系统的其他版本的用户可以使用命令行工具。
  </para>
 </sect1>
 <sect1 xml:id="sec-deployment-prep-boot-wolyast">
  <title>使用 YaST 的“网络唤醒”</title>
  <para>
   执行以下过程通过 YaST 配置网络唤醒。
  </para>
  <procedure xml:id="pro-deployment-prep-boot-wolyast">
   <step>
    <para>
     以 <systemitem class="username">root</systemitem> 身份登录。
    </para>
   </step>
   <step>
    <para>
     启动 <menuchoice> <guimenu>YaST</guimenu> <guimenu> 网络服务</guimenu> <guimenu> WOL</guimenu></menuchoice>。
    </para>
   </step>
   <step>
    <para>
     单击<guimenu>添加</guimenu>并输入目标系统的主机名和 MAC 地址。
    </para>
   </step>
   <step>
    <para>
     要打开此计算机，请选择适当的输入框并单击<guimenu>唤醒</guimenu>。
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec-deployment-prep-boot-mksusecd">
  <title>从 CD 或 USB 驱动器而非 PXE 引导</title>
  <para>
   您也可以使用包含小型系统映像的 CD、DVD 或 USB 驱动器来引导，而不通过 PXE 引导。装载完内核和 initrd 后，将会通过 NFS 提取必要文件。可使用 <command>mksusecd</command> 创建可引导映像。如果目标计算机不支持 PXE 引导，此选项可能很有用。
  </para>
  <para>
   使用 <command>sudo zypper in mksusecd</command> 可安装该工具。使用以下命令创建可引导 ISO 映像：
  </para>
  <screen><prompt>tux &gt; </prompt><command>mksusecd</command> --create image.iso \
--net=nfs://192.168.1.1:/srv/install/<replaceable>ARCH</replaceable>/<replaceable>OS_VERSION</replaceable>/<replaceable>SP_VERSION</replaceable>/cd1  \
/srv/tftpboot/EFI/<replaceable>ARCH</replaceable>/boot</screen>
  <para>
   将 <replaceable>ARCH</replaceable> 替换为目标系统体系结构对应的目录。另外，根据<xref linkend="sec-deployment-tftp-server"/>中的路径替换 <replaceable>OS_version</replaceable> 和 <replaceable>SP_version</replaceable>。
  </para>
  <para>
   对于 <option>--net</option> 选项，您可以不使用 NFS 服务器，而是使用 HTTP 储存库，例如 openSUSE 储存库：
  </para>
  <screen><prompt>tux &gt; </prompt><command>mksusecd</command> --create image.iso \
--net=http://download.opensuse.org/tumbleweed/repo/oss/suse \
/srv/tftpboot/EFI/<replaceable>ARCH</replaceable>/boot</screen>
  <para>
   <filename>image.iso</filename> 可写入到 DVD 或 CD，或使用 <command>dd</command> 写入到 USB 记忆棒：
  </para>
  <screen><prompt role="root">root # </prompt><command>dd</command> if=image.iso of=/dev/<replaceable>USB_DEVICE</replaceable></screen>
  <para>
   将 <replaceable>USB_DEVICE</replaceable> 替换为 USB 记忆棒的设备名称。全面检查设备名称，以确保您未意外损坏其他驱动器上的数据。
  </para>
 </sect1>
</chapter>
