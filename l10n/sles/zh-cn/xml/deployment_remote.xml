<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="deployment_remote.xml" version="5.0" role="General" xml:id="cha-deployment-remoteinst">
 <title>远程安装</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>
 <para>
  可以用多种不同的方法安装 <phrase role="productname"><phrase os="sles">SUSE® Linux Enterprise Server</phrase></phrase>。除了<xref linkend="cha-inst"/>中介绍的常用媒体安装方式之外，还可以选择多种基于网络的方式，甚至可以选择无人照管的方式来安装 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>。
 </para>
 <para>
  文中会通过两份简短的核对清单来介绍每种方法：一个清单列出该方法的先决条件，另一个则阐述基本过程。随后，将会就这些安装方案用到的所有技术提供更详细的信息。
 </para>
 <note>
  <title>术语</title>
  <para>
   以下几节中将要存放新安装的 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 的系统称为<emphasis>目标系统</emphasis>或<emphasis>安装目标</emphasis>。术语<emphasis>安装源</emphasis>（repository，以前称为 <quote>installation source</quote>）用于所有的安装数据源。这包括物理媒体（如 CD 和 DVD）以及在网络中分发安装数据的网络服务器。
  </para>
 </note>
 <sect1 xml:id="sec-deployment-remoteinst-scenario">
  <title>远程安装的安装方案</title>

  <para>
   本节将介绍远程安装的最常用安装方案。对于每种方案，请仔细查看先决条件列表并遵循该方案的概述过程。如果需要特定步骤的详细说明，请访问各种方案的链接。
  </para>

  <sect2 xml:id="sec-deployment-remoteinst-scenario-vncstat">
   <title>通过 VNC 进行简单远程安装 － 静态网络配置</title>
   <para>
    此类型安装仍然需要对物理系统进行一定程度的访问以便引导安装。安装由使用 VNC 连接到安装程序的远程工作站控制。在使用<xref linkend="cha-inst"/>中的手动安装方式时需要用户干预。
   </para>
   <para>
    对于此类型安装，请确保满足以下要求：
   </para>
   <itemizedlist>
    <listitem>
     <para>
      远程或本地储存库：
     </para>
     <itemizedlist>
      <listitem>
       <para>
        远程储存库：具有有效网络连接的 NFS、HTTP、FTP、TFTP 或 SMB。
       </para>
      </listitem>
      <listitem>
       <para>
        本地储存库，例如 DVD。
       </para>
      </listitem>
     </itemizedlist>
    </listitem>
    <listitem>
     <para>
      具有有效网络连接的目标系统。
     </para>
    </listitem>
    <listitem>
     <para>
      具有有效网络连接且装有 VNC 查看器软件的控制系统。
     </para>
    </listitem>
    <listitem>
     <para>
      用于引导目标系统的物理引导媒体（CD、DVD 或 闪存盘）。
     </para>
    </listitem>
    <listitem>
     <para>
      有效的静态 IP 地址已指派给储存库和控制系统。
     </para>
    </listitem>
    <listitem>
     <para>
      可分配到目标系统的有效静态 IP 地址。
     </para>
    </listitem>
   </itemizedlist>
   <procedure xml:id="proc-deployment-remoteinst-scenario-vncstat">
    <para>
     要执行此种安装，请执行如下操作：
    </para>
    <step>
     <para>
      按<xref linkend="cha-deployment-instserver"/>中所述设置储存库。选择 NFS、HTTP、FTP 或 TFTP 网络服务器。关于 SMB 储存库，请参见<xref linkend="sec-deployment-instserver-smb"/>。
     </para>
    </step>
    <step>
     <para>
      使用 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 媒体包的 DVD1 引导目标系统。
     </para>
    </step>
    <step>
     <para>
      在出现目标系统的引导屏幕时，使用引导选项提示来设置相应的 VNC 选项和储存库的地址。<xref linkend="sec-deployment-remoteinst-bootinst"/>中对此有详细描述。
     </para>
     <para>
      目标系统引导后进入一个基于文本的环境，它给出了网络地址和显示编号，任何 VNC 查看器应用程序或浏览器都可以藉此寻址到图形安装环境。如果防火墙设置允许，安装的 VNC 会通过 OpenSLP 宣告自己。按<xref linkend="proc-deployment-remoteinst-monitor-vnc-prep"/>中所述使用 <command>slptool</command> 便可找到它们。
     </para>
    </step>
    <step>
     <para>
      在控制工作站上，按<xref linkend="sec-deployment-remoteinst-monitor-vnc"/>中所述打开 VNC 查看应用程序或 Web 浏览器，并连接到目标系统。
     </para>
    </step>
    <step>
     <para>
      按<xref linkend="cha-inst"/>中所述执行安装。在目标系统重引导从而完成安装的最后一部分后，需要重连接到目标系统。
     </para>
    </step>
    <step>
     <para>
      完成安装。
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="sec-deployment-remoteinst-scenario-vncdyn">
   <title>通过 VNC 进行简单远程安装 － 动态网络配置</title>
   <para>
    此类型安装仍然需要对物理系统进行一定程度的访问以便引导安装。网络配置是通过 DHCP 进行的。安装是使用 VNC 从远程工作站进行控制的，但配置需要用户交互。
   </para>
   <para>
    对于此类型安装，请确保满足以下要求：
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      远程储存库：带有有效网络连接的 NFS、HTTP、FTP 或 SMB。
     </para>
    </listitem>
    <listitem>
     <para>
      具有有效网络连接的目标系统。
     </para>
    </listitem>
    <listitem>
     <para>
      具有有效网络连接且装有 VNC 查看器软件的控制系统。
     </para>
    </listitem>
    <listitem>
     <para>
      使用 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 媒体包的 DVD1 引导目标系统。
     </para>
    </listitem>
    <listitem>
     <para>
      运行提供 IP 地址的 DHCP 服务器。
     </para>
    </listitem>
   </itemizedlist>
   <procedure xml:id="proc-deployment-remoteinst-scenario-vncdyn">
    <para>
     要执行此种安装，请执行如下操作：
    </para>
    <step>
     <para>
      按<xref linkend="cha-deployment-instserver"/>中所述设置储存库。选择 NFS、HTTP 或 FTP 网络服务器。关于 SMB 储存库，请参见<xref linkend="sec-deployment-instserver-smb"/>。
     </para>
    </step>
    <step>
     <para>
      使用 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 媒体包的 DVD1 引导目标系统。
     </para>
    </step>
    <step>
     <para>
      在出现目标系统的引导屏幕时，使用引导选项提示来设置相应的 VNC 选项和储存库的地址。<xref linkend="sec-deployment-remoteinst-bootinst"/>中对此有详细描述。
     </para>
     <para>
      目标系统引导后进入一个基于文本的环境，它给出了网络地址和显示编号，任何 VNC 查看器应用程序或浏览器都可以藉此寻址到图形安装环境。如果防火墙设置允许，安装的 VNC 会通过 OpenSLP 宣告自己。按<xref linkend="proc-deployment-remoteinst-monitor-vnc-prep"/>中所述使用 <command>slptool</command> 便可找到它们。
     </para>
    </step>
    <step>
     <para>
      在控制工作站上，按<xref linkend="sec-deployment-remoteinst-monitor-vnc"/>中所述打开 VNC 查看应用程序或 Web 浏览器，并连接到目标系统。
     </para>
    </step>
    <step>
     <para>
      按<xref linkend="cha-inst"/>中所述执行安装。在目标系统重引导从而完成安装的最后一部分后，需要重连接到目标系统。
     </para>
    </step>
    <step>
     <para>
      完成安装。
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="sec-deployment-remoteinst-scenario-vncpxe">
   <title>通过 VNC 进行远程安装 － PXE 引导和网络唤醒</title>
   <para>
    此类型安装是完全无人值守的。目标计算机是远程启动和引导的。只有实际安装时才需要用户交互。此方式适用于跨站点部署。
   </para>
   <para>
    要执行此类型安装，请确保满足以下要求：
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      远程储存库：带有有效网络连接的 NFS、HTTP、FTP 或 SMB。
     </para>
    </listitem>
    <listitem>
     <para>
      TFTP 服务器.
     </para>
    </listitem>
    <listitem>
     <para>
      为网络运行 DHCP 服务器.
     </para>
    </listitem>
    <listitem>
     <para>
      目标系统支持 PXE 引导、联网和网络唤醒，且已插入并连接到网络.
     </para>
    </listitem>
    <listitem>
     <para>
      具有有效网络连接且装有 VNC 查看器软件的控制系统。
     </para>
    </listitem>
   </itemizedlist>
   <procedure xml:id="proc-deployment-remoteinst-scenario-vncpxe">
    <para>
     要执行此类型安装，请执行如下操作：
    </para>
    <step>
     <para>
      按<xref linkend="cha-deployment-instserver"/>中所述设置储存库。选择 NFS、HTTP、或 FTP 网络服务器或按<xref linkend="sec-deployment-instserver-smb"/>中所述配置 SMB 储存库。
     </para>
    </step>
    <step>
     <para>
      设置存放引导映像（可被目标系统拉出）的 TFTP 服务器。<xref linkend="sec-deployment-prep-boot-tftp"/>中对此进行了描述。
     </para>
    </step>
    <step>
     <para>
      设置 DHCP 服务器以向所有计算机提供 IP 地址，并向目标系统显示 TFTP 服务器的位置。<xref linkend="sec-deployment-prep-boot-dhcp"/>中对此进行了描述。
     </para>
    </step>
    <step>
     <para>
      准备目标系统的 PXE 引导。<xref linkend="sec-deployment-prep-boot-pxeprep"/>中对此有详细描述。
     </para>
    </step>
    <step>
     <para>
      使用“网络唤醒”开始目标系统的引导过程 <xref linkend="sec-deployment-prep-boot-wol"/>中对此进行了描述。
     </para>
    </step>
    <step>
     <para>
      在控制工作站上，按<xref linkend="sec-deployment-remoteinst-monitor-vnc"/>中所述打开 VNC 查看应用程序或 Web 浏览器，并连接到目标系统。
     </para>
    </step>
    <step>
     <para>
      按<xref linkend="cha-inst"/>中所述执行安装。在目标系统重引导从而完成安装的最后一部分后，需要重连接到目标系统。
     </para>
    </step>
    <step>
     <para>
      完成安装。
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="sec-deployment-remoteinst-scenario-sshstat">
   <title>通过 SSH 进行简单远程安装 － 静态网络配置</title>
   <para>
    此类型安装仍然需要对目标系统进行一定程度的访问，以便为安装进行引导以及确定安装目标的 IP 地址。安装本身完全由使用 SSH 连接到安装程序的远程工作站控制。在使用<xref linkend="cha-inst"/>中所述的常规安装时需要用户干预。
   </para>
   <para>
    对于此类型安装，请确保满足以下要求：
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      远程储存库：带有有效网络连接的 NFS、HTTP、FTP 或 SMB。
     </para>
    </listitem>
    <listitem>
     <para>
      具有有效网络连接的目标系统。
     </para>
    </listitem>
    <listitem>
     <para>
      具有有效网络连接和有效 SSH 客户端软件的控制系统。
     </para>
    </listitem>
    <listitem>
     <para>
      使用 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 媒体包的 DVD1 引导目标系统。
     </para>
    </listitem>
    <listitem>
     <para>
      有效的静态 IP 地址已指派给储存库和控制系统。
     </para>
    </listitem>
    <listitem>
     <para>
      可分配到目标系统的有效静态 IP 地址。
     </para>
    </listitem>
   </itemizedlist>
   <procedure xml:id="proc-deployment-remoteinst-scenario-sshstat">
    <para>
     要执行此种安装，请执行如下操作：
    </para>
    <step>
     <para>
      按<xref linkend="cha-deployment-instserver"/>中所述设置储存库。选择 NFS、HTTP 或 FTP 网络服务器。关于 SMB 储存库，请参见<xref linkend="sec-deployment-instserver-smb"/>。
     </para>
    </step>
    <step>
     <para>
      使用 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 媒体包的 DVD1 引导目标系统。
     </para>
    </step>
    <step>
     <para>
      在出现目标系统的引导屏幕时，使用引导选项提示来设置相应的网络连接参数、储存库地址以及 SSH 支持。<xref linkend="sec-deployment-remoteinst-bootinst-custom"/>中对此有详细描述。
     </para>
     <para>
      目标系统引导后进入一个基于文本的环境，它给出了一个网络地址，通过该地址，任何 SSH 客户端都可以寻址到图形安装环境。
     </para>
    </step>
    <step>
     <para>
      在控制工作站上，按<xref linkend="sec-deployment-remoteinst-monitor-ssh-connect"/>中所述打开终端窗口并连接到目标系统。
     </para>
    </step>
    <step>
     <para>
      按<xref linkend="cha-inst"/>中所述执行安装。在目标系统重引导从而完成安装的最后一部分后，需要重连接到目标系统。
     </para>
    </step>
    <step>
     <para>
      完成安装。
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="sec-deployment-remoteinst-scenario-sshdyn">
   <title>通过 SSH 进行简单远程安装 － 动态网络配置</title>
   <para>
    此类型安装仍然需要对目标系统进行一定程度的访问，以便为安装进行引导以及确定安装目标的 IP 地址。安装是使用 SSH 从远程工作站进行控制的，但配置需要用户交互。
   </para>
   <note>
    <title>第二步（安装）后要避免连接中断</title>
    <para>
     在网络设置对话框中，选中<guimenu>通过 ifup 的传统方法</guimenu>并取消选中 NetworkManager。否则，安装期间会丢失 SSH 连接。安装完成后，将设置重设置为<guimenu>通过 NetworkManager 的用户控制方法</guimenu>。
    </para>
   </note>
   <para>
    对于此类型安装，请确保满足以下要求：
   </para>
   <itemizedlist>
    <listitem>
     <para>
      远程或本地储存库：
     </para>
     <itemizedlist>
      <listitem>
       <para>
        远程储存库：具有有效网络连接的 NFS、HTTP、FTP、TFTP 或 SMB。
       </para>
      </listitem>
      <listitem>
       <para>
        本地储存库，例如 DVD。
       </para>
      </listitem>
     </itemizedlist>
    </listitem>
    <listitem>
     <para>
      具有有效网络连接的目标系统。
     </para>
    </listitem>
    <listitem>
     <para>
      具有有效网络连接和有效 SSH 客户端软件的控制系统。
     </para>
    </listitem>
    <listitem>
     <para>
      用于引导目标系统的物理引导媒体（CD、DVD 或 闪存盘）。
     </para>
    </listitem>
    <listitem>
     <para>
      运行提供 IP 地址的 DHCP 服务器。
     </para>
    </listitem>
   </itemizedlist>
   <procedure xml:id="proc-deployment-remoteinst-scenario-sshdyn">
    <para>
     要执行此种安装，请执行如下操作：
    </para>
    <step>
     <para>
      按<xref linkend="cha-deployment-instserver"/>中所述设置储存库。选择 NFS、HTTP 或 FTP 网络服务器。关于 SMB 储存库，请参见<xref linkend="sec-deployment-instserver-smb"/>。
     </para>
    </step>
    <step>
     <para>
      使用 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 媒体包的 DVD1 引导目标系统。
     </para>
    </step>
    <step>
     <para>
      在出现目标系统的引导屏幕时，使用引导选项提示来设置相应的网络连接参数、安装源位置以及 SSH 支持。关于如何使用这些参数的详细说明，请参见<xref linkend="sec-deployment-remoteinst-bootinst-custom"/>。
     </para>
     <para>
      目标系统引导后进入一个基于文本的环境，它给出了一个网络地址，通过该地址，任何 SSH 客户端都可以寻址到图形安装环境。
     </para>
    </step>
    <step>
     <para>
      在控制工作站上，按<xref linkend="sec-deployment-remoteinst-monitor-ssh-connect"/>中所述打开终端窗口并连接到目标系统。
     </para>
    </step>
    <step>
     <para>
      按<xref linkend="cha-inst"/>中所述执行安装。在目标系统重引导从而完成安装的最后一部分后，需要重连接到目标系统。
     </para>
    </step>
    <step>
     <para>
      完成安装。
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="sec-deployment-remoteinst-scenario-sshpxe">
   <title>通过 SSH 进行远程安装 － PXE 引导和网络唤醒</title>
   <para>
    此类安装是完全无人值守的。目标计算机是远程启动和引导的。
   </para>
   <para>
    要执行此类型安装，请确保满足以下要求：
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      远程储存库：带有有效网络连接的 NFS、HTTP、FTP 或 SMB。
     </para>
    </listitem>
    <listitem>
     <para>
      TFTP 服务器。
     </para>
    </listitem>
    <listitem>
     <para>
      为网络运行 DHCP 服务器，向需要安装的主机提供一个静态 IP。
     </para>
    </listitem>
    <listitem>
     <para>
      目标系统支持 PXE 引导、联网和网络唤醒，且已插入并连接到网络。
     </para>
    </listitem>
    <listitem>
     <para>
      具有有效网络连接和 SSH 客户端软件的控制系统。
     </para>
    </listitem>
   </itemizedlist>
   <procedure xml:id="proc-deployment-remoteinst-scenario-sshpxe">
    <para>
     要执行此类型安装，请执行如下操作：
    </para>
    <step>
     <para>
      按<xref linkend="cha-deployment-instserver"/>中所述设置储存库。选择 NFS、HTTP 或 FTP 网络服务器。有关 SMB 储存库的配置，请参见<xref linkend="sec-deployment-instserver-smb"/>。
     </para>
    </step>
    <step>
     <para>
      设置存放引导映像（可被目标系统拉出）的 TFTP 服务器。<xref linkend="sec-deployment-prep-boot-tftp"/>中对此进行了描述。
     </para>
    </step>
    <step>
     <para>
      设置 DHCP 服务器以向所有计算机提供 IP 地址，并向目标系统显示 TFTP 服务器的位置。<xref linkend="sec-deployment-prep-boot-dhcp"/>中对此进行了描述。
     </para>
    </step>
    <step>
     <para>
      准备目标系统的 PXE 引导。<xref linkend="sec-deployment-prep-boot-pxeprep"/>中对此有详细描述。
     </para>
    </step>
    <step>
     <para>
      使用“网络唤醒”开始目标系统的引导过程 <xref linkend="sec-deployment-prep-boot-wol"/>中对此进行了描述。
     </para>
    </step>
    <step>
     <para>
      在控制工作站上，按<xref linkend="sec-deployment-remoteinst-monitor-ssh"/>中所述启动 SSH 客户端并连接到目标系统。
     </para>
    </step>
    <step>
     <para>
      按<xref linkend="cha-inst"/>中所述执行安装。在目标系统重引导从而完成安装的最后一部分后，需要重连接到目标系统。
     </para>
    </step>
    <step>
     <para>
      完成安装。
     </para>
    </step>
   </procedure>
  </sect2>
 </sect1>
 <sect1 xml:id="sec-deployment-remoteinst-bootinst">
  <title>引导用于安装的目标系统</title>

  <para>
   除了<xref linkend="sec-deployment-prep-boot-wol"/>和<xref linkend="sec-deployment-prep-boot-pxe"/>中提到的那些方法之外，还有两种方法可用来自定义安装的引导过程。可以使用默认引导选项和功能键。或者，可以使用安装引导屏幕中的引导选项提示来指定安装内核对于特定硬件可能需要使用的引导选项。
  </para>

  <sect2 xml:id="sec-deployment-remoteinst-bootinst-opts">
   <title>使用默认的引导选项</title>
   <para>
    引导选项在<xref linkend="cha-inst"/>中有详细描述。通常，选择<guimenu>安装</guimenu>即会开始安装引导过程。
   </para>
   <para>
    如果发生问题，请使用 <guimenu>Installation—ACPI Disabled</guimenu> 或 <guimenu>Installation—Safe Settings</guimenu>。有关安装过程故障诊断的更多信息，请参见<xref linkend="sec-trouble-install"/>。
   </para>
   <para>
    屏幕底部的菜单栏提供了某些安装中所需的一些高级功能。使用 <keycap>F1</keycap> ... <keycap>F12</keycap> 功能键可以指定其他选项以传递到安装例程，而不需要了解这些参数的详细语法（参见<xref linkend="sec-deployment-remoteinst-bootinst-custom"/>）。<xref linkend="sec-i-yast2-bootscreen"/>中提供了可用功能键的详细说明。
   </para>
  </sect2>

  <sect2 xml:id="sec-deployment-remoteinst-bootinst-custom">
   <title>使用自定义引导选项</title>
   <para>
    使用合适的引导选项集有助于简化安装过程。许多参数也可以在以后使用 linuxrc 例程进行配置，但是使用引导选项则更方便。在一些自动安装中，引导选项可通过 <filename>initrd</filename> 或 <filename>info</filename> 文件提供。
   </para>
   <para>
    下表列出了本章中提到的所有安装方案及其所需的引导参数和对应的引导选项。按它们在下表中的显示顺序追加所有的参数，可获取一个将送给安装例程的引导选项字符串。例如（全部在一行上）：
   </para>
<screen>install=<replaceable>XXX</replaceable> netdevice<replaceable>=XXX</replaceable> hostip=<replaceable>XXX</replaceable> netmask=<replaceable>XXX</replaceable> vnc=<replaceable>XXX</replaceable> VNCPassword=<replaceable>XXX</replaceable></screen>

   <para>
    将此命令中的所有 <replaceable>XXX</replaceable> 值替换为适用于您的安装的值。
   </para>
   <variablelist xml:id="tab-deployment-remoteinst-bootinst-custom">
    <varlistentry>
     <term><xref linkend="cha-inst"/>
     </term>
     <listitem>
      <formalpara>
       <title>引导时所需的参数</title>
       <para>
        无
       </para>
      </formalpara>
      <formalpara>
       <title>引导选项</title>
       <para>
        不需要任何选项
       </para>
      </formalpara>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><xref linkend="sec-deployment-remoteinst-scenario-vncstat"/>
     </term>
     <listitem>
      <itemizedlist spacing="compact" mark="bullet">
       <title>引导时所需的参数</title>
       <listitem>
        <para>
         安装服务器的位置
        </para>
       </listitem>
       <listitem>
        <para>
         网络设备
        </para>
       </listitem>
       <listitem>
        <para>
         IP 地址
        </para>
       </listitem>
       <listitem>
        <para>
         网络掩码
        </para>
       </listitem>
       <listitem>
        <para>
         网关
        </para>
       </listitem>
       <listitem>
        <para>
         VNC 支持
        </para>
       </listitem>
       <listitem>
        <para>
         VNC 口令
        </para>
       </listitem>
      </itemizedlist>
      <itemizedlist spacing="compact" mark="bullet">
       <title>引导选项</title>
       <listitem>
        <para>
         <filename>install=(nfs,http, ftp,smb)://<replaceable>PATH_TO_INSTMEDIA</replaceable></filename>
        </para>
       </listitem>
       <listitem>
        <para>
         <filename>netdevice=<replaceable>NETDEVICE</replaceable></filename>（仅当有多个网络设备可用时才需要）
        </para>
       </listitem>
       <listitem>
        <para>
         <filename>hostip=<replaceable>IP_ADDRESS</replaceable> </filename>
        </para>
       </listitem>
       <listitem>
        <para>
         <filename>netmask=<replaceable>NETMASK</replaceable> </filename>
        </para>
       </listitem>
       <listitem>
        <para>
         <filename>gateway=<replaceable>IP_GATEWAY</replaceable> </filename>
        </para>
       </listitem>
       <listitem>
        <para>
         <filename>vnc=1</filename>
        </para>
       </listitem>
       <listitem>
        <para>
         <filename>VNCPassword=<replaceable>PASSWORD</replaceable>
         </filename>
        </para>
       </listitem>
      </itemizedlist>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><xref linkend="sec-deployment-remoteinst-scenario-vncdyn"/>
     </term>
     <listitem>
      <itemizedlist spacing="compact" mark="bullet">
       <title>引导时所需的参数</title>
       <listitem>
        <para>
         安装服务器的位置
        </para>
       </listitem>
       <listitem>
        <para>
         VNC 支持
        </para>
       </listitem>
       <listitem>
        <para>
         VNC 口令
        </para>
       </listitem>
      </itemizedlist>
      <itemizedlist spacing="compact" mark="bullet">
       <title>引导选项</title>
       <listitem>
        <para>
         <filename>install=(nfs,http, ftp,smb)://<replaceable>PATH_TO_INSTMEDIA</replaceable></filename>
        </para>
       </listitem>
       <listitem>
        <para>
         <literal>vnc=1</literal>
        </para>
       </listitem>
       <listitem>
        <para>
         <filename>VNCPassword=<replaceable>PASSWORD</replaceable>
         </filename>
        </para>
       </listitem>
      </itemizedlist>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><xref linkend="sec-deployment-remoteinst-scenario-vncpxe"/>
     </term>
     <listitem>
      <itemizedlist spacing="compact" mark="bullet">
       <title>引导时所需的参数</title>
       <listitem>
        <para>
         安装服务器的位置
        </para>
       </listitem>
       <listitem>
        <para>
         TFTP 服务器的位置
        </para>
       </listitem>
       <listitem>
        <para>
         VNC 支持
        </para>
       </listitem>
       <listitem>
        <para>
         VNC 口令
        </para>
       </listitem>
      </itemizedlist>
      <formalpara>
       <title>引导选项</title>
       <para>
        不适用；进程通过 PXE 和 DHCP 管理
       </para>
      </formalpara>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><xref linkend="sec-deployment-remoteinst-scenario-sshstat"/>
     </term>
     <listitem>
      <itemizedlist spacing="compact" mark="bullet">
       <title>引导时所需的参数</title>
       <listitem>
        <para>
         安装服务器的位置
        </para>
       </listitem>
       <listitem>
        <para>
         网络设备
        </para>
       </listitem>
       <listitem>
        <para>
         IP 地址
        </para>
       </listitem>
       <listitem>
        <para>
         网络掩码
        </para>
       </listitem>
       <listitem>
        <para>
         网关
        </para>
       </listitem>
       <listitem>
        <para>
         SSH 支持
        </para>
       </listitem>
       <listitem>
        <para>
         SSH 口令
        </para>
       </listitem>
      </itemizedlist>
      <itemizedlist spacing="compact" mark="bullet">
       <title>引导选项</title>
       <listitem>
        <para>
         <filename>install=(nfs,http, ftp,smb)://<replaceable>PATH_TO_INSTMEDIA</replaceable></filename>
        </para>
       </listitem>
       <listitem>
        <para>
         <filename>netdevice=<replaceable>NETDEVICE</replaceable></filename>（仅当有多个网络设备可用时才需要）
        </para>
       </listitem>
       <listitem>
        <para>
         <filename>hostip=<replaceable>IP_ADDRESS</replaceable> </filename>
        </para>
       </listitem>
       <listitem>
        <para>
         <filename>netmask=<replaceable>NETMASK</replaceable> </filename>
        </para>
       </listitem>
       <listitem>
        <para>
         <filename>gateway=<replaceable>IP_GATEWAY</replaceable> </filename>
        </para>
       </listitem>
       <listitem>
        <para>
         <literal>ssh=1</literal>
        </para>
       </listitem>
       <listitem>
        <para>
         <filename>ssh.password=<replaceable>PASSWORD</replaceable>
         </filename>
        </para>
       </listitem>
      </itemizedlist>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><xref linkend="sec-deployment-remoteinst-scenario-sshdyn"/>
     </term>
     <listitem>
      <itemizedlist spacing="compact" mark="bullet">
       <title>引导时所需的参数</title>
       <listitem>
        <para>
         安装服务器的位置
        </para>
       </listitem>
       <listitem>
        <para>
         SSH 支持
        </para>
       </listitem>
       <listitem>
        <para>
         SSH 口令
        </para>
       </listitem>
      </itemizedlist>
      <itemizedlist spacing="compact" mark="bullet">
       <title>引导选项</title>
       <listitem>
        <para>
         <filename>install=(nfs,http, ftp,smb)://<replaceable>PATH_TO_INSTMEDIA</replaceable></filename>
        </para>
       </listitem>
       <listitem>
        <para>
         <filename>ssh=1</filename>
        </para>
       </listitem>
       <listitem>
        <para>
         <filename>ssh.password=<replaceable>PASSWORD</replaceable>
         </filename>
        </para>
       </listitem>
      </itemizedlist>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><xref linkend="sec-deployment-remoteinst-scenario-sshpxe"/>
     </term>
     <listitem>
      <itemizedlist spacing="compact" mark="bullet">
       <listitem>
        <para>
         安装服务器的位置
        </para>
       </listitem>
       <listitem>
        <para>
         TFTP 服务器的位置
        </para>
       </listitem>
       <listitem>
        <para>
         SSH 支持
        </para>
       </listitem>
       <listitem>
        <para>
         SSH 口令
        </para>
       </listitem>
      </itemizedlist>
      <formalpara>
       <title>引导选项</title>
       <para>
        不适用；进程通过 PXE 和 DHCP 管理
       </para>
      </formalpara>
     </listitem>
    </varlistentry>
   </variablelist>
   <tip>
    <title>有关 linuxrc 引导选项的更多信息</title>
    <para>
     在 <link xlink:href="http://en.opensuse.org/SDB:Linuxrc"/> 中可找到更多用于引导 Linux 系统的 linuxrc 引导选项的信息。
    </para>
   </tip>
   <sect3 xml:id="sec-deployment-remoteinst-bootinst-custom-addon">
    <title>安装外接式附件及驱动程序更新</title>
    <para>
     <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 支持安装附加产品，例如扩展（如 SUSE Linux Enterprise High Availability Extension）、第三方产品以及驱动程序或附加软件。要在远程部署 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 时自动安装外接式附件，请指定 <literal>addon=<replaceable>REPOSITORY</replaceable></literal> 参数。
    </para>
    <para>
     <replaceable>REPOSITORY</replaceable> 必须为位于主机上可供 YaST（YaST2 或 YUM (rpm-md)）读取的储存库。目前不支持 ISO 映像。
    </para>
    <tip>
     <title>驱动程序更新</title>
     <para>
      驱动程序更新请参见 <link xlink:href="http://drivers.suse.com/"/>。并非所有驱动程序更新都以储存库的形式提供，其中的一部分只以 ISO 映像提供，因此无法使用 <literal>addon</literal> 参数进行安装。有关如何通过 ISO 映像安装驱动程序更新的指导，请参见 <link xlink:href="http://drivers.suse.com/doc/SolidDriver/Driver_Kits.html"/>。
     </para>
    </tip>
   </sect3>
  </sect2>
 </sect1>
 <sect1 xml:id="sec-deployment-remoteinst-monitor">
  <title>监视安装过程</title>

  <para>
   有多个用于远程监视安装过程的选项。如果在引导安装时已指定了适当的引导选项，则可以使用 VNC 或 SSH 从远程工作站控制安装和系统配置。
  </para>

  <sect2 xml:id="sec-deployment-remoteinst-monitor-vnc">
   <title>VNC 安装</title>
   <para>
    您可以使用任意 VNC 查看器软件从几乎所有的操作系统远程控制 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 的安装。本节介绍如何使用 VNC 查看器应用程序或 Web 浏览器进行安装。
   </para>
   <sect3 xml:id="sec-deployment-remoteinst-monitor-vnc-prep">
    <title>准备进行 VNC 安装</title>
    <para>
      要在安装目标上启用 VNC，请在安装首次引导时指定相应的引导选项（参见<xref linkend="sec-deployment-remoteinst-bootinst-custom"/>）。目标系统引导后进入一个基于文本的环境中，并等待 VNC 客户端连接到安装程序。
    </para>
    <para>
     安装程序就 IP 地址发布通告，并显示需要连接用于安装的编号。如果您具有对目标系统的物理访问权，该信息将在系统完成安装引导后立即显示。在 VNC 客户端软件出现提示时，请输入该数据，并输入 VNC 口令。
    </para>
    <para>
     因为安装目标通过 OpenSLP 发布自身通告，所以您可以通过 SLP 浏览器检索安装目标的地址信息，而无需通过物理方式连接到安装程序本身（只要您的网络设置和所有计算机都支持 OpenSLP）：
    </para>
    <procedure xml:id="proc-deployment-remoteinst-monitor-vnc-prep">
     <title>通过 OpenSLP 找到 VNC 安装</title>
     <step>
      <para>
       运行 <command>slptool findsrvtypes | grep vnc</command> 可获得提供 VNC 的所有服务的列表。VNC 安装目标应该会出现在 <literal>YaST.installation.suse</literal> 服务下。
      </para>
     </step>
     <step>
      <para>
       运行 <command>slptool findsrvs</command>
       <replaceable> YaST.installation.suse</replaceable> 可获得可用的安装列表。请使用 VNC 查看器提供的 IP 地址与端口（通常是 <systemitem>5901</systemitem>）。
      </para>
     </step>
    </procedure>
   </sect3>
   <sect3 xml:id="sec-deployment-remoteinst-monitor-vnc-connect">
    <title>连接到安装程序</title>
    <para>
     要连接到 VNC 服务器（在本例中为安装目标），请在任意操作系统中启动一个独立的 VNC 查看器应用程序。
    </para>
    <para>
     您可以使用 VNC 从任何其他操作系统（包括其他 Linux flavors、Windows 或 macOS）控制 Linux 系统的安装。
    </para>
    <para>
     请确保在 Linux 计算机上已安装了 <systemitem>tightvnc</systemitem> 包。在 Windows 计算机上，请安装此应用程序的 Windows 端口，它可在 TightVNC 主页上获取（<link xlink:href="http://www.tightvnc.com/download.html"/>）。
    </para>
    <procedure xml:id="proc-deployment-remoteinst-monitor-vnc-connect-app">
     <para>
      要连接到目标计算机上运行的安装程序，请执行如下操作：
     </para>
     <step>
      <para>
       启动 VNC 查看器。
      </para>
     </step>
     <step>
      <para>
       输入由 SLP 浏览器或安装程序自身提供的安装目标的 IP 地址和显示编号。

      </para>
<screen><replaceable>IP_ADDRESS</replaceable>:<replaceable>DISPLAY_NUMBER</replaceable></screen>
      <para>
       随后会在桌面上打开一个窗口，其中显示的 YaST 屏幕与正常本地安装中所显示的相同。
      </para>
     </step>
    </procedure>
   </sect3>
  </sect2>

  <sect2 xml:id="sec-deployment-remoteinst-monitor-ssh">
   <title>SSH 安装</title>
   <para>
    通过使用 SSH，您可以使用任意 SSH 客户端软件远程控制 Linux 计算机的安装。
   </para>
   <sect3 xml:id="sec-deployment-remoteinst-monitor-ssh-prep">
    <title>准备进行 SSH 安装</title>
    <para>
     除了安装所需的软件包（用于 Linux 的 OpenSSH 和用于 Windows 的 PuTTY）以外，还需要指定相应的引导选项来为安装启用 SSH。有关细节，请参见<xref linkend="sec-deployment-remoteinst-bootinst-custom"/>。默认情况下，OpenSSH 安装在所有基于 SUSE Linux 的操作系统上。
    </para>
   </sect3>
   <sect3 xml:id="sec-deployment-remoteinst-monitor-ssh-connect">
    <title>连接到安装程序</title>
    <procedure xml:id="proc-deployment-remoteinst-monitor-ssh-connect">
     <step>
      <para>
       检索安装目标的 IP 地址。如果您具有对目标计算机的物理访问权，请采用初始引导后安装例程在控制台上提供的 IP 地址。否则，请采用 DHCP 服务器配置中分配给此特定主机的 IP 地址。
      </para>
     </step>
     <step>
      <para>
       在命令行中输入以下命令：
      </para>
<screen>ssh -X root@<replaceable>
ip_address_of_target</replaceable></screen>
      <para>
       将 <replaceable>IP_ADDRESS_OF_TARGET</replaceable> 替换为安装目标的实际 IP 地址。
      </para>
     </step>
     <step>
      <para>
       收到输入用户名的提示时，输入 <literal>root</literal>。
      </para>
     </step>
     <step>
      <para>
       在系统提示输入口令时，输入已通过 SSH 引导选项设置的口令。在成功通过身份验证之后，将出现一个安装目标的命令行提示符。
      </para>
     </step>
     <step>
      <para>
       输入 <command>yast</command> 起动安装程序。将打开一个窗口，其中显示如<xref linkend="cha-inst"/>中所述的正常 YaST 屏幕。
      </para>
     </step>
    </procedure>
   </sect3>
  </sect2>
 </sect1>
</chapter>
