<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="ay_networking.xml" version="5.0" xml:id="CreateProfile-Network">
  <title>网络配置</title>

 <info>
      <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
        <dm:bugtracker/>
        <dm:translation>是</dm:translation>
      </dm:docmanager>
    </info>
    <para>
    网络配置用于将单个工作站连接到基于以太网的 LAN 或配置拨号连接。它还提供更复杂的配置（多个网卡、路由等）。
   </para>

   <para>
    如果以下设置设为 <literal>true</literal>，YaST 将保留安装期间（通过 <command>linuxrc</command>）创建的网络设置，并/或将其与 AutoYaST 控制文件中的网络设置（如果已定义）合并。
   </para>
   <note>
    <title><command>linuxrc</command> 程序</title>
    <para>
     有关 <command>linuxrc</command> 的工作原理及其关键字的详细说明，请参见<xref linkend="appendix-linuxrc"/>。
    </para>
   </note>
   <para>
    AutoYaST 设置的优先级高于现有的任何配置文件。YaST 将基于控制文件中的项写入 ifcfg-* 文件，且不去除旧项。如果存在空白或缺少 DNS 和路由部分，YaST 将保留所有现有值。否则将应用控制文件中的设置。
   </para>

<screen>&lt;keep_install_network
config:type="boolean"&gt;true&lt;/keep_install_network&gt;</screen>

   <para>
    在第二个阶段，会先安装附加的软件包，然后再根据配置文件中所述配置网络。<literal>keep_install_network</literal> 默认设置为 <literal>true</literal>，以确保在需要通过某个网络安装这些软件包时该网络可供使用。如果在第一个阶段便安装了所有软件包，且在第二个阶段的早期不需要网络，则将 <literal>keep_install_network</literal> 设置为 <literal>false</literal> 可避免复制配置。
   </para>

   <para>
    要自动配置网络设置并激活网络，可使用一个全局资源 <literal>&lt;networking&gt;</literal> 来储存整个网络配置。
   </para>

   <example xml:id="ex-ay-network-config-general">
    <title>网络配置</title>
<screen>&lt;networking&gt;
  &lt;dns&gt;
    &lt;dhcp_hostname config:type="boolean"&gt;true&lt;/dhcp_hostname&gt;
    &lt;domain&gt;site&lt;/domain&gt;
    &lt;hostname&gt;linux-bqua&lt;/hostname&gt;
    &lt;nameservers config:type="list"&gt;
      &lt;nameserver&gt;192.168.1.116&lt;/nameserver&gt;
      &lt;nameserver&gt;192.168.1.117&lt;/nameserver&gt;
      &lt;nameserver&gt;192.168.1.118&lt;/nameserver&gt;
    &lt;/nameservers&gt;
    &lt;resolv_conf_policy&gt;auto&lt;/resolv_conf_policy&gt;
    &lt;searchlist config:type="list"&gt;
      &lt;search&gt;example.com&lt;/search&gt;
      &lt;search&gt;example.net&lt;/search&gt;
    &lt;/searchlist&gt;
  &lt;/dns&gt;
  &lt;interfaces config:type="list"&gt;
    &lt;interface&gt;
      &lt;bootproto&gt;dhcp&lt;/bootproto&gt;
      &lt;device&gt;eth0&lt;/device&gt;
      &lt;startmode&gt;auto&lt;/startmode&gt;
    &lt;/interface&gt;
  &lt;/interfaces&gt;
  &lt;ipv6 config:type="boolean"&gt;true&lt;/ipv6&gt;
  &lt;keep_install_network config:type="boolean"&gt;false&lt;/keep_install_network&gt;
  #false means use Wicked, true means use NetworkManager
  &lt;managed config:type="boolean"&gt;false&lt;/managed&gt;       
  &lt;net-udev config:type="list"&gt;
    &lt;rule&gt;
      &lt;name&gt;eth0&lt;/name&gt;
      &lt;rule&gt;ATTR{address}&lt;/rule&gt;
      &lt;value&gt;00:30:6E:08:EC:80&lt;/value&gt;
    &lt;/rule&gt;
  &lt;/net-udev&gt;
  &lt;s390-devices config:type="list"&gt;
    &lt;listentry&gt;
      &lt;chanids&gt;0.0.0800:0.0.0801:0.0.0802&lt;/chanids&gt;
      &lt;type&gt;qeth&lt;/type&gt;
    &lt;/listentry&gt;
  &lt;/s390-devices&gt;
  &lt;routing&gt;
    &lt;ipv4_forward config:type="boolean"&gt;false&lt;/ipv4_forward&gt;
    &lt;ipv6_forward config:type="boolean"&gt;false&lt;/ipv6_forward&gt;
    &lt;routes config:type="list"&gt;
      &lt;route&gt;
        &lt;destination&gt;192.168.2.1&lt;/destination&gt;
        &lt;device&gt;eth0&lt;/device&gt;
        &lt;extrapara&gt;foo&lt;/extrapara&gt;
        &lt;gateway&gt;-&lt;/gateway&gt;
        &lt;netmask&gt;-&lt;/netmask&gt;
      &lt;/route&gt;
      &lt;route&gt;
        &lt;destination&gt;default&lt;/destination&gt;
        &lt;device&gt;eth0&lt;/device&gt;
        &lt;gateway&gt;192.168.1.1&lt;/gateway&gt;
        &lt;netmask&gt;-&lt;/netmask&gt;
      &lt;/route&gt;
      &lt;route&gt;
        &lt;destination&gt;default&lt;/destination&gt;
        &lt;device&gt;lo&lt;/device&gt;
        &lt;gateway&gt;192.168.5.1&lt;/gateway&gt;
        &lt;netmask&gt;-&lt;/netmask&gt;
      &lt;/route&gt;
    &lt;/routes&gt;
  &lt;/routing&gt;
&lt;/networking&gt;</screen>
   </example>

   <para>
    如上述示例所示，<literal>&lt;networking&gt;</literal> 部分可以包含几个子部分：
   </para>

   <itemizedlist>
    <listitem>
     <para>
      <literal>interfaces</literal> 描述网络接口的配置，包括其 IP 地址、启动方式等。
     </para>
    </listitem>
    <listitem>
     <para>
      <literal>dns</literal> 指定 DNS 相关的设置，例如主机名、名称服务器列表等。
     </para>
    </listitem>
    <listitem>
     <para>
      <literal>routing</literal> 定义路由规则。
     </para>
    </listitem>
    <listitem>
     <para>
      <literal>s390-devices</literal> 涉及特定于 s390 的设备设置。
     </para>
    </listitem>
    <listitem>
     <para>
      <literal>net-udev</literal> 枚举用于设置持久名称的 udev 规则。
     </para>
    </listitem>
   </itemizedlist>

   <example xml:id="ex-ay-network-config-bridge">
     <title>网桥接口配置</title>
<screen>
&lt;interfaces config:type="list"&gt;
  &lt;interface&gt;
    &lt;device&gt;br0&lt;/device&gt;
    &lt;bootproto&gt;static&lt;/bootproto&gt;
    &lt;bridge&gt;yes&lt;/bridge&gt;
    &lt;bridge_forwarddelay&gt;0&lt;/bridge_forwarddelay&gt;
    &lt;bridge_ports&gt;eth0 eth1&lt;/bridge_ports&gt;
    &lt;bridge_stp&gt;off&lt;/bridge_stp&gt;
    &lt;ipaddr&gt;192.168.122.100&lt;/ipaddr&gt;
    &lt;netmask&gt;255.255.255.0&lt;/netmask&gt;
    &lt;network&gt;192.168.122.0&lt;/network&gt;
    &lt;prefixlen&gt;24&lt;/prefixlen&gt;
    &lt;startmode&gt;auto&lt;/startmode&gt;
  &lt;/interface&gt;
  &lt;interface&gt;
    &lt;device&gt;eth0&lt;/device&gt;
    &lt;bootproto&gt;none&lt;/bootproto&gt;
    &lt;startmode&gt;hotplug&lt;/startmode&gt;
  &lt;/interface&gt;
  &lt;interface&gt;
    &lt;device&gt;eth1&lt;/device&gt;
    &lt;bootproto&gt;none&lt;/bootproto&gt;
    &lt;startmode&gt;hotplug&lt;/startmode&gt;
  &lt;/interface&gt;
&lt;/interfaces&gt;
</screen>
   </example>

   <tip>
    <title>IPv6 地址支持</title>
    <para>
     完全支持在 AutoYaST 中使用 IPv6 地址。要禁用 IPv6 地址支持，请设置 &lt;ipv6 config:type="boolean"&gt;false&lt;/ipv6&gt;
    </para>
   </tip>

   <sect2 xml:id="CreateProfile-Network-Interfaces">
    <title>接口</title>
    <para>
     <literal>interfaces</literal> 部分可让用户定义接口的配置，包括接口的启动方式、其 IP 地址、网络等。以下元素必须包含在 <literal>&lt;interfaces&gt;...&lt;/interfaces&gt;</literal> 标记中。
    </para>
    <informaltable>
     <tgroup cols="3">
      <thead>
       <row>
        <entry>
         <para>
          元素
         </para>
        </entry>
        <entry>
         <para>
          说明
         </para>
        </entry>
        <entry>
         <para>
          注释
         </para>
        </entry>
       </row>
      </thead>
      <tbody>
       <row>
        <entry>
         <para>
          <literal>bootproto</literal>
         </para>
        </entry>
        <entry>
         <para>
          接口使用的引导协议。可能的值：
         </para>
          <itemizedlist>
           <listitem>
            <para>
             <literal>static</literal> 表示静态指派的地址。需使用 <literal>ipaddr</literal> 元素指定 IP。
            </para>
           </listitem>
           <listitem>
            <para>
             <literal>dhcp4</literal>、<literal>dhcp6</literal> 或 <literal>dhcp</literal>，用于通过 DHCP 设置 IP 地址（IPv4、IPv6 或任何地址）。
            </para>
           </listitem>
           <listitem>
            <para>
             <literal>dhcp+autoip</literal> 用于从 <emphasis>Zeroconf</emphasis> 获取 IPv4 配置，或从 DHCP 获取 IPv6 配置。
            </para>
           </listitem>
           <listitem>
            <para>
             <literal>autoip</literal> 用于从 <emphasis>Zeroconf</emphasis> 获取 IPv4 配置。
            </para>
           </listitem>
           <listitem>
            <para>
             <literal>ibft</literal> 用于通过 iBFT 协议获取 IP 地址。
            </para>
           </listitem>
           <listitem>
            <para>
             <literal>none</literal> 表示跳过地址设置。此值用于桥接和绑定从属。
            </para>
           </listitem>
          </itemizedlist>
        </entry>
        <entry>
         <para>
          必要。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>broadcast</literal>
         </para>
        </entry>
        <entry>
         <para>
          广播 IP 地址。
         </para>
        </entry>
        <entry>
         <para>
          仅适用于 <literal>static</literal> 引导协议。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>device</literal>
         </para>
        </entry>
        <entry>
         <para>
          设备名称。
         </para>
        </entry>
        <entry>
         <para>
          已弃用。请改用 <literal>name</literal>。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>name</literal>
         </para>
        </entry>
        <entry>
         <para>
          设备名称，例如：<literal>eth0</literal>。
         </para>
        </entry>
        <entry>
         <para>
          必要。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>ipaddr</literal>
         </para>
        </entry>
        <entry>
         <para>
          指派给接口的 IP 地址。
         </para>
        </entry>
        <entry>
         <para>
          仅适用于 <literal>static</literal> 引导协议。它可以包含网络前缀，例如：<literal>192.168.1.1/24</literal>。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>remote_ipaddr</literal>
         </para>
        </entry>
        <entry>
         <para>
          用于点对点连接的远程 IP 地址。
         </para>
        </entry>
        <entry>
         <para>
          仅适用于 <literal>static</literal> 引导协议。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>netmask</literal>
         </para>
        </entry>
        <entry>
         <para>
          网络掩码，例如：<literal>255.255.255.0</literal>。
         </para>
        </entry>
        <entry>
         <para>
          已弃用。请改用 <literal>prefixlen</literal>，或者在 <literal>ipaddr</literal> 元素中包含网络前缀。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>network</literal>
         </para>
        </entry>
        <entry>
         <para>
          网络 IP 地址。
         </para>
        </entry>
        <entry>
         <para>
          已弃用。请改为结合使用 <literal>ipaddr</literal> 和 <literal>prefixlen</literal>。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>prefixlen</literal>
         </para>
        </entry>
        <entry>
         <para>
          网络前缀，例如：<literal>24</literal>。
         </para>
        </entry>
        <entry>
         <para>
          仅适用于 <literal>static</literal> 引导协议。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>startmode</literal>
         </para>
        </entry>
        <entry>
         <para>
          何时启动接口。可能的值为：
         </para>
          <itemizedlist>
           <listitem>
            <para>
             <literal>hotplug</literal>（插入设备时。例如，此值可用于 USB 网卡）。
            </para>
           </listitem>
           <listitem>
            <para>
             <literal>auto</literal>（系统引导时）。<literal>onboot</literal> 是已弃用的别名。
            </para>
           </listitem>
           <listitem>
            <para>
             <literal>ifplugd</literal>（设备由 <literal>ifplugd</literal> 守护程序管理时）。
            </para>
           </listitem>
           <listitem>
            <para>
             <literal>manual</literal>（应手动启动设备时）。
            </para>
           </listitem>
           <listitem>
            <para>
             <literal>nfsroot</literal>（需要将设备装入到根文件系统时，例如，当 <literal>/</literal> 位于 NFS 卷上时）。
            </para>
           </listitem>
           <listitem>
            <para>
             <literal>off</literal>（永不启动设备）。
            </para>
           </listitem>
          </itemizedlist>
        </entry>
        <entry>
         <para>
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>ifplugd_priority</literal>
         </para>
        </entry>
        <entry>
         <para>
          <literal>ifplugd</literal> 守护程序的优先级。它确定设备的激活顺序。
         </para>
        </entry>
        <entry>
         <para>
          仅适用于 <literal>ifplugd</literal> 启动模式。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>usercontrol</literal>
         </para>
        </entry>
        <entry>
         <para>
          不再使用的参数。
         </para>
        </entry>
        <entry>
         <para>
          已弃用。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>bonding_slaveX</literal>
         </para>
        </entry>
        <entry>
         <para>
          绑定设备的名称。
         </para>
        </entry>
        <entry>
         <para>
          对于绑定设备是必需的。<literal>X</literal> 将被替换为从 0 开始的编号，例如 <literal>bonding_slave0</literal>。每个从属都需要具有一个唯一编号。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>bonding_module_opts</literal>
         </para>
        </entry>
        <entry>
         <para>
          绑定设备的选项。
         </para>
        </entry>
        <entry>
         <para>
          仅适用于 <literal>bond</literal> 设备。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>mtu</literal>
         </para>
        </entry>
        <entry>
         <para>
          接口的最大传送单位。
         </para>
        </entry>
        <entry>
         <para>
          可选。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>ethtool_options</literal>
         </para>
        </entry>
        <entry>
         <para>
          设备激活期间的 Ethtool 选项。
         </para>
        </entry>
        <entry>
         <para>
          可选。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>zone</literal>
         </para>
        </entry>
        <entry>
         <para>
          接口指派到的防火墙区域名称。
         </para>
        </entry>
        <entry>
         <para>
          可选。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>vlan_id</literal>
         </para>
        </entry>
        <entry>
         <para>
          此 VLAN 使用的标识符。
         </para>
        </entry>
        <entry>
         <para>
          仅适用于 <literal>vlan</literal> 设备。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>etherdevice</literal>
         </para>
        </entry>
        <entry>
         <para>
          VLAN 挂接到的设备。
         </para>
        </entry>
        <entry>
         <para>
          仅适用于 <literal>vlan</literal> 设备以及需要它的设备。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>bridge</literal>
         </para>
        </entry>
        <entry>
         <para>
          如果接口是网桥，则为 <literal>yes</literal>。
         </para>
        </entry>
        <entry>
         <para>
          已弃用。从其他属性推断而来。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>bridge_ports</literal>
         </para>
        </entry>
        <entry>
         <para>
          网桥端口的空格分隔列表，例如 <literal>eth0 eth1</literal>。
         </para>
        </entry>
        <entry>
         <para>
          仅适用于 <literal>bridge</literal> 设备以及需要它的设备。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>bridge_stp</literal>
         </para>
        </entry>
        <entry>
         <para>
          生成树协议。可能的值为 <literal>on</literal>（启用时）和 <literal>off</literal>（禁用时）。
         </para>
        </entry>
        <entry>
         <para>
          仅适用于 <literal>bridge</literal> 设备。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>bridge_forward_delay</literal>
         </para>
        </entry>
        <entry>
         <para>
          网桥的转发延迟，例如：<literal>15</literal>。
         </para>
        </entry>
        <entry>
         <para>
          仅适用于 <literal>bridge</literal> 设备。有效值为 <literal>4</literal> 到 <literal>30</literal>。
         </para>
        </entry>
       </row>
       
      </tbody>
     </tgroup>
    </informaltable>
   </sect2>

   <sect2 xml:id="CreateProfile-Network-names">
    <title>网络接口的持久名称</title>
    <para>
     <literal>net-udev</literal> 元素允许指定一组可用于向接口指派持久名称的 udev 规则。
    </para>
    <informaltable>
     <tgroup cols="3">
      <thead>
       <row>
        <entry>
         <para>
          元素
         </para>
        </entry>
        <entry>
         <para>
          说明
         </para>
        </entry>
        <entry>
         <para>
          注释
         </para>
        </entry>
       </row>
      </thead>
      <tbody>
       <row>
        <entry>
         <para>
          <literal>name</literal>
         </para>
        </entry>
        <entry>
         <para>
          网络接口名称，例如 <literal>eth3</literal>。
         </para>
        </entry>
        <entry>
         <para>
          必要。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>rule</literal>
         </para>
        </entry>
        <entry>
         <para>
          <literal>ATTR{address}</literal> 针对基于 MAC 的规则，<literal>KERNELS</literal> 针对基于总线 ID 的规则。
         </para>
        </entry>
        <entry>
         <para>
          必要。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>value</literal>
         </para>
        </entry>
        <entry>
         <para>
          例如：<literal>f0:de:f1:6b:da:69</literal> 针对 MAC 规则，<literal>0000:00:1c.1 或 0.0.0700</literal> 针对总线 ID 规则。
         </para>
        </entry>
        <entry>
         <para>
          必要。
         </para>
        </entry>
       </row>
      </tbody>
     </tgroup>
    </informaltable>

    <tip>
     <title>处理设备名称的冲突</title>
     <para>
      创建不完整的 <emphasis>udev</emphasis> 规则集时，所选设备名称可能与现有的设备名称冲突。例如，将网络接口重命名为 <literal>eth0</literal> 时，可能会与内核自动生成的设备冲突。AutoYaST 会尽力处理这种情况并重命名有冲突的设备。
     </para>
    </tip>

    <example>
     <title>使用 MAC 地址指派持久名称</title>
<screen>&lt;net-udev config:type="list"&gt;
  &lt;rule&gt;
  &lt;name&gt;eth1&lt;/name&gt;
  &lt;rule&gt;ATTR{address}&lt;/rule&gt;
  &lt;value&gt;52:54:00:68:54:fb&lt;/value&gt;
  &lt;/rule&gt;
&lt;/net-udev&gt;</screen>
    </example>
   </sect2>

   <sect2 xml:id="CreateProfile-Network-DNS">
    <title>域名系统</title>
    <para>
     <literal>dns</literal> 部分用于定义名称服务相关的设置，例如主机名或名称服务器。
    </para>

    <informaltable>
     <tgroup cols="3">
		<colspec colwidth="1*"/>
		<colspec colwidth="2*"/>
		<colspec colwidth="2*"/>
      <thead>
       <row>
        <entry>
         <para>
          元素
         </para>
        </entry>
        <entry>
         <para>
          说明
         </para>
        </entry>
        <entry>
         <para>
          注释
         </para>
        </entry>
       </row>
      </thead>
      <tbody>
       <row>
        <entry>
         <para>
          <literal>hostname</literal>
         </para>
        </entry>
        <entry>
         <para>
          主机名，不包括域名部分。例如：<literal>foo</literal>（而不是 <literal>foo.bar</literal>）。
          </para>
        </entry>
        <entry>
         <para>
          如果未指定主机名且未从 DHCP 服务器获取主机名（请参见 <literal>dhcp_hostname</literal>），AutoYaST 将生成一个随机主机名。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>nameservers</literal>
         </para>
        </entry>
        <entry>
         <para>
          名称服务器的列表。示例：
        </para>
<screen>&lt;nameservers config:type="list"&gt;
  &lt;nameserver&gt;192.168.1.116&lt;/nameserver&gt;
  &lt;nameserver&gt;192.168.1.117&lt;/nameserver&gt;
&lt;/nameservers&gt;</screen>
        </entry>
        <entry>
         <para>
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>searchlist</literal>
         </para>
        </entry>
        <entry>
         <para>
          用于查找主机名的搜索列表。
         </para>
<screen>&lt;searchlist config:type="list"&gt;
  &lt;search&gt;example.com&lt;/search&gt;
&lt;/searchlist&gt;</screen>
        </entry>
        <entry>
         <para>
          可选。
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>dhcp_hostname</literal>
         </para>
        </entry>
        <entry>
         <para>
          指定是否必须从 DHCP 获取主机名。
         </para>
<screen>&lt;dhcp_hostname config:type="boolean"&gt;true&lt;/dhcp_hostname&gt;</screen>
        </entry>
        <entry>
         <para>
         </para>
        </entry>
       </row>
      </tbody>
     </tgroup>
    </informaltable>
   </sect2>

   <sect2 xml:id="CreateProfile-Network-Routing">
    <title>路由选择</title>
    <para>
     <literal>routing</literal> 表允许指定路由列表，以及 IPv4 和 IPv6 的包转发设置。
    </para>

    <informaltable>
     <tgroup cols="3">
      <thead>
       <row>
        <entry>
         <para>
          元素
         </para>
        </entry>
        <entry>
         <para>
          说明
         </para>
        </entry>
        <entry>
         <para>
          注释
         </para>
        </entry>
       </row>
      </thead>
      <tbody>
       <row>
        <entry>
         <para>
          <literal>ipv4_forward</literal>
         </para>
        </entry>
        <entry>
         <para>是否必须为 IPv4 启用 IP 转发。</para>
        </entry>
        <entry>
         <para>可选。</para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>ipv6_forward</literal>
         </para>
        </entry>
        <entry>
         <para>是否必须为 IPv6 启用 IP 转发。</para>
        </entry>
        <entry>
         <para>可选。</para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>routes</literal>
         </para>
        </entry>
        <entry>
         <para>路由列表。</para>
        </entry>
        <entry>
         <para>可选。</para>
        </entry>
       </row>
      </tbody>
     </tgroup>
    </informaltable>

    <para>
     下表介绍了如何定义路由。
    </para>

    <informaltable>
     <tgroup cols="3">
      <thead>
       <row>
        <entry>
         <para>
          元素
         </para>
        </entry>
        <entry>
         <para>
          说明
         </para>
        </entry>
        <entry>
         <para>
          注释
         </para>
        </entry>
       </row>
      </thead>
      <tbody>
       <row>
        <entry>
         <para>
          <literal>destination</literal>
         </para>
        </entry>
        <entry>
         <para>路由目标。可以指定地址前缀，例如：<literal>192.168.122.0/24</literal>。</para>
        </entry>
        <entry>
         <para>必要。</para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>device</literal>
         </para>
        </entry>
        <entry>
         <para>与路由关联的接口。</para>
        </entry>
        <entry>
         <para>必要。</para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>gateway</literal>
         </para>
        </entry>
        <entry>
         <para>网关的 IP 地址。</para>
        </entry>
        <entry>
         <para>可选。</para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          <literal>netmask</literal>
         </para>
        </entry>
        <entry>
         <para>目标的网络掩码。</para>
        </entry>
        <entry>
         <para>已弃用。最好是指定前缀作为 <literal>destination</literal> 值的一部分。</para>
        </entry>
       </row>
      </tbody>
     </tgroup>
    </informaltable>
   </sect2>

   <sect2 xml:id="CreateProfile-Network-s390">
    <title>s390 选项</title>
    <para>
     以下元素必须包含在 &lt;s390-devices&gt;...&lt;/s390-devices&gt; 标记之间。
    </para>
    <informaltable>
     <tgroup cols="3">
       <colspec colwidth="1*"/>
       <colspec colwidth="3*"/>
       <colspec colwidth="1*"/>
      <thead>
       <row>
        <entry>
         <para>
          元素
         </para>
        </entry>
        <entry>
         <para>
          说明
         </para>
        </entry>
        <entry>
         <para>
          注释
         </para>
        </entry>
       </row>
      </thead>
      <tbody>
       <row>
        <entry>
         <para>
          type
         </para>
        </entry>
        <entry>
         <para>
          qeth、ctc 或 iucv
         </para>
        </entry>
        <entry>
         <para/>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          chanids
         </para>
        </entry>
        <entry>
         <para>
          冒号（首选）或空格分隔的通道 ID
         </para>
<screen>&lt;chanids&gt;0.0.0700:0.0.0701:0.0.0702&lt;/chanids&gt;</screen>
        </entry>
        <entry>
         <para/>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          layer2
         </para>
        </entry>
        <entry>
         <para/>
<screen>&lt;layer2 config:type="boolean"&gt;true&lt;/layer2&gt;</screen>
        </entry>
        <entry>
         <para>
          布尔值；默认值：false
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          portname
         </para>
        </entry>
        <entry>
         <para>
          QETH 端口名（从 <phrase os="sles;sled">SLE 12 SP2</phrase> 开始已弃用）
         </para>
        </entry>
        <entry>
         <para/>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          protocol
         </para>
        </entry>
        <entry>
         <para>
          CTC/LCS 协议，一个较小的数字（字符串形式）
         </para>
<screen>&lt;protocol&gt;1&lt;/protocol&gt;</screen>
        </entry>
        <entry>
         <para>
          可选
         </para>
        </entry>
       </row>
       <row>
        <entry>
         <para>
          router
         </para>
        </entry>
        <entry>
         <para>
          IUCV 路由器/用户
         </para>
        </entry>
        <entry>
         <para/>
        </entry>
       </row>
      </tbody>
     </tgroup>
    </informaltable>

    <para>
     除上述选项外，AutoYaST 还支持在配置文件的其他部分中使用 IBM Z 特定的选项。具体而言，您可以定义逻辑链接地址，即 LLADDR（在以太网中为 MAC 地址）。为此，请在设备定义中使用选项 <literal>LLADDR</literal>。
    </para>
    <tip>
     <title>VLAN 的 LLADDR</title>
     <para>
      VLAN 设备从底层物理设备继承其 LLADDR。要为 VLAN 设备设置特定的地址，请为底层物理设备设置 LLADDR 选项。
     </para>
    </tip>
   </sect2>

   <sect2 xml:id="Configuration-Network-Proxy">
    <title>代理</title>
    <para>
     配置因特网代理（缓存）设置。
    </para>
    <para>
     使用 <literal>http_proxy</literal>、<literal>https_proxy</literal> 和 <literal>ftp_proxy</literal> 分别配置 HTTP、HTTPS 和 FTP 的代理。需使用 <literal>no_proxy</literal> 指定应可直接访问的地址或名称（空格分隔值）。如果您使用需要身份验证的代理服务器，请填写 <literal>proxy_user</literal> 和 <literal>proxy_password</literal>。
    </para>
    <example>
     <title>网络配置：代理</title>
<screen>&lt;proxy&gt;
  &lt;enabled config:type="boolean"&gt;true&lt;/enabled&gt;
  &lt;ftp_proxy&gt;http://192.168.1.240:3128&lt;/ftp_proxy&gt;
  &lt;http_proxy&gt;http://192.168.1.240:3128&lt;/http_proxy&gt;
  &lt;no_proxy&gt;www.example.com .example.org localhost&lt;/no_proxy&gt;
  &lt;proxy_password&gt;testpw&lt;/proxy_password&gt;
  &lt;proxy_user&gt;testuser&lt;/proxy_user&gt;
&lt;/proxy&gt;</screen>
    </example>
   </sect2>
   
  </sect1>
