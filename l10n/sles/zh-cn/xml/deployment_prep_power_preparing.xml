<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="deployment_prep_power_preparing.xml" version="5.0" xml:id="sec-power-prep">
 <title>准备</title>

 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes</dm:translation>
  </dm:docmanager>
 </info>

 <para>
  本节介绍在实际安装 SUSE Linux Enterprise Server 之前必须执行的准备步骤。安装过程取决于所使用的系统。支持以下方法：
 </para>

 <itemizedlist>

  <listitem>
   <para>
    <xref linkend="sec-prep-powerlinux-powerkvm-ivm" xrefstyle="select:title nopage"/>
   </para>
  </listitem>
  <listitem>
   <para>
    <xref linkend="sec-prep-powerlinux-powerkvm-bare-metal" xrefstyle="select:title nopage"/>
   </para>
  </listitem>
 </itemizedlist>

 <para>
  如果需要将 SUSE® Linux Enterprise Server 安装在多个系统或分区中，建议您创建网络安装源。同一源也可用于在几个分区或几个系统上的并行安装。在<xref linkend="sec-deployment-instserver-sles9"/>里描述了怎样配置网络安装源。
 </para>

 <sect2 xml:id="sec-prep-powerlinux-powerkvm-ivm">
  <title>
   使用 IVM 在分区中安装
  </title>
  <para>
   本指南将帮助您使用集成虚拟化管理器 (IVM) Web 界面在 Power Systems 服务器分区上安装 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>。在开始安装之前，请确保满足以下要求：
  </para>
  <itemizedlist>
   <listitem>
    <para>
     已启动 Linux on Power 系统
    </para>
   </listitem>
   <listitem>
    <para>
     已安装 Virtual I/O 服务器
    </para>
   </listitem>
   <listitem>
    <para>
     IVM 已经过初始配置
    </para>
   </listitem>
  </itemizedlist>
  <procedure>
   <title>登录到 IVM Web 界面</title>
   <step>
    <para>
     打开 Web 浏览器窗口，使用 HTTP 或 HTTPS 协议连接到安装过程中指派给 IVM 的 IP 地址（例如 https://<replaceable>IP 地址</replaceable>）。“欢迎”窗口即会显示。
    </para>
   </step>
   <step>
    <para>
     以 <systemitem class="username">padmin</systemitem> 用户身份使用在安装过程中定义的口令登录。IVM 界面即会显示。
    </para>
   </step>
   <step>
    <para>
     选择<guimenu>查看/修改虚拟以太网</guimenu>。
    </para>
   </step>
   <step>
    <para>
     单击<guimenu>初始化虚拟以太网</guimenu>以在各分区之间提供以太网连接性。
    </para>
   </step>
   <step>
    <para>
     初始化虚拟以太网后，单击<guimenu>应用</guimenu>。
    </para>
   </step>
   <step>
    <para>
     如果安装需要外部网络，请创建虚拟以太网网桥.
    </para>
    <substeps>
     <step>
      <para>
       选择<guimenu>虚拟以太网网桥</guimenu>选项卡。
      </para>
     </step>
     <step>
      <para>
       选择网桥的物理适配器，然后单击<guimenu>应用</guimenu>继续。
      </para>
     </step>
    </substeps>
   </step>
  </procedure>
  <para>接着，执行以下步骤创建分区：</para>
  <procedure>
   <title>创建分区</title>
   <step>
    <para>
     在 IVM Web 界面中，单击<menuchoice><guimenu>查看/修改分区</guimenu> <guimenu>创建分区</guimenu></menuchoice>。
    </para>
   </step>
   <step>
    <para>
     输入分区的名称。要进入下一步，请对此步骤及后续步骤单击<guimenu>下一步</guimenu>。
    </para>
   </step>
   <step>
    <para>
     指定分区的内存。如果您已创建共享内存池，则分区可以共享内存。否则，请选择<guimenu>专用</guimenu>。
    </para>
   </step>
   <step>
    <para>
     指定处理器数量和分区的处理模式。
    </para>
   </step>
   <step>
    <para>
     指定分区的虚拟以太网。如果不想配置适配器，请针对虚拟以太网选择<guimenu>无</guimenu>。
    </para>
   </step>
   <step>
    <para>
     创建新的虚拟磁盘，或指派当前未指派给分区的现有虚拟磁盘和物理卷。
    </para>
   </step>
   <step>
    <para>
     校验磁盘的<guimenu>虚拟磁盘名称</guimenu>和<guimenu>储存池名称</guimenu>，然后指定<guimenu>虚拟磁盘大小</guimenu>。
    </para>
   </step>
   <step>
    <para>
     配置分区的光驱设备，方法是扩展<guimenu>物理光驱设备</guimenu>和<guimenu>虚拟光驱设备</guimenu>，然后选择要指派给分区的设备。
    </para>
   </step>
   <step>
    <para>
     校验您的分区配置设置，然后单击<guimenu>完成</guimenu>。分区即创建完成并显示在<guimenu>查看/修改分区</guimenu>列表中。
    </para>
   </step>
  </procedure>
  <para>现在激活您已创建的分区：</para>
  <procedure>
   <title>激活分区</title>
   <step>
    <para>
     在 IVM Web 界面中，单击<guimenu>查看/修改分区</guimenu>，然后选择要激活的分区旁的方框。
    </para>
   </step>
   <step>
    <para>
     选择<guimenu>更多任务</guimenu>。
    </para>
   </step>
   <step>
    <para>
     选择<guimenu>打开终端窗口</guimenu>。
    </para>
   </step>
   <step>
    <para>
     单击分区旁边的<guimenu>激活</guimenu>。
    </para>
   </step>
   <step>
    <para>
     在终端窗口中，输入 <keycap>1</keycap> 启动系统管理服务 (SMS)。
    </para>
   </step>
  </procedure>
  <para>
   计算机现已设置完毕，您可以引导至安装的系统：
  </para>
  <procedure>
   <title>引导安装的 Linux</title>
   <step>
    <para>
     在<guimenu>引导选择</guimenu>窗口中，输入 <keycap>1</keycap> 选择 <guimenu>SMS 菜单</guimenu>。在固件引导屏幕在显示器上完全显示之前输入 <keycap>1</keycap>，因为该屏幕在完全显示后即会消失。如果错过该屏幕，请重引导系统。
    </para>
   </step>
   <step>
    <para>
     现在，可将 Virtual I/O Server (VIOS) 媒体磁盘插入磁盘驱动器。
    </para>
   </step>
   <step>
    <para>
     在<guimenu>语言选择</guimenu>菜单中按 <keycap>2</keycap> 进入输入口令屏幕。输入管理员 ID 的口令。
    </para>
   </step>
   <step>
    <para>
     在主 SMS 菜单中输入 <keycap>5</keycap> 选择<guimenu>选择引导选项</guimenu>。
    </para>
   </step>
   <step>
    <para>
     输入 <keycap>1</keycap> 选择<guimenu>安装/引导设备</guimenu>。
    </para>
   </step>
   <step>
    <para>
     输入 <keycap>7</keycap> 查看所有可用的引导设备。
    </para>
   </step>
   <step>
    <para>
     输入要使用的设备对应的数字。如果您的设备未列出，请输入 <keycap>N</keycap> 显示更多。
    </para>
   </step>
   <step>
    <para>
     输入 <keycap>2</keycap> 执行<guimenu>常规模式引导</guimenu>。
    </para>
   </step>
   <step>
    <para>
     输入 <keycap>1</keycap> 离开 SMS 菜单并启动引导进程。
    </para>
   </step>
   <step>
    <para>
     在安装程序的引导提示符处键入
    </para>
    <screen>install vnc=1
vncpassword=<replaceable>VNC_PASSWORD</replaceable></screen>
    <para>
     将 <replaceable>VNC_PASSWORD</replaceable> 替换为您所选的口令（最小长度为八个字符），然后按 <keycap function="enter"/> 开始安装 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>。内核将开始装载。
    </para>
   </step>
  </procedure>
  <para>
   内核开始装载后，安装程序需要使用来自系统的一些信息来设置 VNC 会话。您必须拥有有效的 TCP/IP 堆栈才能使用 VNC。使用 DHCP，或者使用安装程序提供的说明手动定义网络信息。
  </para>
  <procedure>
   <title>启动 VNC 会话</title>
   <step>
    <para>
     在<guimenu>网络设备</guimenu>窗口中，选择 <guimenu>eth0</guimenu> 作为您的网络设备。选择<guimenu>确定</guimenu>，然后按 <keycap function="enter"/>。
    </para>
   </step>
   <step>
    <para>
     测试安装媒体。或者，选择<guimenu>跳过</guimenu>继续而不进行测试。
    </para>
   </step>
   <step>
    <para>
     系统启动 VNC 服务器后，您将看到一条要求您连接 VNC 客户端的讯息，后跟一个 IP 地址。请记下此 IP 地址。
    </para>
   </step>
   <step>
    <para>
     在便携式计算机或 PC 上启动 VNC 客户端。输入上一步中的 IP 地址，后跟 <literal>:1</literal>，例如 192.168.2.103:1。
    </para>
   </step>
   <step>
    <para>
     按<xref linkend="cha-install"/>中所述完成安装。
    </para>
   </step>
  </procedure>
 </sect2>
 <sect2 xml:id="sec-prep-powerlinux-powerkvm-bare-metal">
  <title>
   在无 Open Power Abstraction Layer 的服务器上安装
  </title>
  <para>
   遵照下面的信息可使用串行控制台或显示器和鼠标在 Power Systems 服务器上安装 Linux。此安装假设不受管理（独立）系统已就绪，可以引导。
  </para>
  <procedure>
   <step>
    <para>
     从<guimenu>启动/关闭系统</guimenu>菜单中选择<guimenu>启动</guimenu>来启动系统。当系统询问您是否要继续使用控制台时，输入 <keycap>0</keycap> 继续使用。
    </para>
   </step>
   <step>
    <para>
     将 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 安装媒体插入磁盘驱动器。
    </para>
   </step>
   <step>
    <para>
     在<guimenu>选择语言</guimenu>窗口中，输入 <keycap>2</keycap> 继续引导过程。
    </para>
   </step>
   <step>
    <para>
     输入 <keycap>1</keycap> 接受许可协议。
    </para>
   </step>   <step>
    <para>
     在<guimenu>引导选择</guimenu>窗口中，输入 <keycap>1</keycap> 选择 <guimenu>SMS 菜单</guimenu>。在固件引导屏幕在显示器上完全显示之前输入 <keycap>1</keycap>，因为该屏幕在完全显示后即会消失。如果错过该屏幕，请重引导系统。
    </para>
   </step>
   <step>
    <para>
     在<guimenu>语言选择</guimenu>菜单中按 <keycap>2</keycap> 进入输入口令屏幕。输入管理员 ID 的口令。
    </para>
   </step>
   <step>
    <para>
     在主 SMS 菜单中输入 <keycap>5</keycap> 选择<guimenu>选择引导选项</guimenu>。
    </para>
   </step>
   <step>
    <para>
     输入 <keycap>7</keycap> 查看所有可用的引导设备。
    </para>
   </step>
   <step>
    <para>
     输入要使用的设备对应的数字。如果您的设备未列出，请输入 <keycap>N</keycap> 显示更多。
    </para>
   </step>
   <step>
    <para>
     输入 <keycap>2</keycap> 执行<guimenu>常规模式引导</guimenu>。
    </para>
   </step>   <step>
    <para>
     输入 <keycap>1</keycap> 离开 SMS 菜单并启动引导进程。
    </para>
   </step>
   <step>
    <para>
     在安装程序的引导提示符处键入
    </para>
    <screen>install vnc=1
vncpassword=<replaceable>VNC_PASSWORD</replaceable></screen>
    <para>
     将 <replaceable>VNC_PASSWORD</replaceable> 替换为您所选的口令（最小长度为八个字符），然后按 <keycap function="enter"/> 开始安装 <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>。内核将开始装载。
    </para>
   </step>
  </procedure>

  <para>
   内核开始装载后，安装程序需要使用来自系统的一些信息来设置 VNC 会话。您必须拥有有效的 TCP/IP 堆栈才能使用 VNC。使用 DHCP，或者使用安装程序提供的说明手动定义网络信息。
  </para>
  <procedure>
   <title>启动 VNC 会话</title>
   <step>
    <para>
     在<guimenu>网络设备</guimenu>窗口中，选择 <guimenu>eth0</guimenu> 作为您的网络设备。选择<guimenu>确定</guimenu>，然后按 <keycap function="enter"/>。
    </para>
   </step>
   <step>
    <para>
     测试安装媒体。或者，选择<guimenu>跳过</guimenu>继续而不进行测试。
    </para>
   </step>
   <step>
    <para>
     系统启动 VNC 服务器后，您将看到一条要求您连接 VNC 客户端的讯息，后跟一个 IP 地址。请记下此 IP 地址。
    </para>
   </step>
   <step>
    <para>
     在便携式计算机或 PC 上启动 VNC 客户端。输入上一步中的 IP 地址，后跟 <literal>:1</literal>，例如 192.168.2.103:1。
    </para>
   </step>
   <step>
    <para>
     按<xref linkend="cha-install"/>中所述完成安装。
    </para>
   </step>
  </procedure>
 </sect2>

</sect1>
