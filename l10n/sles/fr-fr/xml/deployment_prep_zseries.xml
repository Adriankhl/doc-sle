<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="deployment_prep_zseries.xml" version="5.0" xml:id="cha-zseries">
 <title>Installation sur IBM Z</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>oui</dm:translation>
  </dm:docmanager>
  <abstract>
   <para>
    Ce chapitre décrit la procédure pour préparer l'installation de <phrase role="productname"><phrase os="sles">SUSE® Linux Enterprise Server</phrase></phrase> sur les systèmes IBM Z. Il fournit toutes les informations nécessaires pour préparer l'installation du côté LPAR et z/VM.
   </para>
  </abstract>
 </info>
 <xi:include href="deployment_prep_zseries_requirements.xml"/>
 <xi:include href="deployment_prep_zseries_info_i.xml"/>
 <xi:include href="deployment_prep_zseries_prep_i.xml"/>
 <sect1 xml:id="sec-appdendix-parm">
  <title>Fichier parmfile : automatisation de la configuration du système</title>

  <para>
   Vous pouvez en partie automatiser le processus d'installation en spécifiant les paramètres déterminants dans le fichier <filename>parmfile</filename>. Le fichier <filename>parmfile</filename> contient toutes les données requises pour la configuration réseau et la configuration DASD. Il peut en outre être utilisé pour configurer la méthode de connexion au système d'installation de <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> et l'instance de YaST exécutée à cet endroit. L'intervention de l'utilisateur se limite donc à l'installation de YaST à l'aide des boîtes de dialogue YaST.
  </para>

  <para>
   Vous pouvez transférer les paramètres suivants à la routine d'installation. Ils sont alors considérés comme des valeurs par défaut pour l'installation. Les adresses IP, les noms de serveurs et les valeurs numériques sont donnés à titre d'exemples. Remplacez ces valeurs par celles dont vous avez besoin dans votre scénario d'installation.
  </para>

  <para>
   Le nombre de lignes dans le fichier parmfile est limité à 10. Spécifiez plusieurs paramètres par ligne. Les noms de ces paramètres ne tiennent pas compte des majuscules et des minuscules. Séparez les paramètres par des espaces. Vous pouvez spécifier les paramètres dans n'importe quel ordre. Conservez toujours la chaîne <literal>PARAMETER=value</literal> sur la même ligne. Par exemple :
  </para>

<screen>Hostname=s390zvm01.suse.de HostIP=10.11.134.65</screen>

  <tip>
   <title>utilisation du protocole IPv6 au cours de l'installation</title>
   <para>
    Par défaut, vous ne pouvez assigner à votre machine que des adresses réseau IPv4. Pour activer IPv6 au cours de l'installation, entrez l'un des paramètres suivants lors de l'invite de démarrage : <literal>ipv6=1</literal> (accepter IPv4 et IPv6) ou <literal>ipv6only=1</literal> (n'accepter qu'IPv6).
   </para>
  </tip>

  <para>
   Certains paramètres de démarrage sont requis. S'ils sont manquants, le processus automatique s'interrompt et vous êtes invité à saisir manuellement la valeur.
  </para>

  <para>
   La liste des paramètres de démarrage disponibles est fournie dans le <xref linkend="cha-boot-parameters"/>.
  </para>
 </sect1>
 <sect1 xml:id="sec-appdendix-parm-examples">
  <title>Exemple de fichiers parmfile</title>
  <para>
   La capacité maximale d'un fichier parmfile est de 860 caractères. En règle générale, ce type de fichier doit contenir, au maximum, 10 lignes de 79 caractères. Lors de la lecture d'un fichier parmfile, toutes les lignes sont concaténées sans ajouter d'espaces. Par conséquent, le dernier caractère (79) de chaque ligne doit être un <keycap function="space"/>.
  </para>
  <para>
   Pour recevoir les messages d'erreur potentiels sur la console, utilisez
  </para>
<screen>linuxrclog=/dev/console</screen>
  <example xml:id="ex-appdendix-parm-ex1">
   <title>Fichier parmfile pour une installation à partir de NFS avec VNC et AutoYaST</title>
<screen>ramdisk_size=131072 root=/dev/ram1 ro init=/linuxrc TERM=dumb
instnetdev=osa osainterface=qdio layer2=1 osahwaddr=
pointopoint=192.168.0.1
hostip=192.168.0.2
nameserver=192.168.0.3
install=nfs://192.168.0.4/SLES/SLES-12-Server/s390x/DVD1
autoyast=http://192.168.0.5/autoinst.xml
linuxrclog=/dev/console vnc=1
VNCPassword=testing</screen>
  </example>
  <example xml:id="ex-appdendix-parm-ex2">
   <title>Fichier parmfile pour une installation avec NFS, SSH et HSI et AutoYaST avec NFS</title>
<screen>ramdisk_size=131072 root=/dev/ram1 ro init=/linuxrc TERM=dumb
AutoYast=nfs://192.168.1.1/autoinst/s390.xml
Hostname=zsystems.example.com HostIP=192.168.1.2
Gateway=192.168.1.3 Nameserver=192.168.1.4
InstNetDev=hsi layer2=0
Netmask=255.255.255.128 Broadcast=192.168.1.255
readchannel=0.0.702c writechannel=0.0.702d datachannel=0.0.702e
install=nfs://192.168.1.5/SLES-12-Server/s390x/DVD1/
ssh=1 ssh.password=testing linuxrclog=/dev/console</screen>
  </example>
  <example xml:id="ex-appdendix-parm-ex3">
   <title>Fichier parmfile pour une installation sur réseau VLAN</title>
<screen>ro ramdisk_size=50000 MANUAL=0 PORTNO=1 ReadChannel=0.0.b140
WriteChannel=0.0.b141 DataChannel=0.0.b142
cio_ignore=all,!condev,!0.0.b140-0.0.b142,!0.0.e92c,!0.0.5000,!0.0.5040
HostIP= Gateway= Hostname=zsystems.example.com nameserver=192.168.0.1
Install=ftp://user:password@10.0.0.1/s390x/SLES15.0/INST/ usevnc=1
vncpassword=12345 InstNetDev=osa Layer2=1 OSAInterface=qdio ssl_certs=0
osahwaddr= domain=example.com self_update=0
ifcfg=eth0.201=192.168.0.2/16,192.168.0.1</screen>
  </example>
 </sect1>
 <sect1 xml:id="sec-appdendix-vt220">
  <title>Utilisation de l'émulateur de terminal vt220</title>

  <para>
   Des niveaux MicroCode récents permettent d'utiliser un émulateur de terminal (terminal ASCII) vt220 intégré en plus du terminal de mode ligne standard. Le terminal vt220 est connecté à <filename>/dev/ttysclp0</filename>. Le terminal de mode ligne est connecté à <filename>/dev/ttysclp_line0</filename>. Dans le cas des installations LPAR, l'émulateur de terminal vt220 est activé par défaut.
  </para>

  <para>
   Pour démarrer la console ASCII sur HMC, connectez-vous à HMC, puis sélectionnez <menuchoice> <guimenu>Gestion des systèmes</guimenu> <guimenu>Systèmes</guimenu> <guimenu><phrase><replaceable>ID_IMAGE</replaceable></phrase> </guimenu></menuchoice>. Sélectionnez la case d'option correspondant à LPAR, puis cliquez sur <menuchoice> <guimenu>Récupération</guimenu> <guimenu>Integrated ASCII Console (Console ASCII intégrée)</guimenu> </menuchoice>.
  </para>

  <para>
   Pour rediriger les messages du kernel au moment du démarrage de la console du système vers le terminal vt220, ajoutez les entrées suivantes à la ligne <literal>parameters</literal> dans <filename>/etc/zipl.conf</filename> :
  </para>

<screen>console=ttysclp0 console=ttysclp_line0</screen>

  <para>
   La ligne <literal>parameters</literal> générée ressemble à l'exemple suivant :
  </para>

<screen>parameters = "root=/dev/dasda2 TERM=dumb console=ttysclp0 console=ttysclp_line0"</screen>

  <para>
   Enregistrez les modifications dans le fichier <filename>/etc/zipl.conf</filename>, exécutez la commande <command>zipl</command> et redémarrez le système.
  </para>
 </sect1>
 <sect1 xml:id="sec-appdendix-further-information">
  <title>Informations détaillées supplémentaires sur IBM Z</title>

  <para>
   Vous trouverez de la documentation technique détaillée supplémentaire sur IBM Z dans les publications IBM Redbooks (<link xlink:href="https://www.redbooks.ibm.com/Redbooks.nsf/domains/zsystems"/>) ou IBM developerWorks (<link xlink:href="https://www.ibm.com/developerworks/linux/linux390/"/>). De la documentation spécifique à <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> est disponible sur le site <link xlink:href="https://www.ibm.com/developerworks/linux/linux390/documentation_suse.html"/>.
  </para>

  <sect2 xml:id="sec-intro-further-information-general">
   <title>Documents généraux concernant Linux sur IBM Z</title>
   <para>
    Vous trouverez des informations générales au sujet de Linux sur IBM Z dans les documents suivants :
   </para>
   <itemizedlist>
    <listitem>
     <para>
      Linux on IBM eServer zSeries and S/390: ISP and ASP Solutions (Linux sur les systèmes IBM eServer zSeries et S/390 : Solutions FAI et FAH) (SG24-6299)
     </para>
    </listitem>
   </itemizedlist>
   <para>
    Ces documents ne reflètent peut-être pas l'état courant de Linux, mais les principes du déploiement Linux décrits à cet endroit restent justes.
   </para>
  </sect2>

  <sect2 xml:id="sec-intro-further-information-technical">
   <title>Problèmes techniques liés à Linux sous IBM Z</title>
   <para>
    Pour plus d'informations techniques sur le kernel Linux et ses domaines d'application, reportez-vous aux documents suivants. Pour obtenir des versions mises à jour de ces documents, reportez-vous au site <link xlink:href="http://www.ibm.com/developerworks/linux/linux390/index.html"/>.
   </para>
   <itemizedlist>
    <listitem>
     <para>
      Linux on System z Device Drivers, Features, and Commands (Linux pour pilotes de périphériques System z, fonctionnalités et commandes)
     </para>
    </listitem>
    <listitem>
     <para>
      Complément à l'interface d'application binaire zSeries ELF
     </para>
    </listitem>
    <listitem>
     <para>
      Linux on System z Device Drivers, Using the Dump Tools (Linux pour pilotes de périphériques System z, utilisation des outils de vidage)
     </para>
    </listitem>
    <listitem>
     <para>
      IBM zEnterprise 196 Technical Guide (Guide technique d'IBM zEnterprise 196)
     </para>
    </listitem>
    <listitem>
     <para>
      IBM zEnterprise EC12 Technical Guide (Guide technique d'IBM zEnterprise EC12)
     </para>
    </listitem>
    <listitem>
     <para>
      IBM z13 Technical Guide (Guide technique d'IBM z13)
     </para>
    </listitem>
   </itemizedlist>
   <para>
    Pour obtenir le Livre rouge sur le développement des applications Linux, vous pouvez aussi consulter la page <link xlink:href="http://www.redbooks.ibm.com"/> :
   </para>
   <itemizedlist>
    <listitem>
     <para>
      Linux on IBM eServer zSeries and S/390: Application Development (Linux sur les systèmes IBM eServer zSeries et S/390 : Développement des Applications) (SG24-6807)
     </para>
    </listitem>
   </itemizedlist>
  </sect2>

  <sect2 xml:id="sec-info-further-information-advanced">
   <title>Configurations avancées pour Linux sous IBM Z</title>
   <para>
    Reportez-vous aux documents et liens suivants pour obtenir des scénarios IBM Z plus complexes :
   </para>
   <itemizedlist>
    <listitem>
     <para>
      Linux on IBM eServer zSeries and S/390: Large Scale Deployment (Linux sur les systèmes IBM eServer zSeries et S/390 : Déploiement à grande échelle) (SG24-6824)
     </para>
    </listitem>
    <listitem>
     <para>
      Linux on IBM eServer zSeries and S/390: Performance Measuring and Tuning (Linux sur les systèmes IBM eServer zSeries et S/390 : Mesure et Ajustement des Performances) (SG24-6926)
     </para>
    </listitem>
    <listitem>
     <para>
      Linux with zSeries and ESS: Essentials (Linux avec zSeries et ESS : Les bases essentielles) (SG24-7025)
     </para>
    </listitem>
    <listitem>
     <para>
      IBM TotalStorage Enterprise Storage Server Implementing ESS Copy Services with IBM eServer zSeries (IBM TotalStorage Enterprise Storage Server avec ESS Copy Services sur IBM eServer zSeries) (SG24-5680)
     </para>
    </listitem>
    <listitem>
     <para>
      Linux on IBM zSeries and S/390: High Availability for z/VM and Linux (Linux sur les systèmes IBM zSeries et S/390 : Haute disponibilité pour z/VM et Linux) (REDP-0220)
     </para>
    </listitem>
    <listitem>
     <para>
      Gestion et planification des segments enregistrés
     </para>
     <para>
      <link xlink:href="http://publibz.boulder.ibm.com/epubs/pdf/hcsg4a00.pdf"/>
     </para>
    </listitem>
    <listitem>
     <para>
      Linux on System z documentation for « Development stream » (Linux avec une documentation sur les systèmes System z pour le « Flux de développement »)
     </para>
     <para>
      <link xlink:href="http://www.ibm.com/developerworks/linux/linux390/development_documentation.html"/>
     </para>
    </listitem>
   </itemizedlist>
  </sect2>

  <sect2 xml:id="sec-info-further-information-kvm">
   <title>Virtualisation avec KVM sur IBM Z</title>
   <para>
    Reportez-vous aux documents suivants à l'adresse <link xlink:href="https://www.ibm.com/developerworks/linux/linux390/documentation_dev.html"/> pour plus d'informations concernant KVM sur IBM Z :
   </para>
   <itemizedlist>
    <listitem>
     <para>
      <citetitle>Installing SUSE Linux Enterprise Server 12 as a KVM Guest</citetitle> (Installation de SUSE Linux Enterprise Server 12 en tant qu'invité KVM) (SC34--2755-00)
     </para>
    </listitem>
    <listitem>
     <para>
      <citetitle>KVM Virtual Server Quick Start</citetitle> (Démarrage rapide du serveur virtuel KVM) (SC34-2753-01)
     </para>
    </listitem>
    <listitem>
     <para>
      <citetitle>KVM Virtual Server Management</citetitle> (Gestion du serveur virtuel KVM) (SC34-2752-01)
     </para>
    </listitem>
    <listitem>
     <para>
      <citetitle>Device Drivers, Features, and Commands for Linux as a KVM Guest</citetitle> (Pilotes de périphériques, fonctionnalités et commandes de Linux en tant qu'invité KVM) (kernel 4.4) (SC34-2754-01)
     </para>
    </listitem>
   </itemizedlist>
  </sect2>
 </sect1>
</chapter>
