<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="deployment_prep_zseries.xml" version="5.0" xml:id="cha-zseries">
 <title>Instalação no IBM Z</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>sim</dm:translation>
  </dm:docmanager>
  <abstract>
   <para>
    Este capítulo descreve o procedimento de preparação da instalação do <phrase role="productname"><phrase os="sles">SUSE® Linux Enterprise Server</phrase></phrase> no IBM Z. Ele apresenta todas as informações necessárias para preparar a instalação na LPAR e no z/VM.
   </para>
  </abstract>
 </info>
 <xi:include href="deployment_prep_zseries_requirements.xml"/>
 <xi:include href="deployment_prep_zseries_info_i.xml"/>
 <xi:include href="deployment_prep_zseries_prep_i.xml"/>
 <sect1 xml:id="sec-appdendix-parm">
  <title>Parmfile: automatizando a configuração do sistema</title>

  <para>
   O processo de instalação pode ser parcialmente automatizado por meio da especificação de parâmetros cruciais no arquivo <filename>parmfile</filename>. O <filename>parmfile</filename> contém todos os dados necessários para a configuração da rede e do DASD. Além disso, esse arquivo pode ser usado para configurar o método de conexão com o sistema de instalação do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> e a instância do YaST em execução nesse local. A interação com o usuário fica, portanto, limitada à instalação real doYaST controlada por suas caixas de diálogo.
  </para>

  <para>
   É possível passar os parâmetros a seguir para a rotina de instalação, que os leva à instalação como valores padrão. Todos os endereços IP, nomes de servidor e valores numéricos são exemplos. Substitua esses valores por aqueles necessários no cenário de instalação.
  </para>

  <para>
   O número de linhas no parmfile é limitado a 10. Especifique mais de um parâmetro em uma linha. Os nomes dos parâmetros não diferenciam maiúsculas de minúsculas. Separe os parâmetros com espaços. Você pode especificá-los em qualquer ordem. Sempre mantenha a string <literal>PARAMETER=value</literal> junta em uma linha. Por exemplo:
  </para>

<screen>Hostname=s390zvm01.suse.de HostIP=10.11.134.65</screen>

  <tip>
   <title>Usando IPv6 durante a instalação</title>
   <para>
    Por padrão, só é possível atribuir endereços de rede IPv4 à sua máquina. Para habilitar o IPv6 durante a instalação, digite um dos seguintes parâmetros no prompt de boot: <literal>ipv6=1</literal> (IPv4 e IPv6 são aceitos) ou <literal>ipv6only=1</literal> (apenas IPv6 é aceito).
   </para>
  </tip>

  <para>
   Alguns parâmetros de boot são necessários. Se estiverem ausentes, o processo automático será pausado e solicitará a entrada do valor manualmente.
  </para>

  <para>
   Há uma lista dos parâmetros de boot disponíveis no <xref linkend="cha-boot-parameters"/>.
  </para>
 </sect1>
 <sect1 xml:id="sec-appdendix-parm-examples">
  <title>Parmfiles de exemplo</title>
  <para>
   A capacidade máxima do parmfile é de 860 caracteres. De acordo com a prática, o parmfile deve incluir no máximo 10 linhas com até 79 caracteres. Ao ler um parmfile, todas as linhas são concatenadas sem adicionar espaços em branco, portanto, o último caractere (79) de cada linha deve ser um <keycap function="space"/>.
  </para>
  <para>
   Para receber possíveis mensagens de erro no console, use
  </para>
<screen>linuxrclog=/dev/console</screen>
  <example xml:id="ex-appdendix-parm-ex1">
   <title>Parmfile para instalação do NFS com VNC e AutoYaST</title>
<screen>ramdisk_size=131072 root=/dev/ram1 ro init=/linuxrc TERM=dumb
instnetdev=osa osainterface=qdio layer2=1 osahwaddr=
pointopoint=192.168.0.1
hostip=192.168.0.2
nameserver=192.168.0.3
install=nfs://192.168.0.4/SLES/SLES-12-Server/s390x/DVD1
autoyast=http://192.168.0.5/autoinst.xml
linuxrclog=/dev/console vnc=1
VNCPassword=testing</screen>
  </example>
  <example xml:id="ex-appdendix-parm-ex2">
   <title>Parmfile para instalação com NFS, SSH e HSI e AutoYaST com NFS</title>
<screen>ramdisk_size=131072 root=/dev/ram1 ro init=/linuxrc TERM=dumb
AutoYast=nfs://192.168.1.1/autoinst/s390.xml
Hostname=zsystems.example.com HostIP=192.168.1.2
Gateway=192.168.1.3 Nameserver=192.168.1.4
InstNetDev=hsi layer2=0
Netmask=255.255.255.128 Broadcast=192.168.1.255
readchannel=0.0.702c writechannel=0.0.702d datachannel=0.0.702e
install=nfs://192.168.1.5/SLES-12-Server/s390x/DVD1/
ssh=1 ssh.password=testing linuxrclog=/dev/console</screen>
  </example>
  <example xml:id="ex-appdendix-parm-ex3">
   <title>Parmfile para instalação na VLAN</title>
<screen>ro ramdisk_size=50000 MANUAL=0 PORTNO=1 ReadChannel=0.0.b140
WriteChannel=0.0.b141 DataChannel=0.0.b142
cio_ignore=all,!condev,!0.0.b140-0.0.b142,!0.0.e92c,!0.0.5000,!0.0.5040
HostIP= Gateway= Hostname=zsystems.example.com nameserver=192.168.0.1
Install=ftp://user:password@10.0.0.1/s390x/SLES15.0/INST/ usevnc=1
vncpassword=12345 InstNetDev=osa Layer2=1 OSAInterface=qdio ssl_certs=0
osahwaddr= domain=example.com self_update=0
ifcfg=eth0.201=192.168.0.2/16,192.168.0.1</screen>
  </example>
 </sect1>
 <sect1 xml:id="sec-appdendix-vt220">
  <title>Usando o emulador de terminal vt220</title>

  <para>
   Os recentes níveis de MicroCode permitem usar um emulador de terminal vt220 integrado (terminal ASCII), além do terminal de modo de linha padrão. O terminal vt220 é conectado a <filename>/dev/ttysclp0</filename>. O terminal de modo de linha é conectado a <filename>/dev/ttysclp_line0</filename>. Para instalações LPAR, o emulador de terminal vt220 está ativado por padrão.
  </para>

  <para>
   Para iniciar o console ASCII no HMC, efetue login no HMC e selecione <menuchoice> <guimenu>Systems Management (Gerenciamento de Sistemas)</guimenu> <guimenu>Systems (Sistemas)</guimenu><guimenu><phrase><replaceable>ID_DA_IMAGEM</replaceable></phrase> </guimenu></menuchoice>. Selecione o botão de opção do LPAR e <menuchoice> <guimenu>Recovery (Recuperação)</guimenu><guimenu>Integrated ASCII Console (Console ASCII Integrado)</guimenu> </menuchoice>.
  </para>

  <para>
   Para redirecionar as mensagens do kernel no momento da inicialização, do console do sistema para o terminal vt220, adicione as seguintes entradas à linha <literal>parameters</literal> em <filename>/etc/zipl.conf</filename>:
  </para>

<screen>console=ttysclp0 console=ttysclp_line0</screen>

  <para>
   A linha <literal>parameters</literal> resultante teria a seguinte aparência:
  </para>

<screen>parameters = "root=/dev/dasda2 TERM=dumb console=ttysclp0 console=ttysclp_line0"</screen>

  <para>
   Grave as mudanças em <filename>/etc/zipl.conf</filename>, execute o comando <command>zipl</command> e reinicialize o sistema.
  </para>
 </sect1>
 <sect1 xml:id="sec-appdendix-further-information">
  <title>Informações mais detalhadas sobre o IBM Z</title>

  <para>
   Localize a documentação técnica detalhada adicional sobre o IBM Z em IBM Redbooks (<link xlink:href="https://www.redbooks.ibm.com/Redbooks.nsf/domains/zsystems"/>) ou IBM developerWorks (<link xlink:href="https://www.ibm.com/developerworks/linux/linux390/"/>). A documentação específica do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> está disponível em <link xlink:href="https://www.ibm.com/developerworks/linux/linux390/documentation_suse.html"/>.
  </para>

  <sect2 xml:id="sec-intro-further-information-general">
   <title>Documentos gerais sobre Linux no IBM Z</title>
   <para>
    Há uma cobertura geral sobre o Linux no IBM Z disponível nos seguintes documentos:
   </para>
   <itemizedlist>
    <listitem>
     <para>
      Linux on IBM eServer zSeries and S/390: ISP and ASP Solutions (SG24-6299)
     </para>
    </listitem>
   </itemizedlist>
   <para>
    Esses documentos podem não refletir o estado atual do Linux, mas os princípios de implantação do Linux descritos permanecem precisos.
   </para>
  </sect2>

  <sect2 xml:id="sec-intro-further-information-technical">
   <title>Technical Issues of Linux on IBM Z (Problemas técnicos do Linux no IBM Z)</title>
   <para>
    Consulte os documentos a seguir para ver as informações técnicas detalhadas sobre o kernel do Linux e os tópicos de aplicativo. Consulte a Internet para obter versões atualizadas destes documentos com o code drop mais recente (<link xlink:href="http://www.ibm.com/developerworks/linux/linux390/index.html"/>).
   </para>
   <itemizedlist>
    <listitem>
     <para>
      Drivers de dispositivo, recursos e comandos do Linux em System z
     </para>
    </listitem>
    <listitem>
     <para>
      Suplemento de Interface Binária do Aplicativo zSeries ELF
     </para>
    </listitem>
    <listitem>
     <para>
      Drivers de dispositivo do Linux em System z, usando as ferramentas de dump
     </para>
    </listitem>
    <listitem>
     <para>
      IBM zEnterprise 196 Technical Guide (Guia Técnico do IBM zEnterprise 196)
     </para>
    </listitem>
    <listitem>
     <para>
      IBM zEnterprise EC12 Technical Guide (Guia Técnico do IBM zEnterprise EC12)
     </para>
    </listitem>
    <listitem>
     <para>
      IBM z13 Technical Guide (Guia Técnico do IBM z13)
     </para>
    </listitem>
   </itemizedlist>
   <para>
    Também há um Redbook para desenvolvimento de aplicativo Linux em <link xlink:href="http://www.redbooks.ibm.com"/>:
   </para>
   <itemizedlist>
    <listitem>
     <para>
      Linux on IBM eServer zSeries and S/390: Application Development (SG24-6807)
     </para>
    </listitem>
   </itemizedlist>
  </sect2>

  <sect2 xml:id="sec-info-further-information-advanced">
   <title>Advanced Configurations for Linux on IBM Z (Configurações avançadas do Linux no IBM Z)</title>
   <para>
    Consulte os seguintes Redbooks, Redpapers e links para ver alguns cenários mais complexos do IBM Z:
   </para>
   <itemizedlist>
    <listitem>
     <para>
      Linux on IBM eServer zSeries and S/390: Large Scale Deployment (SG24-6824)
     </para>
    </listitem>
    <listitem>
     <para>
      Linux on IBM eServer zSeries and S/390: Performance Measuring and Tuning (SG24-6926)
     </para>
    </listitem>
    <listitem>
     <para>
      Linux with zSeries and ESS: Essentials (SG24-7025)
     </para>
    </listitem>
    <listitem>
     <para>
      IBM TotalStorage Enterprise Storage Server Implementing ESS Copy Services with IBM eServer zSeries (SG24-5680)
     </para>
    </listitem>
    <listitem>
     <para>
      Linux on IBM zSeries and S/390: High Availability for z/VM and Linux (REDP-0220)
     </para>
    </listitem>
    <listitem>
     <para>
      Planejamento e administração de segmentos salvos
     </para>
     <para>
      <link xlink:href="http://publibz.boulder.ibm.com/epubs/pdf/hcsg4a00.pdf"/>
     </para>
    </listitem>
    <listitem>
     <para>
      Documentação do Linux no System z para "Fluxo de desenvolvimento"
     </para>
     <para>
      <link xlink:href="http://www.ibm.com/developerworks/linux/linux390/development_documentation.html"/>
     </para>
    </listitem>
   </itemizedlist>
  </sect2>

  <sect2 xml:id="sec-info-further-information-kvm">
   <title>Virtualização com KVM no IBM Z</title>
   <para>
    Consulte os seguintes documentos em <link xlink:href="https://www.ibm.com/developerworks/linux/linux390/documentation_dev.html"/> para obter mais informações sobre o KVM no IBM Z:
   </para>
   <itemizedlist>
    <listitem>
     <para>
      <citetitle>Installing SUSE Linux Enterprise Server 12 as a KVM Guest</citetitle> (Instalando o SUSE Linux Enterprise Server 12 como um convidado KVM – SC34--2755-00)
     </para>
    </listitem>
    <listitem>
     <para>
      <citetitle>KVM Virtual Server Quick Start</citetitle> (Inicialização Rápida do Servidor Virtual KVM – SC34-2753-01)
     </para>
    </listitem>
    <listitem>
     <para>
      <citetitle>KVM Virtual Server Management</citetitle> (Gerenciamento do servidor virtual KVM – SC34-2752-01)
     </para>
    </listitem>
    <listitem>
     <para>
      <citetitle>Device Drivers, Features, and Commands for Linux as a KVM Guest</citetitle> (Drivers de dispositivo, recursos e comandos para Linux como um convidado KVM (Kernel 4.4) – SC34-2754-01)
     </para>
    </listitem>
   </itemizedlist>
  </sect2>
 </sect1>
</chapter>
