<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="deployment_pxe.xml" version="5.0" role="General" xml:id="cha-deployment-prep-pxe">
 <title>Preparando o ambiente de boot de rede</title>
 <info>
  <abstract>
   <para>
    Este capítulo descreve como configurar um servidor DHCP e TFTP que fornecem a infraestrutura necessária para inicialização com PXE.
   </para>
  </abstract>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>sim</dm:translation>
  </dm:docmanager>
 </info>

 <para>
  É possível instalar o <phrase role="productname"><phrase os="sles">SUSE® Linux Enterprise Server</phrase></phrase> por meio de um PXE (Preboot Execution Environment). O hardware do cliente precisa suportar a inicialização via PXE. A rede precisa ter um servidor DHCP e um servidor TFTP para fornecer os dados necessários aos clientes. Este capítulo guiará você pela configuração dos servidores necessários.
 </para>
 <para>
  O PXE inicializa apenas um kernel e um initrd. Ele pode ser usado para inicialização em um ambiente de instalação ou em sistemas ativos. Para configurar as fontes de instalação, consulte o <xref linkend="cha-deployment-instserver"/>.
 </para>
 <para>
  Esta seção aborda as tarefas de configuração necessárias em cenários complexos de inicialização. Contém exemplos de configurações prontas para aplicar referentes a DHCP, inicialização PXE, TFTP e Wake on LAN.
 </para>
 <para>
  Nos exemplos, assumimos que os servidores DHCP, TFTP e NFS residem na mesma máquina com o IP <literal>192.168.1.1</literal>. Todos os serviços podem residir em máquinas diferentes sem problemas. Mude os endereços IP conforme necessário.
 </para>
 <sect1 xml:id="sec-deployment-dhcp-server">
  <title>Configurando um servidor DHCP</title>
  <para>
   Além de fornecer alocação automática de endereços aos clientes de rede, o servidor DHCP anuncia o endereço IP do servidor TFTP e os caminhos para os arquivos do Kernel e do Initrd. O arquivo que precisa ser carregado depende da arquitetura da máquina de destino e se o boot de BIOS ou UEFI legado foi utilizado. Os clientes transmitem o tipo de arquitetura na solicitação DHCP. Com base nessas informações, o servidor DHCP pode decidir de quais arquivos o cliente deve fazer download para inicialização.
  </para>
  <procedure xml:id="pro-deployment-dhcp-server">
   <step>
    <para>
     Efetue login como <systemitem class="username">root</systemitem> na máquina que hospeda o servidor DHCP.
    </para>
   </step>
   <step>
    <para>
     Habilite o servidor DHCP executando <command>systemctl enable dhcpd</command>.
    </para>
   </step>
   <step>
    <para>
     Anexe as linhas seguintes a uma configuração de sub-rede do arquivo de configuração de seu servidor DHCP localizado em <filename>/etc/dhcpd.conf</filename>:
    </para>
<screen># The following lines are optional
option domain-name "my.lab";
option domain-name-servers 192.168.1.1;
option routers 192.168.1.1;
option ntp-servers 192.168.1.1;
ddns-update-style none;
default-lease-time 3600;

# The following lines are required
option arch code 93 = unsigned integer 16; # RFC4578
subnet 192.168.1.0 netmask 255.255.255.0 {
 next-server 192.168.1.1;
 range 192.168.1.100 192.168.1.199;
 default-lease-time 3600;
 max-lease-time 3600;
 if option arch = 00:07 or option arch = 00:09 {
   filename "/EFI/x86/grub.efi";
 }
 else if option arch = 00:0b {
   filename "/EFI/aarch64/bootaa64.efi";
 }
 else  {
   filename "/BIOS/x86/pxelinux.0";
 }
}</screen>
    <para>
     Este exemplo de configuração usa a sub-rede <literal>192.168.1.0/24</literal> com o DHCP, o DNS e o gateway no servidor com o IP <literal>192.168.1.1</literal>. Verifique se todos os endereços IP usados mudam de acordo com o layout da rede. Para obter mais informações sobre as opções disponíveis em <filename>dhcpd.conf</filename>, consulte a página de manual sobre <systemitem>dhcpd.conf</systemitem>.
    </para>
   </step>
   <step>
    <para>
     Reinicie o servidor DHCP executando <command>systemctl restart dhcpd</command>.
    </para>
   </step>
  </procedure>
  <para>
   Se você planeja usar SSH para controle remoto de uma instalação PXE e Wake on LAN, especifique o endereço IP que o DHCP deve fornecer ao destino de instalação. Para isso, modifique a configuração DHCP mencionada acima de acordo com o exemplo a seguir:
  </para>
<screen>group {
 host test {
   hardware ethernet <replaceable>MAC_ADDRESS</replaceable>;
   fixed-address <replaceable>IP_ADDRESS</replaceable>;
   }
}
</screen>
  <para>
   A declaração de host apresenta o nome de host do destino de instalação. Para vincular o nome de host e o endereço IP a um host específico, você deve saber e especificar o endereço de hardware (MAC) do sistema. Substitua todas as variáveis usadas neste exemplo pelos valores reais que correspondem ao seu ambiente.
  </para>
  <para>
   Após a reinicialização do servidor DHCP, ele fornece um IP estático para o host especificado, habilitando-o a conectar-se ao sistema por SSH.
  </para>
 </sect1>

 <sect1 xml:id="sec-deployment-tftp-server">
  <title>Configurando um servidor TFTP</title>
  <para>
   Os procedimentos a seguir descrevem como preparar o servidor para máquinas de destino com UEFI e BIOS em arquiteturas x86 de 32 e 64 bits. A estrutura preparada já dispõe também de um local para os sistemas AArch64.
  </para>
  <sect2 xml:id="sec-deployment-tftp-server-install">
   <title>Instalando o servidor TFTP</title>
   <para>
    Para instalar um servidor TFTP, siga o procedimento abaixo:
   </para>

   <procedure>
    <step>
     <para>
      Instale o pacote <systemitem>tftp</systemitem>.
     </para>
     <screen><prompt>tux &gt; </prompt><command>sudo</command> <command>zypper in tftp</command></screen>
    </step>
    <step>
     <para>
      Revise a configuração do <systemitem class="daemon">tftpd</systemitem> em <filename>/etc/sysconfig/tftp</filename> e adicione ou mude as opções conforme necessário. Consulte o <command>man 8 tftpd</command> para obter mais detalhes. O daemon do TFTP funciona sem mudar a configuração. O diretório raiz padrão para os arquivos é <filename>/srv/tftpboot</filename>.
     </para>
    </step>
    <step>
     <para>
      Verifique se o <systemitem class="daemon">tftpd</systemitem> foi iniciado no momento da inicialização e reinicie-o para ler a nova configuração.
     </para>
     <screen><prompt>tux &gt; </prompt><command>sudo</command> <command>systemctl enable tftp.socket</command>
<prompt>tux &gt; </prompt><command>sudo</command> <command>systemctl restart tftp.socket</command></screen>
    </step>
   </procedure>
  </sect2>
  <sect2 xml:id="sec-deployment-tftp-server-grub-package">
   <title>Instalando os arquivos PXE do pacote</title>
   <para>
    O <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> fornece os arquivos necessários para inicialização via PXE nas máquinas BIOS ou UEFI em um RPM. Instale os arquivos na máquina que executa o servidor TFTP:
   </para>
   <screen><prompt>tux &gt; </prompt><command>sudo</command> <command>zypper in tftpboot-installation-SLES-<replaceable>OS_VERSION</replaceable>-<replaceable>ARCHITECTURE</replaceable></command></screen>
   <para>
    Substitua <replaceable>VERSÃO_DO_OS</replaceable> pela versão da instalação do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>. Por exemplo, <literal>15</literal> e <replaceable>ARQUITETURA</replaceable> pela arquitetura do seu sistema, como <literal>x86_64</literal>. Você pode usar <command>zypper se tftpboot</command> para pesquisar todas as arquiteturas e versões disponíveis.
   </para>
   <para>
    Os arquivos serão instalados em <filename>/srv/tftpboot/SLES-<replaceable>VERSÃO_DO_OS</replaceable>-<replaceable>ARQUITETURA</replaceable></filename>. Você também pode copiar os arquivos de outras versões e arquiteturas do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> para o diretório <filename>/srv/tftpboot</filename>.
   </para>
  </sect2>
  <sect2 xml:id="sec-deployment-tftp-server-pxelinux">
   <title>Configurando o PXELINUX</title>
   <para>
    Abra o arquivo <filename>/srv/tftpboot/SLES-<replaceable>VERSÃO_DO_OS</replaceable>-<replaceable>ARQUITETURA</replaceable>/net/pxelinux.cfg/default</filename> em um editor. Substitua o caminho para o parâmetro <literal>install</literal> de acordo com a sua configuração, conforme descrito no <xref linkend="cha-deployment-instserver"/>. Substitua também <replaceable>SERVIDOR_TFTP</replaceable> pelo endereço IP do servidor TFTP. Para obter uma visão geral das opções de configuração PXELINUX, consulte a <xref linkend="sec-deployment-prep-boot-pxeopts"/>.
   </para>
<screen>default linux

# install
label linux
  ipappend 2
  kernel boot/<replaceable>ARCHITECTURE</replaceable>/loader/linux
  append initrd=boot/x86_64/<replaceable>ARCHITECTURE</replaceable>/initrd instsys=tftp://<replaceable>TFTP_SERVER</replaceable>/SLES-<replaceable>OS_VERSION</replaceable>-<replaceable>ARCHITECTURE</replaceable>/boot/<replaceable>ARCHITECTURE</replaceable>/root install=<replaceable>PROTOCOL</replaceable>://<replaceable>SERVER_IP</replaceable>:/<replaceable>PATH</replaceable>

display  message
implicit 1
prompt  1
timeout  50</screen>
   <para>
    Para obter detalhes sobre os parâmetros de boot que são usados na linha <literal>append</literal>, consulte a <xref linkend="sec-boot-parameters-list"/>.
   </para>
   <para>
    Se necessário, edite o <filename>/srv/tftpboot/SLES-<replaceable>VERSÃO_DO_OS</replaceable>-<replaceable>ARQUITETURA</replaceable>/net/pxelinux.cfg/message</filename> para exibir uma mensagem no menu de boot.
   </para>
  </sect2>
  <sect2 xml:id="sec-deployment-tftp-server-efilinux-x86">
   <title>Preparando o boot PXE para EFI com GRUB2</title>
   <para>
    Não é necessário mudar os arquivos de configuração do GRUB 2. No entanto, nas configurações padrão, não é fornecida nenhuma fonte de rede para o sistema de instalação. Para instalar completamente o <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> pela rede, adicione o parâmetro <option>install</option> às linhas <option>linuxefi</option> no arquivo <filename>/srv/tftpboot/SLES-<replaceable>VERSÃO_DO_OS</replaceable>-<replaceable>ARQUITETURA</replaceable>/EFI/BOOT/grub.cfg</filename>. Defina o parâmetro <literal>install</literal> de acordo com a sua configuração, conforme descrito no <xref linkend="cha-deployment-instserver"/>. Para obter detalhes sobre outros parâmetros de boot que são usados nas linhas <literal>efilinux</literal>, consulte a <xref linkend="sec-boot-parameters-list"/>.
   </para>
  </sect2>
 </sect1>
 <sect1 xml:id="sec-deployment-prep-boot-pxeopts">
  <title>Opções de configuração PXELINUX</title>

  <para>
   As opções relacionadas aqui são um subconjunto de todas as opções disponíveis para o arquivo de configuração PXELINUX.
  </para>

  <variablelist>
   <varlistentry>
    <term><option>APPEND <replaceable>OPTIONS</replaceable></option>
    </term>
    <listitem>
     <para>
      Adiciona uma ou mais opções à linha de comando do kernel. São adicionadas para inicializações manuais e automáticas. As opções são adicionadas no início da linha de comando do kernel, normalmente permitindo que as opções de kernel digitadas explicitamente as substituam.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>APPEND -</option>
    </term>
    <listitem>
     <para>
      Não anexa nada. <option>APPEND</option> com um único hífen como argumento em uma seção <option>LABEL</option> pode ser usado para anular um <option>APPEND</option> global.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>DEFAULT <replaceable>KERNEL_OPTIONS</replaceable>...</option>
    </term>
    <listitem>
     <para>
      Configura a linha de comando padrão do kernel. Se PXELINUX é inicializado automaticamente, atua como se as entradas após DEFAULT tivessem sido digitadas no prompt de boot, exceto a opção auto, que é adicionada automaticamente, indicando uma inicialização automática.
     </para>
     <para>
      Se não houver nenhum arquivo de configuração ou nenhuma entrada DEFAULT definida no arquivo de configuração, o padrão será o nome do kernel <quote>linux</quote> sem opções.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>

    <term><option>IFAPPEND <replaceable>FLAG</replaceable></option>
    </term>
    <listitem>
     <para>
      Adiciona uma opção específica à linha de comando do kernel de acordo com o valor <replaceable>FLAG</replaceable>. A opção <option>IFAPPEND</option> está disponível apenas no PXELINUX. <replaceable>FLAG</replaceable> espera um valor, descrito em <xref linkend="tab-deployment-boot-pxeopts-ifappend"/>:
     </para>
     <table xml:id="tab-deployment-boot-pxeopts-ifappend">
      <title>Opções de linha de comando do kernel geradas e adicionadas do <option>IFAPPEND</option></title>
      <tgroup cols="2">
       <colspec colwidth="1*"/>
       <colspec colwidth="4*"/>
       <thead>
        <row>
         <entry valign="middle">
          <para>
           Argumento
          </para>
         </entry>
         <entry>
          <para>
           Linha de Comando do Kernel Gerada/Descrição
          </para>
         </entry>
        </row>
       </thead>
       <tbody>
        <row>
         <entry>
          <para>
           <option>1</option>
          </para>
         </entry>
         <entry>
<screen>ip=<replaceable>CLIENT_IP</replaceable>:<replaceable>BOOT_SERVER_IP</replaceable>:<replaceable>GW_IP</replaceable>:<replaceable>NETMASK</replaceable></screen>
          <para>
           Os marcadores são substituídos de acordo com a entrada do servidor DHCP/BOOTP ou boot PXE.
          </para>
          <para>
           Observe que essa opção não substitui a execução de um cliente DHCP no sistema inicializado. Sem as renovações regulares, o aluguel adquirido pelo BIOS PXE vai expirar, disponibilizando o endereço IP para reutilização do servidor DHCP.
          </para>
         </entry>
        </row>
        <row>
         <entry>
          <para>
           <option>2</option>
          </para>
         </entry>
         <entry>
<screen>BOOTIF=<replaceable>MAC_ADDRESS_OF_BOOT_INTERFACE</replaceable></screen>
          <para>
           Essa opção é útil para evitar tempos de espera quando o servidor de instalação investiga uma interface LAN em seguida da outra, até obter uma resposta de um servidor DHCP. Essa opção permite que um programa initrd determine de qual interface o sistema foi inicializado. O linuxrc lê essa opção e utiliza essa interface de rede.
          </para>
         </entry>
        </row>
        <row>
         <entry>
          <para>
           <option>4</option>
          </para>
         </entry>
         <entry>
<screen>SYSUUID=<replaceable>SYSTEM_UUID</replaceable></screen>
          <para>
           Adiciona UUIDs como hexadecimais em minúsculas, consulte <filename>/usr/share/doc/packages/syslinux/pxelinux.txt</filename>
          </para>
         </entry>
        </row>
       </tbody>
      </tgroup>
     </table>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>LABEL <replaceable>LABEL</replaceable> KERNEL <replaceable>IMAGE</replaceable> APPEND <replaceable>OPTIONS</replaceable>...</option>
    </term>
    <listitem>
     <para>
      Se <replaceable>LABEL</replaceable> foi inserido como o kernel de boot, indica que o PXELINUX deve inicializar a <replaceable>IMAGE</replaceable> e que as opções <option>APPEND</option> especificadas devem ser usadas. Elas substituem as que foram especificadas na seção global do arquivo, antes do primeiro comando <option>LABEL</option>. O padrão para <replaceable>IMAGE</replaceable> é o mesmo de <replaceable>LABEL</replaceable> e, se não for fornecido nenhum <option>APPEND</option>, o padrão será usar a entrada global (se houver). Até 128 entradas <option>LABEL</option> são permitidas.
     </para>

     <para>
      E PXELINUX usa a seguinte sintaxe:
     </para>
<screen>label <replaceable>MYLABEL</replaceable>
  kernel <replaceable>MYKERNEL</replaceable>
  append <replaceable>MYOPTIONS</replaceable></screen>
     <para>
      Os rótulos são desmembrados como se fossem nomes de arquivo e deverão ser exclusivos após o desmembramento. Por exemplo, não seria possível distinguir os dois rótulos <quote>v2.6.30</quote> e <quote>v2.6.31</quote> em PXELINUX, pois ambos são desmembrados em um mesmo nome de arquivo do DOS.
     </para>
     <para>
      O kernel não precisa ser do Linux. Ele também pode ser um setor de boot ou um arquivo COMBOOT.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>LOCALBOOT <replaceable>TYPE</replaceable></option>
    </term>
    <listitem>
     <para>
      Em PXELINUX, especificar <option>LOCALBOOT 0</option> em vez de uma opção <option>KERNEL</option> significa chamar este rótulo específico e causa uma inicialização de disco local em vez de uma inicialização de kernel.
     </para>
     <informaltable frame="topbot" rowsep="0">
      <tgroup cols="2">

       <thead>
        <row>
         <entry>
          <para>
           Argumento
          </para>
         </entry>
         <entry>
          <para>
           Descrição
          </para>
         </entry>
        </row>
       </thead>
       <tbody>
        <row>
         <entry>
          <para>
           <literal>0</literal>
          </para>
         </entry>
         <entry>
          <para>
           Executa uma inicialização normal
          </para>
         </entry>
        </row>
        <row>
         <entry>
          <para>
           <literal>4</literal>
          </para>
         </entry>
         <entry>
          <para>
           Executa uma inicialização local com o driver UNDI (Universal Network Driver Interface) ainda residente na memória
          </para>
         </entry>
        </row>
        <row>
         <entry>
          <para>
           <literal>5</literal>
          </para>
         </entry>
         <entry>
          <para>
           Realiza uma inicialização local com toda a pilha PXE, incluindo o driver UNDI, ainda residente na memória
          </para>
         </entry>
        </row>
       </tbody>
      </tgroup>
     </informaltable>
     <para>
      Todos os outros valores são indefinidos. Se você não sabe quais são as pilhas UNDI ou PXE, especifique <literal>0</literal>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>TIMEOUT <replaceable>TIME-OUT</replaceable></option>
    </term>
    <listitem>
     <para>
      Indica quanto tempo esperar no prompt de boot até inicializar automaticamente, em unidades de 1/10 de segundo. O tempo de espera é cancelado quando o usuário digita algo no teclado, considerando que ele concluirá o comando que começou. O tempo de espera zero desabilita completamente o tempo de espera (que é também o padrão). O valor do tempo de espera máximo possível é 35996 (pouco menos de uma hora).
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>PROMPT<replaceable> val_flag</replaceable></option>
    </term>
    <listitem>
     <para>
      Se <option>flag_val</option> for 0, o prompt de boot apenas será exibido se a tecla <keycap function="shift"/> ou <keycap function="alt"/> for pressionada ou se <keycap>Caps Lock</keycap> ou <keycap>Scroll Lock</keycap> estiver ativado (padrão). Se <option>val_flag</option> for 1, exibirá sempre o prompt de boot.
     </para>
<screen>F2  <replaceable>FILENAME</replaceable>
F1  <replaceable>FILENAME</replaceable>
..etc...
F9  <replaceable>FILENAME</replaceable>
F10 <replaceable>FILENAME</replaceable></screen>
     <para>
      Exibe o arquivo indicado na tela quando uma tecla de função é pressionada no prompt de boot. Isso pode ser usado para implementar a ajuda online de pré-inicialização (supostamente para as opções de linha do comando do kernel). Para compatibilidade com versões anteriores, <keycap>F10</keycap> também pode ser digitado como <literal>F0</literal>. Observe que ainda não há um meio de vincular nomes de arquivo a <keycap>F11</keycap> e <keycap>F12</keycap>.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
 <sect1 xml:id="sec-deployment-prep-boot-pxeprep">
  <title>Preparando o sistema de destino para inicialização PXE</title>

  <para>
   Prepare o BIOS do sistema para a inicialização PXE incluindo a opção PXE na ordem de inicialização do BIOS.
  </para>

  <warning>
   <title>Ordem de inicialização do BIOS</title>
   <para>
    Não coloque a opção PXE na frente do parâmetro de boot do disco rígido no BIOS. Do contrário, o sistema tentaria se reinstalar sempre que fosse inicializado.
   </para>
  </warning>
 </sect1>
 <sect1 xml:id="sec-deployment-prep-boot-wolprep">
  <title>Preparando o sistema de destino para Wake on LAN</title>

  <para>
   Wake on LAN (WOL) requer que a opção de BIOS adequada seja habilitada antes da instalação. Além disso, anote o endereço MAC do sistema de destino. Esses dados são necessários para iniciar o Wake on LAN.
  </para>
 </sect1>
 <sect1 xml:id="sec-deployment-prep-boot-wol">
  <title>Ativação na LAN</title>

  <para>
   Wake on LAN permite que a máquina seja ativada por um pacote de rede especial contendo o endereço MAC da máquina. Como toda máquina no mundo tem um identificador MAC exclusivo, não se preocupe caso ligue acidentalmente a máquina errada.
  </para>

  <important>
   <title>Wake on LAN em diferentes segmentos de rede</title>
   <para>
    Se a máquina de controle não estiver localizada no mesmo segmento de rede que o destino do comando WOL, você terá 2 opções. Configure as solicitações WOL para serem enviadas como multicasts ou controle remotamente uma máquina nesse segmento de rede para atuar como remetente das solicitações.
   </para>
  </important>

  <para>
   Os usuários do SUSE Linux Enterprise Server podem utilizar um módulo do YaST chamado WOL para configurar facilmente o Wake on LAN. Os usuários de outras versões de sistemas operacionais baseados no SUSE Linux podem usar uma ferramenta de linha de comando.
  </para>
 </sect1>
 <sect1 xml:id="sec-deployment-prep-boot-wolyast">
  <title>Wake on LAN com o YaST</title>
  <para>
   Use esse procedimento para configurar Wake on LAN com YaST.
  </para>
  <procedure xml:id="pro-deployment-prep-boot-wolyast">
   <step>
    <para>
     Efetue login como <systemitem class="username">root</systemitem>.
    </para>
   </step>
   <step>
    <para>
     Inicie <menuchoice><guimenu>YaST</guimenu><guimenu>Serviços de Rede</guimenu><guimenu>WOL</guimenu></menuchoice>.
    </para>
   </step>
   <step>
    <para>
     Clique em <guimenu>Adicionar</guimenu> e digite o nome de host e o endereço MAC do sistema de destino.
    </para>
   </step>
   <step>
    <para>
     Para ativar essa máquina, selecione a entrada apropriada e clique em <guimenu>Wake up</guimenu>.
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec-deployment-prep-boot-mksusecd">
  <title>Inicializando da unidade de CD ou USB, em vez do PXE</title>
  <para>
   Você também pode usar uma unidade de CD, DVD ou USB com uma pequena imagem do sistema em vez de inicializar por PXE. Os arquivos necessários serão buscados por NFS quando o kernel e o initrd forem carregados. É possível criar uma imagem inicializável com <command>mksusecd</command>. Isso poderá ser útil se a máquina de destino não suportar boot PXE.
  </para>
  <para>
   Faça a instalação com o comando <command>sudo zypper in mksusecd</command>. Use o seguinte comando para criar uma imagem ISO inicializável:
  </para>
  <screen><prompt>tux &gt; </prompt><command>mksusecd</command> --create image.iso \
--net=nfs://192.168.1.1:/srv/install/<replaceable>ARCH</replaceable>/<replaceable>OS_VERSION</replaceable>/<replaceable>SP_VERSION</replaceable>/cd1  \
/srv/tftpboot/EFI/<replaceable>ARCH</replaceable>/boot</screen>
  <para>
   Substitua <replaceable>ARCH</replaceable> pelo diretório correspondente à arquitetura do sistema de destino. Substitua também <replaceable>versão_OS</replaceable> e <replaceable>versão_SP</replaceable> de acordo com os seus caminhos na <xref linkend="sec-deployment-tftp-server"/>.
  </para>
  <para>
   Em vez de usar um servidor NFS para a opção <option>--net</option>, também é possível usar um repositório HTTP. Por exemplo, o repositório openSUSE:
  </para>
  <screen><prompt>tux &gt; </prompt><command>mksusecd</command> --create image.iso \
--net=http://download.opensuse.org/tumbleweed/repo/oss/suse \
/srv/tftpboot/EFI/<replaceable>ARCH</replaceable>/boot</screen>
  <para>
   É possível gravar <filename>image.iso</filename> em um DVD ou CD ou usar o comando <command>dd</command> em um pendrive USB:
  </para>
  <screen><prompt role="root">root # </prompt><command>dd</command> if=image.iso of=/dev/<replaceable>USB_DEVICE</replaceable></screen>
  <para>
   Substitua <replaceable>DISPOSITIVO_USB</replaceable> pelo nome do pendrive USB. Verifique o nome completo do dispositivo para garantir que você não destrua acidentalmente os dados em outra unidade.
  </para>
 </sect1>
</chapter>
