<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="yast2_ncurses.xml" version="5.0" xml:id="cha-yast-text">

 <title>YaST em modo de texto</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes (sim)</dm:translation>
  </dm:docmanager>
 </info><indexterm xml:id="idx-YaST-text-mode" class="startofrange"> <primary>YaST</primary><secondary>modo de texto</secondary></indexterm>
 <para>
  Esta seção destina-se principalmente a administradores e especialistas do sistema que não executam um servidor X em seus sistemas e dependem da ferramenta de instalação baseada em texto. Ela contém informações básicas sobre como iniciar e operar o YaST em modo de texto.
 </para><indexterm> <primary>YaST</primary> <secondary>ncurses</secondary></indexterm>
 <para>
  O YaST em modo de texto usa a biblioteca ncurses para fornecer uma interface pseudográfica do usuário fácil. A biblioteca ncurses está instalada por padrão. O tamanho mínimo suportado do emulador de terminal no qual executar o YaST é de 80 x 25 caracteres.
 </para>
 <figure xml:id="fig-yast2-ncurses">
  <title>Janela principal do YaST em modo de texto</title>
  <mediaobject>
   <imageobject role="fo">
    <imagedata fileref="yast2_ncurses_main.png" width="70%" format="PNG"/>
   </imageobject>
   <imageobject role="html">
    <imagedata fileref="yast2_ncurses_main.png" width="75%" format="PNG"/>
   </imageobject>
  </mediaobject>
 </figure>
 <para>
  Quando você inicia o YaST em modo de texto, o centro de controle do YaST é exibido (consulte a <xref linkend="fig-yast2-ncurses" xrefstyle="select:label nopage"/>). A janela principal contém três áreas: O quadro esquerdo apresenta as categorias às quais pertencem os vários módulos. Esse frame torna-se ativo quando o YaST é iniciado e, portanto, é marcado por uma borda branca em negrito. A categoria ativa é selecionada. O quadro direito apresenta uma visão geral dos módulos disponíveis na categoria ativa. O frame inferior contém os botões <guimenu>Ajuda</guimenu> e <guimenu>Sair</guimenu>.
 </para>
 <para>
  Quando você inicia o centro de controle do YaST, a categoria <guimenu>Software</guimenu> é selecionada automaticamente. Use <keycap function="down"/> e <keycap function="up"/> para mudar a categoria. Para selecionar um módulo da categoria, ative o frame direito com <keycap function="right"/> e, em seguida, use <keycap function="down"/> e <keycap function="up"/> para selecionar o módulo. Mantenha as teclas de seta pressionadas para rolar pela lista de módulos disponíveis. Após selecionar um módulo, pressione <keycap function="enter"/> para iniciá-lo.
 </para>
 <para>
  Vários botões ou campos de seleção no módulo contêm uma letra realçada (amarelo por padrão). Use <keycombo action="press"><keycap function="alt"/><keycap>letra_realçada</keycap></keycombo> para selecionar um botão diretamente, em vez de navegar até ele com <keycap function="tab"/>. Saia do centro de controle do YaST pressionando <keycombo action="press"><keycap function="alt"/><keycap>Q</keycap></keycombo> ou selecionando <guimenu>Sair</guimenu> e pressionando <keycap function="enter"/>.
 </para>
 <tip>

  <title>Atualizando caixas de diálogo do YaST</title>
  <para>
   Se uma caixa de diálogo do YaST for corrompida ou  distorcida (por exemplo, ao redimensionar a janela), pressione  <keycombo action="press"><keycap function="control"/><keycap>L</keycap></keycombo> para atualizar e restaurar seu conteúdo.
  </para>
 </tip>

 <sect1 xml:id="sec-yast-navi-ncurses-modul">
  <title>Navegação em módulos</title>

  <para>
   A seguinte descrição dos elementos de controle nos módulos do YaST pressupõe que todas as teclas de função e combinações de teclas <keycap function="alt"/> funcionam e que não estão atribuídas a funções globais diferentes. Leia a <xref linkend="sec-yast-ncurses-tasten"/> para obter informações sobre possíveis exceções.
  </para>

  <variablelist>
   <varlistentry>
    <term>Navegação entre botões e listas de seleção</term>
    <listitem>
     <para>
      Use <keycap function="tab"/> para navegar entre os botões e frames contendo listas de seleção. Para navegar na ordem inversa, use combinações de <keycombo action="press"> <keycap function="alt"/> <keycap function="tab"/> </keycombo> ou <keycombo action="press"> <keycap function="shift"/> <keycap function="tab"/> </keycombo>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Navegação em listas de seleção</term>
    <listitem>
     <para>
      Use as teclas de seta (<keycap function="up"/> e <keycap function="down"/>) para navegar entre os elementos individuais em um frame ativo que contenha uma lista de seleção. Se entradas individuais em um frame excederem a sua largura, use <keycombo action="press"><keycap function="shift"/> <keycap function="right"/></keycombo> ou <keycombo action="press"> <keycap function="shift"/> <keycap function="left"/></keycombo> para mover a barra de rolagem horizontalmente para a direita e esquerda. Alternativamente, use <keycombo action="press"> <keycap function="control"/> <keycap>E</keycap> </keycombo> ou <keycombo action="press"> <keycap function="control"/> <keycap>A</keycap> </keycombo>. Será possível também utilizar essa combinação se o uso de <keycap function="right"/> ou <keycap function="left"/> resultar na mudança do frame ativo ou da lista de seleção atual, como no centro de controle.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Botões, botões de opção e caixas de seleção</term>
    <listitem>
     <para>
      Para selecionar botões com colchetes vazios (caixas de seleção) ou parênteses vazios (botões de opção), pressione <keycap function="space"/> ou <keycap function="enter"/>. Alternativamente, pode-se selecionar botões de opção e caixas de seleção diretamente com <keycombo action="press"> <keycap function="alt"/> <keycap>letra_realçada</keycap></keycombo>. Nesse caso, não é necessário confirmar com <keycap function="enter"/>. Se você navegar até um item com <keycap function="tab"/>, pressione <keycap function="enter"/> para executar a ação selecionada ou ativar o item de menu respectivo.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Teclas de função</term>
    <listitem>
     <para>
      As teclas de função (<keycap>F1</keycap> ... <keycap>F12</keycap>) permitem acesso rápido aos vários botões. As combinações de teclas de função disponíveis (<literal>F<replaceable>X</replaceable></literal>) são mostradas na linha inferior da tela do YaST. As teclas de função que são realmente mapeadas para cada botão dependem do módulo do YaST ativo, pois módulos diferentes oferecem botões diferentes (<guimenu>Detalhes</guimenu>, <guimenu>Informações</guimenu>, <guimenu>Adicionar</guimenu>, <guimenu>Apagar</guimenu>, etc.). Use <keycap>F10</keycap> para <guimenu>Aceitar</guimenu>, <guimenu>OK</guimenu>, <guimenu>Avançar</guimenu> e <guimenu>Concluir</guimenu>. Pressione <keycap>F1</keycap> para acessar a ajuda do YaST.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Usando a árvore de navegação no modo ncurses</term>
    <listitem>
     <para>
      Alguns módulos do YaST usam uma árvore de navegação na parte esquerda da janela para seleção de caixas de diálogo de configuração. Use as teclas de seta (<keycap function="up"/> e <keycap function="down"/>) para navegar na árvore. Use <keycap function="space"/> para abrir ou fechar itens da árvore. No modo ncurses, você deve pressionar <keycap function="enter"/> após uma seleção na árvore de navegação para mostrar a caixa de diálogo selecionada. Esse é um comportamento intencional que visa reduzir o tempo gasto para redesenhar durante a navegação na árvore.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Seleção de Software no Módulo Instalação de Software</term>
    <listitem>
     <para>
      Use os filtros à esquerda para limitar a quantidade de pacotes exibidos. Os pacotes instalados estão marcados com a letra <literal>i</literal>. Para mudar o status de um pacote, pressione <keycap function="space"/> ou <keycap function="enter"/>. Se preferir, use o menu <guimenu>Ações</guimenu> para selecionar a mudança de status necessária (instalar, apagar, atualizar, proibir ou bloquear).
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  <figure xml:id="fig-yast2-ncurses-inst">
   <title>Módulo de instalação de software</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="yast2_ncurses_inst.png" width="70%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="yast2_ncurses_inst.png" width="75%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>
 </sect1>

 <sect1 xml:id="sec-yast-ncurses-advanced-hotkeys">
  <title>Combinações de teclas avançadas</title>
  <para>O YaST em modo de texto tem um conjunto de combinações de teclas avançadas.</para>
  <variablelist>
   <varlistentry>
    <term>
     <keycombo action="press"><keycap function="shift"/><keycap>F1</keycap></keycombo>
    </term>
    <listitem>
     <para>
      Mostrar uma lista das teclas de atalho avançadas.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>
     <keycombo action="press"><keycap function="shift"/><keycap>F4</keycap></keycombo>
    </term>
    <listitem>
     <para>
      Mudar o esquema de cores.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>
     <keycombo action="press"><keycap function="control"/><keycap>\</keycap></keycombo>
    </term>
    <listitem>
     <para>
      Sair do aplicativo.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>
     <keycombo action="press"><keycap function="control"/><keycap>L</keycap></keycombo>
    </term>
    <listitem>
     <para>
      Atualizar tela.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>
     <keycombo action="press"><keycap function="control"/><keycap>D</keycap></keycombo> <keycap>F1</keycap>
    </term>
    <listitem>
     <para>
      Mostrar uma lista das teclas de atalho avançadas.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>
     <keycombo action="press"><keycap function="control"/><keycap>D</keycap></keycombo> <keycombo action="press"><keycap function="shift"/><keycap>D</keycap></keycombo>
    </term>
    <listitem>
     <para>
      Despejo da caixa de diálogo no arquivo de registro como uma captura de tela.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>
     <keycombo action="press"><keycap function="control"/><keycap>D</keycap></keycombo> <keycombo action="press"><keycap function="shift"/><keycap>Y</keycap></keycombo>
    </term>
    <listitem>
     <para>
      Abrir YDialogSpy para ver a hierarquia do widget.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>

 <sect1 xml:id="sec-yast-ncurses-tasten">
  <title>Restrição de combinações de tecla</title>

  <para>
   Se o seu gerenciador de janelas usar combinações <keycap function="alt"/> globais, as combinações <keycap function="alt"/> no YaST talvez não funcionem. Teclas como <keycap function="alt"/> ou <keycap function="shift"/> também podem ser ocupadas pelas configurações do terminal.
  </para>

  <variablelist>
   <varlistentry>
    <term>Substituição de <keycap function="alt"/> por <keycap function="escape"/>
    </term>
    <listitem>
     <para>
      Os atalhos com <keycap function="alt"/> podem ser executados com <keycap function="escape"/> em vez de <keycap function="alt"/>. Por exemplo, <keycombo action="seq"> <keycap function="escape"/><keycap>H</keycap></keycombo> substitui <keycombo action="press"> <keycap function="alt"/><keycap>H</keycap></keycombo>. (Primeiro pressione <keycap function="escape"/>, <emphasis>depois</emphasis> <keycap>H</keycap>.)
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term> Navegação para trás e para frente com <keycombo action="press"><keycap function="control"/><keycap>F</keycap></keycombo> e <keycombo action="press"><keycap function="control"/><keycap>B</keycap></keycombo>
    </term>
    <listitem>
     <para>
      Se as combinações de <keycap function="alt"/> e <keycap function="shift"/> estiverem ocupadas pelo gerenciador de janelas ou pelo terminal, use as combinações <keycombo action="press"> <keycap function="control"/> <keycap>F</keycap></keycombo> (para frente) e <keycombo action="press"> <keycap function="control"/><keycap>B</keycap></keycombo> (para trás).
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Restrição de teclas de função</term>
    <listitem>
     <para>
      As teclas de função (<keycap>F1</keycap> ... <keycap>F12</keycap>) também são usadas para funções. Certas teclas de função podem estar ocupadas pelo terminal e talvez não estejam disponíveis para o YaST. No entanto, as combinações de teclas <keycap function="alt"/> e teclas de função devem estar sempre disponíveis em um console de texto puro.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
 <sect1 xml:id="sec-yast-ncurses-commands">
  <title>Opções de linha de comando do YaST</title><indexterm> <primary>YaST</primary> <secondary>linha de comando</secondary></indexterm>

  <para>
   Além da interface de modo de texto, o YaST oferece uma interface de linha de comando pura. Para obter uma lista das opções de linha de comando do YaST, digite:
  </para>

<screen>yast -h</screen>

  <sect2 xml:id="sec-yast-ncurses-modulaufruf">
   <title>Iniciando os módulos individuais</title><indexterm> <primary>YaST</primary><secondary>modo de texto</secondary><tertiary>módulos</tertiary></indexterm>
   <para>
    Para economizar tempo, os módulos do YaST individuais podem ser iniciados diretamente. Para iniciar um módulo, digite:
   </para>
<screen>yast &lt;module_name&gt;</screen>
   <para>
    Exiba uma lista de todos os nomes de módulos disponíveis no seu sistema com <command>yast -l</command> ou <command>yast --list</command>. Inicie o módulo de rede, por exemplo, com <command>yast lan</command>.
   </para>
  </sect2>

  <sect2 xml:id="sec-yast-ncurses-cmdl">
   <title>Instalando pacotes a partir da linha de comando</title>
   <para>
    Se você sabe o nome de um pacote e este é fornecido por qualquer um dos seus repositórios de instalação ativos, você pode usar a opção de linha de comando <option>-i</option> para instalar o pacote:
   </para>
<screen>yast -i &lt;package_name&gt;</screen>
   <para>
    ou
   </para>
<screen>yast --install &lt;package_name&gt;</screen>
   <para>
    <replaceable>NOME_DO_PACOTE</replaceable> pode ser um único nome de pacote abreviado (por exemplo, <systemitem class="resource">gvim</systemitem>), instalado com verificação de dependência, ou o caminho completo para um pacote RPM, instalado sem verificação de dependência.
   </para>
   <para>
    Se você precisar de um utilitário de gerenciamento de software baseado em linha de comando com funcionalidade adicional à fornecida pelo YaST, considere a possibilidade de usar o Zypper. Esse utilitário usa a mesma biblioteca de gerenciamento de software que também é a base do gerenciador de pacote do YaST. O uso básico do Zypper está apresentado na <xref linkend="sec-zypper"/>.
   </para>
  </sect2>

  <sect2 xml:id="sec-yast-ncurses-modulaufruf-installing">
   <title>Parâmetros de linha de comando dos módulos do YaST</title>
   <para>
    Para usar a funcionalidade do YaST em scripts, ele oferece suporte a linha de comando para módulos individuais. Nem todos os módulos têm suporte para linha de comando. Para exibir as opções disponíveis de um módulo, digite:
   </para>
<screen>yast &lt;module_name&gt; help</screen>
   <para>
    Se um módulo não fornecer suporte para linha de comando, ele será iniciado no modo de texto e a seguinte mensagem aparecerá:
   </para>
<screen>This YaST module does not support the command line interface.</screen><indexterm class="endofrange" startref="idx-YaST-text-mode"/>
  </sect2>
 </sect1>
</chapter>
