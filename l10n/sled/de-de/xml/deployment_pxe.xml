<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="deployment_pxe.xml" version="5.0" role="General" xml:id="cha-deployment-prep-pxe">
 <title>Vorbereiten der Netzwerk-Boot-Umgebung</title>
 <info>
  <abstract>
   <para>
    In diesem Kapitel wird beschrieben, wie Sie einen DHCP- und einen TFTP-Server konfigurieren, die die erforderliche Infrastruktur für das Booten über PXE bilden.
   </para>
  </abstract>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>Ja</dm:translation>
  </dm:docmanager>
 </info>

 <para>
  <phrase role="productname"><phrase os="sled">SUSE® Linux Enterprise Desktop</phrase></phrase> kann über PXE (Preboot Execution Environment) installiert werden. Die Client-Hardware muss das Booten über PXE unterstützen. Das Netzwerk muss einen DHCP-Server und einen TFTP-Server umfassen, die den Clients die erforderlichen Daten bereitstellen. Dieses Kapitel führt Sie durch die Einrichtung der erforderlichen Server.
 </para>
 <para>
  Mit PXE werden lediglich ein Kernel und initrd gebootet. Hiermit können Sie in eine Installationsumgebung oder in Live-Systeme booten. Weitere Informationen zum Einrichten der Installationsquellen finden Sie in <xref linkend="cha-deployment-instserver"/>.
 </para>
 <para>
  In diesem Abschnitt werden die für komplexe Boot-Szenarien erforderlichen Konfigurationsschritte beschrieben. Er enthält zudem Konfigurationsbeispiele für DHCP, PXE-Boot, TFTP und Wake-on-LAN.
 </para>
 <para>
  In den Beispielen wird vorausgesetzt, dass sich der DHCP-, TFTP- und NFS-Server auf demselben Computer mit der IP-Adresse <literal>192.168.1.1</literal> befinden. Alle Dienste können sich jedoch problemlos auf verschiedenen Computern befinden. Ändern Sie die IP-Adressen in jedem Fall entsprechend.
 </para>
 <sect1 xml:id="sec-deployment-dhcp-server">
  <title>Einrichten eines DHCP-Servers</title>
  <para>
   Neben der automatischen Adresszuweisung für die Netzwerk-Clients gibt der DHCP-Server die IP-Adresse des TFTP-Servers sowie den Pfad der Kernel- und Initrd-Dateien bekannt. Die zu ladende Datei ist abhängig vom Zielcomputer sowie von der Frage, ob Legacy-BIOS oder UEFI-Boot verwendet wird. Die Clients übermitteln ihren Architekturtyp in der DHCP-Anforderung. Auf der Grundlage dieser Installation kann der DHCP-Server ermitteln, welche Dateien der Client zum Booten herunterladen muss.
  </para>
  <procedure xml:id="pro-deployment-dhcp-server">
   <step>
    <para>
     Melden Sie sich als <systemitem class="username">root</systemitem> auf dem Computer an, der den DHCP-Server bereitstellt.
    </para>
   </step>
   <step>
    <para>
     Aktivieren Sie den DHCP-Server mit <command>systemctl enable dhcpd</command>.
    </para>
   </step>
   <step>
    <para>
     Fügen Sie einer Subnetzkonfiguration in der Konfigurationsdatei des DHCP-Servers, die sich unter <filename>/etc/dhcpd.conf</filename> befindet, folgende Zeilen hinzu:
    </para>
<screen># The following lines are optional
option domain-name "my.lab";
option domain-name-servers 192.168.1.1;
option routers 192.168.1.1;
option ntp-servers 192.168.1.1;
ddns-update-style none;
default-lease-time 3600;

# The following lines are required
option arch code 93 = unsigned integer 16; # RFC4578
subnet 192.168.1.0 netmask 255.255.255.0 {
 next-server 192.168.1.1;
 range 192.168.1.100 192.168.1.199;
 default-lease-time 3600;
 max-lease-time 3600;
 if option arch = 00:07 or option arch = 00:09 {
   filename "/EFI/x86/grub.efi";
 }
 else if option arch = 00:0b {
   filename "/EFI/aarch64/bootaa64.efi";
 }
 else  {
   filename "/BIOS/x86/pxelinux.0";
 }
}</screen>
    <para>
     In diesem Konfigurationsbeispiel wird das Subnetz <literal>192.168.1.0/24</literal> verwendet, wobei sich der DHCP, der DNS und der Gateway auf dem Server mit der IP-Adresse <literal>192.168.1.1</literal> befinden. Ändern Sie alle angegebenen IP-Adressen in jedem Fall gemäß dem Layout Ihres Netzwerks. Weitere Informationen zu den in <filename>dhcpd.conf</filename> verfügbaren Optionen finden Sie auf der man-Seite <systemitem>dhcpd.conf</systemitem>.
    </para>
   </step>
   <step>
    <para>
     Starten Sie den DHCP-Server mit <command>systemctl restart dhcpd</command> neu.
    </para>
   </step>
  </procedure>
  <para>
   Wenn Sie SSH für die Fernsteuerung einer PXE- und Wake-on-LAN-Installation verwenden möchten, geben Sie die IP-Adresse an, die der DHCP-Server dem Installationsziel zur Verfügung stellen soll. Ändern Sie hierzu die oben erwähnte DHCP-Konfiguration gemäß dem folgenden Beispiel:
  </para>
<screen>group {
 host test {
   hardware ethernet <replaceable>MAC_ADDRESS</replaceable>;
   fixed-address <replaceable>IP_ADDRESS</replaceable>;
   }
}
</screen>
  <para>
   Die Host-Anweisung gibt den Hostnamen des Installationsziels an. Um den Hostnamen und die IP-Adresse an einen bestimmten Host zu binden, müssen Sie die Hardware-Adresse (MAC) des Systems kennen und angeben. Ersetzen Sie alle in diesem Beispiel verwendeten Variablen durch die in Ihrer Umgebung verwendeten Werte.
  </para>
  <para>
   Nach dem Neustart weist der DHCP-Server dem angegebenen Host eine statische IP-Adresse zu, damit Sie über SSH eine Verbindung zum System herstellen können.
  </para>
 </sect1>

 <sect1 xml:id="sec-deployment-tftp-server">
  <title>Einrichten eines TFTP-Servers</title>
  <para>
   In den nachfolgenden Verfahren wird die Vorbereitung des Servers auf Zielcomputer mit UEFI und BIOS auf x86-Architekturen mit 32 und 64 Bit beschrieben. Die vorbereitete Struktur kann außerdem AArch64-Systeme aufnehmen.
  </para>
  <sect2 xml:id="sec-deployment-tftp-server-install">
   <title>Installieren des TFTP-Servers</title>
   <para>
    So installieren Sie einen TFTP-Server:
   </para>

   <procedure>
    <step>
     <para>
      Installieren Sie das Paket <systemitem>tftp</systemitem>.
     </para>
     <screen><prompt>tux &gt; </prompt><command>sudo</command> <command>zypper in tftp</command></screen>
    </step>
    <step>
     <para>
      Überprüfen Sie die <systemitem class="daemon">tftpd</systemitem>-Konfiguration unter <filename>/etc/sysconfig/tftp</filename> und ergänzen oder ändern Sie die Optionen je nach Bedarf. Weitere Informationen finden Sie unter <command>man 8 tftpd</command>. Beim TFTP-Daemon muss die Konfiguration nicht geändert werden. Das Standard-Stammverzeichnis für die Dateien lautet <filename>/srv/tftpboot</filename>.
     </para>
    </step>
    <step>
     <para>
      <systemitem class="daemon">tftpd</systemitem> muss beim Booten gestartet werden; starten Sie es zum Einlesen der neuen Konfiguration erneut.
     </para>
     <screen><prompt>tux &gt; </prompt><command>sudo</command> <command>systemctl enable tftp.socket</command>
<prompt>tux &gt; </prompt><command>sudo</command> <command>systemctl restart tftp.socket</command></screen>
    </step>
   </procedure>
  </sect2>
  <sect2 xml:id="sec-deployment-tftp-server-grub-package">
   <title>Installieren der Dateien zum Booten</title>
   <para>
    <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase> stellt die erforderlichen Dateien zum Booten über PXE auf BIOS- oder UEFI-Computern als RPM bereit. Installieren Sie die Dateien auf dem Computer, auf dem der TFTP-Server ausgeführt wird:
   </para>
   <screen><prompt>tux &gt; </prompt><command>sudo</command> <command>zypper in tftpboot-installation-SLES-<replaceable>OS_VERSION</replaceable>-<replaceable>ARCHITECTURE</replaceable></command></screen>
   <para>
    Ersetzen Sie <replaceable>OS_VERSION</replaceable> durch die Version Ihrer <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase>-Installation (z. B. <literal>15</literal>) und <replaceable>ARCHITECTURE</replaceable> durch die Architektur Ihres Systems (z. B. <literal>x86_64</literal>). Mit <command>zypper se tftpboot</command> können Sie nach allen verfügbaren Versionen und Architekturen suchen.
   </para>
   <para>
    Die Dateien werden unter <filename>/srv/tftpboot/SLES-<replaceable>OS_VERSION</replaceable>-<replaceable>ARCHITECTURE</replaceable></filename> installiert. Sie können auch die Dateien für andere Versionen und Architekturen von <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase> in das Verzeichnis <filename>/srv/tftpboot</filename> kopieren.
   </para>
   <note>
    <title>Bestehendes <filename>/srv/tftpboot/</filename>-Verzeichnis</title>
    <para>
     Wenn das Verzeichnis <filename>/srv/tftpboot/</filename> bereits auf Ihrem Rechner vorhanden ist, werden alle Dateien im Pfad <filename>/usr/share/tftpboot-installation/</filename> installiert. Dies ist der Fall, wenn Sie Ihren PXE-Server von einer früheren SLES-Version upgraden.
    </para>
    <para>
     Kopieren Sie die Dateien manuell von <filename>/usr/share/tftpboot-installation/</filename> zu <filename>/srv/tftpboot/</filename>, um dieses Problem zu beheben. Entfernen Sie alternativ <filename>/srv/tftpboot/</filename> und installieren Sie das Paket
     <package>tftpboot-installation-SLES-<replaceable>OS_VERSION</replaceable>-<replaceable>ARCHITECTURE</replaceable></package>
     neu.
    </para>
   </note>
  </sect2>
  <sect2 xml:id="sec-deployment-tftp-server-pxelinux">
   <title>Konfigurieren von PXELINUX</title>
   <para>
    Öffnen Sie die Datei <filename>/srv/tftpboot/SLES-<replaceable>OS_VERSION</replaceable>-<replaceable>ARCHITECTURE</replaceable>/net/pxelinux.cfg/default</filename> in einem Editor. Ersetzen Sie den Pfad für den Parameter <literal>install</literal> gemäß Ihrer Einrichtung (siehe <xref linkend="cha-deployment-instserver"/>). Ersetzen Sie außerdem <replaceable>TFTP_SERVER</replaceable> durch die IP-Adresse des TFTP-Servers. Einen Überblick über die PXELINUX-Konfigurationsoptionen finden Sie in <xref linkend="sec-deployment-prep-boot-pxeopts"/>.
   </para>
<screen>default linux

# install
label linux
  ipappend 2
  kernel boot/<replaceable>ARCHITECTURE</replaceable>/loader/linux
  append initrd=boot/x86_64/<replaceable>ARCHITECTURE</replaceable>/initrd instsys=tftp://<replaceable>TFTP_SERVER</replaceable>/SLES-<replaceable>OS_VERSION</replaceable>-<replaceable>ARCHITECTURE</replaceable>/boot/<replaceable>ARCHITECTURE</replaceable>/root install=<replaceable>PROTOCOL</replaceable>://<replaceable>SERVER_IP</replaceable>:/<replaceable>PATH</replaceable>

display  message
implicit 1
prompt  1
timeout  50</screen>
   <para>
    Weitere Informationen zu den Boot-Parametern in der Zeile <literal>append</literal> finden Sie in <xref linkend="sec-boot-parameters-list"/>.
   </para>
   <para>
    Wenn eine Meldung im Boot-Menü angezeigt werden soll, bearbeiten Sie <filename>/srv/tftpboot/SLES-<replaceable>OS_VERSION</replaceable>-<replaceable>ARCHITECTURE</replaceable>/net/pxelinux.cfg/message</filename>.
   </para>
  </sect2>
  <sect2 xml:id="sec-deployment-tftp-server-efilinux-x86">
   <title>Vorbereiten des PXE-Boot-Vorgangs für EFI mit GRUB2</title>
   <para>
    Die GRUB2-Konfigurationsdateien müssen nicht geändert werden. In den Standardeinstellungen ist allerdings keine Netzwerkquelle für das Installationssystem angegeben. Soll <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase> vollständig über das Netzwerk installiert werden, tragen Sie den Parameter <option>install</option> in die Zeilen <option>linuxefi</option> in der Datei <filename>/srv/tftpboot/SLES-<replaceable>OS_VERSION</replaceable>-<replaceable>ARCHITECTURE</replaceable>/EFI/BOOT/grub.cfg</filename> ein. Legen Sie den Parameter <literal>install</literal> gemäß Ihrer Einrichtung fest (siehe <xref linkend="cha-deployment-instserver"/>). Weitere Informationen zu den Boot-Parametern in den Zeilen <literal>efilinux</literal> finden Sie in <xref linkend="sec-boot-parameters-list"/>.
   </para>
  </sect2>
 </sect1>
 <sect1 xml:id="sec-deployment-prep-boot-pxeopts">
  <title>PXELINUX-Konfigurationsoptionen</title>

  <para>
   Die hier aufgeführten Optionen sind eine Teilmenge der für die PXELINUX-Konfigurationsdatei verfügbaren Optionen.
  </para>

  <variablelist>
   <varlistentry>
    <term><option>APPEND <replaceable>OPTIONEN</replaceable></option>
    </term>
    <listitem>
     <para>
      Fügt der Kernel-Kommandozeile eine oder mehrere Optionen hinzu. Diese werden sowohl bei automatischen als auch bei manuellen Bootvorgängen hinzugefügt. Die Optionen werden an den Beginn der Kernel-Kommandozeile gesetzt und ermöglichen, dass explizit eingegebene Kernel-Optionen sie überschreiben können.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>APPEND -</option>
    </term>
    <listitem>
     <para>
      Hiermit wird nichts angehängt. <option>APPEND</option> mit einem Bindestrich als Argument in einem <option>LABEL</option>-Abschnitt kann zum Überschreiben einer globalen <option>APPEND</option>-Option verwendet werden.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>DEFAULT <replaceable>KERNEL_OPTIONEN</replaceable>...</option>
    </term>
    <listitem>
     <para>
      Legt die standardmäßige Kernel-Kommandozeile fest. Wenn PXELINUX automatisch gebootet wird, agiert es, als wären die Einträge nach DEFAULT in der Booteingabeaufforderung eingegeben worden, außer, dass die Option für das automatische Booten (boot) automatisch hinzugefügt wird.
     </para>
     <para>
      Wenn keine Konfigurationsdatei vorhanden oder der DEFAULT-Eintrag in der Konfigurationsdatei nicht definiert ist, wird standardmäßig der Kernel-Name <quote>linux</quote> ohne Optionen verwendet.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>

    <term><option>IFAPPEND <replaceable>FLAG</replaceable></option>
    </term>
    <listitem>
     <para>
      Fügt eine bestimmte Option in die Kernel-Kommandozeile ein, abhängig vom Wert für <replaceable>FLAG</replaceable>. Die Option <option>IFAPPEND</option> ist nur unter PXELINUX verfügbar. Für <replaceable>FLAG</replaceable> ist ein Wert erforderlich, siehe <xref linkend="tab-deployment-boot-pxeopts-ifappend"/>:
     </para>
     <table xml:id="tab-deployment-boot-pxeopts-ifappend">
      <title>Generierte und hinzugefügte Optionen für Kernel-Kommandozeilen von <option>IFAPPEND</option></title>
      <tgroup cols="2">
       <colspec colwidth="1*"/>
       <colspec colwidth="4*"/>
       <thead>
        <row>
         <entry valign="middle">
          <para>
           Argument
          </para>
         </entry>
         <entry>
          <para>
           Generierte Kernel-Kommandozeile/Beschreibung
          </para>
         </entry>
        </row>
       </thead>
       <tbody>
        <row>
         <entry>
          <para>
           <option>1</option>
          </para>
         </entry>
         <entry>
<screen>ip=<replaceable>CLIENT_IP</replaceable>:<replaceable>BOOT_SERVER_IP</replaceable>:<replaceable>GW_IP</replaceable>:<replaceable>NETMASK</replaceable></screen>
          <para>
           Die Platzhalter werden auf der Grundlage der Eingaben vom DHCP/BOOTP- oder PXE-Boot-Server ersetzt.
          </para>
          <para>
           Diese Option ist kein Ersatz für das Ausführen eines DHCP-Clients im gebooteten System. Ohne regelmäßige Verlängerung läuft die vom PXE BIOS erworbene Lease ab, sodass die IP-Adresse zur erneuten Verwendung durch den DHCP-Server verfügbar wird.
          </para>
         </entry>
        </row>
        <row>
         <entry>
          <para>
           <option>2</option>
          </para>
         </entry>
         <entry>
<screen>BOOTIF=<replaceable>MAC_ADDRESS_OF_BOOT_INTERFACE</replaceable></screen>
          <para>
           Mit dieser Option lässt sich eine Zeitüberschreitung vermeiden, wenn der Installationsserver die LAN-Schnittstellen einzeln nacheinander abfragt, bis er eine Antwort von einem DHCP-Server erhält. Ein initrd-Programm kann dabei ermitteln, von welcher Schnittstelle das System gebootet wurde. linuxrc liest diese Option aus und verwendet die erkannte Netzwerkschnittstelle.
          </para>
         </entry>
        </row>
        <row>
         <entry>
          <para>
           <option>4</option>
          </para>
         </entry>
         <entry>
<screen>SYSUUID=<replaceable>SYSTEM_UUID</replaceable></screen>
          <para>
           Fügt UUIDs im Hexadezimalformat mit Kleinbuchstaben hinzu, siehe <filename>/usr/share/doc/packages/syslinux/pxelinux.txt</filename>
          </para>
         </entry>
        </row>
       </tbody>
      </tgroup>
     </table>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>LABEL <replaceable>KENNUNG</replaceable> KERNEL <replaceable>IMAGE</replaceable> APPEND <replaceable>OPTIONEN</replaceable>...</option>
    </term>
    <listitem>
     <para>
      Wenn <replaceable>KENNUNG</replaceable> als der zu bootende Kernel angegeben wird, soll PXELINUX stattdessen <replaceable>IMAGE</replaceable> booten und dabei die angegebenen <option>APPEND</option>-Optionen heranziehen. Diese Optionen ersetzen die im globalen Abschnitt der Datei vor dem ersten Kommando <option>LABEL</option> angegebenen Optionen. Die Vorgabe für <replaceable>IMAGE</replaceable> ist dieselbe wie für <replaceable>KENNUNG</replaceable> und wenn keine <option>APPEND</option>-Optionen angegeben sind, wird standardmäßig der globale Eintrag verwendet (sofern vorhanden). Es sind bis zu 128 <option>LABEL</option>-Einträge zulässig.
     </para>

     <para>
      PXELINUX verwendet die folgende Syntax:
     </para>
<screen>label <replaceable>MYLABEL</replaceable>
  kernel <replaceable>MYKERNEL</replaceable>
  append <replaceable>MYOPTIONS</replaceable></screen>
     <para>
      Kennungen werden wie Dateinamen umgesetzt und müssen nach der Umsetzung (sogenanntes Mangling) eindeutig sein. Die beiden Kennungen <quote>v2.6.30</quote> und <quote>v2.6.31</quote> wären beispielsweise unter PXELINUX nicht unterscheidbar, da beide auf denselben DOS-Dateinamen umgesetzt würden.
     </para>
     <para>
      Der Kernel muss kein Linux-Kernel sein. Auch ein Bootsektor oder eine COMBOOT-Datei ist möglich.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>LOCALBOOT <replaceable>TYP</replaceable></option>
    </term>
    <listitem>
     <para>
      Wenn Sie unter PXELINUX <option>LOCALBOOT 0</option> an Stelle einer <option>KERNEL</option>-Option angeben, bedeutet dies, dass diese bestimmte Kennung aufgerufen und die lokale Festplatte an Stelle eines Kernels gebootet wird.
     </para>
     <informaltable frame="topbot" rowsep="0">
      <tgroup cols="2">

       <thead>
        <row>
         <entry>
          <para>
           Argument
          </para>
         </entry>
         <entry>
          <para>
           Beschreibung
          </para>
         </entry>
        </row>
       </thead>
       <tbody>
        <row>
         <entry>
          <para>
           <literal>0</literal>
          </para>
         </entry>
         <entry>
          <para>
           Führt einen normalen Bootvorgang aus
          </para>
         </entry>
        </row>
        <row>
         <entry>
          <para>
           <literal>4</literal>
          </para>
         </entry>
         <entry>
          <para>
           Führt einen lokalen Bootvorgang mit dem noch im Arbeitsspeicher vorhandenen UNDI-Treiber (Universal Network Driver Interface) aus
          </para>
         </entry>
        </row>
        <row>
         <entry>
          <para>
           <literal>5</literal>
          </para>
         </entry>
         <entry>
          <para>
           Führt einen lokalen Bootvorgang mit dem gesamten PXE-Stack, einschließlich des UNDI-Treibers aus, der sich im Arbeitsspeicher befindet
          </para>
         </entry>
        </row>
       </tbody>
      </tgroup>
     </informaltable>
     <para>
      Alle anderen Werte sind nicht definiert. Wenn Sie die Werte für die UNDI- oder PXE-Stacks nicht wissen, geben Sie <literal>0</literal> an.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>TIMEOUT <replaceable>ZEITLIMIT</replaceable></option>
    </term>
    <listitem>
     <para>
      Gibt in Einheiten von 1/10 Sekunde an, wie lange die Booteingabeaufforderung angezeigt werden soll, bevor der Bootvorgang automatisch gestartet wird. Das Zeitlimit wird aufgehoben, sobald der Benutzer eine Eingabe über die Tastatur vornimmt, da angenommen wird, dass der Benutzer die Eingabe des Kommandos abschließt. Mit einem Zeitlimit von Null wird das Zeitüberschreitungsoption deaktiviert (dies ist die Vorgabe). Der größtmögliche Wert für das Zeitlimit ist 35996 (etwas weniger als eine Stunde).
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>PROMPT<replaceable> flag_val</replaceable></option>
    </term>
    <listitem>
     <para>
      Wenn <option>flag_val</option> auf 0 gesetzt ist, wird die Booteingabeaufforderung nur angezeigt, wenn die Taste <keycap function="shift"/> oder <keycap function="alt"/> gedrückt wird oder die <keycap>Feststelltaste</keycap> oder die Taste <keycap>Rollen</keycap> gesetzt ist (dies ist die Standardeinstellung). Wenn <option>flag_val</option> 1 ist, wird die Booteingabeaufforderung immer angezeigt.
     </para>
<screen>F2  <replaceable>FILENAME</replaceable>
F1  <replaceable>FILENAME</replaceable>
..etc...
F9  <replaceable>FILENAME</replaceable>
F10 <replaceable>FILENAME</replaceable></screen>
     <para>
      Zeigt die angegebene Datei auf dem Bildschirm an, wenn an der Booteingabeaufforderung eine Funktionstaste gedrückt wird. Mithilfe dieser Option kann auch die Preboot-Online-Hilfe implementiert werden (für die Kernel-Kommandozeilenoptionen). Aus Gründen der Kompabilität mit früheren Versionen kann <keycap>F10</keycap> auch als <literal>F0</literal> verwendet werden. Beachten Sie, dass derzeit keine Möglichkeit besteht, Dateinamen an <keycap>F11</keycap> und <keycap>F12</keycap> zu binden.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
 <sect1 xml:id="sec-deployment-prep-boot-pxeprep">
  <title>Vorbereiten des Zielsystems für PXE-Boot</title>

  <para>
   Bereiten Sie das System-BIOS für PXE-Boot vor, indem Sie die PXE-Option in die BIOS-Boot-Reihenfolge aufnehmen.
  </para>

  <warning>
   <title>BIOS-Bootreihenfolge</title>
   <para>
    Die PXE-Option darf im BIOS nicht vor dem Boot-Parameter für die Festplatte stehen. Andernfalls würde dieses System versuchen, sich selbst bei jedem Booten neu zu installieren.
   </para>
  </warning>
 </sect1>
 <sect1 xml:id="sec-deployment-prep-boot-wolprep">
  <title>Vorbereiten des Zielsystems für Wake-on-LAN</title>

  <para>
   Wake-on-LAN (WOL) erfordert, dass die entsprechende BIOS-Option vor der Installation aktiviert wird. Außerdem müssen Sie sich die MAC-Adresse des Zielsystems notieren. Diese Daten sind für das Initiieren von Wake-on-LAN erforderlich.
  </para>
 </sect1>
 <sect1 xml:id="sec-deployment-prep-boot-wol">
  <title>Wake-on-LAN</title>

  <para>
   Mit Wake-on-LAN kann ein Computer über ein spezielles Netzwerkpaket, das die MAC-Adresse des Computers enthält, gestartet werden. Da jeder Computer einen eindeutigen MAC-Bezeichner hat, ist es nicht möglich, dass versehentlich ein falscher Computer gestartet wird.
  </para>

  <important>
   <title>Wake-on-LAN über verschiedene Netzwerksegmente</title>
   <para>
    Wenn sich der steuernde Computer nicht in dem selben Segment wie das Ziel des WOL-Kommandos befindet, stehen Ihnen zwei Möglichkeiten offen. Konfigurieren Sie entweder die WOL-Anforderungen für das Senden als Multicast oder lassen Sie einen Computer in diesem Netzwerksegment per Fernsteuerung als Absender dieser Anforderungen fungieren.
   </para>
  </important>

  <para>
   Benutzer von SUSE Linux Enterprise können zur einfachen Konfiguration von Wake-on-LAN ein YaST-Modul namens WOL verwenden. Die Benutzer anderer Betriebssysteme mit der Basis SUSE Linux können ein Kommandozeilenwerkzeug verwenden.
  </para>
 </sect1>
 <sect1 xml:id="sec-deployment-prep-boot-wolyast">
  <title>Wake-on-LAN mit YaST</title>
  <para>
   Mit diesem Verfahren konfigurieren Sie Wake-on-LAN mit YaST.
  </para>
  <procedure xml:id="pro-deployment-prep-boot-wolyast">
   <step>
    <para>
     Melden Sie sich als <systemitem class="username">root</systemitem>-Benutzer an.
    </para>
   </step>
   <step>
    <para>
     Starten Sie <menuchoice> <guimenu>YaST</guimenu> <guimenu>Netzwerkdienste</guimenu> <guimenu>WOL</guimenu></menuchoice>.
    </para>
   </step>
   <step>
    <para>
     Klicken Sie auf <guimenu>Hinzufügen</guimenu>, und geben Sie den Hostnamen und die MAC-Adresse des Zielsystems ein.
    </para>
   </step>
   <step>
    <para>
     Wählen Sie zum Einschalten dieser Maschine den entsprechenden Eintrag und klicken Sie auf <guimenu>Wake up</guimenu> (Aufwachen).
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec-deployment-prep-boot-mksusecd">
  <title>Booten von einer CD oder einem USB-Laufwerk statt über PXE</title>
  <para>
   Sie können auch von einer CD, einer DVD oder einem USB-Laufwerk mit einem kleinen System-Image statt über PXE booten. Die erforderlichen Dateien werden über NFS abgerufen, sobald der Kernel und initrd geladen wurden. Mit <command>mksusecd</command> können Sie ein bootfähiges Image erstellen. Dies ist beispielsweise dann von Nutzen, wenn der Zielcomputer keine Unterstützung für den PXE-Bootvorgang bietet.
  </para>
  <para>
   Nehmen Sie die Installation mit <command>sudo zypper in mksusecd</command> vor. Mit dem folgenden Befehl erstellen Sie ein bootfähiges ISO-Image:
  </para>
  <screen><prompt>tux &gt; </prompt><command>mksusecd</command> --create image.iso \
--net=nfs://192.168.1.1:/srv/install/<replaceable>ARCH</replaceable>/<replaceable>OS_VERSION</replaceable>/<replaceable>SP_VERSION</replaceable>/cd1  \
/srv/tftpboot/EFI/<replaceable>ARCH</replaceable>/boot</screen>
  <para>
   Ersetzen Sie <replaceable>ARCH</replaceable> durch das entsprechende Verzeichnis für die Zielsystemarchitektur. Ersetzen Sie außerdem <replaceable>OS_version</replaceable> und <replaceable>SP_version</replaceable> durch die Pfade in <xref linkend="sec-deployment-tftp-server"/>.
  </para>
  <para>
   Anstelle eines NFS-Servers für die Option <option>--net</option> können Sie auch ein HTTP-Repository heranziehen, beispielsweise das openSUSE-Repository:
  </para>
  <screen><prompt>tux &gt; </prompt><command>mksusecd</command> --create image.iso \
--net=http://download.opensuse.org/tumbleweed/repo/oss/suse \
/srv/tftpboot/EFI/<replaceable>ARCH</replaceable>/boot</screen>
  <para>
   Die Datei <filename>image.iso</filename> kann auf DVD oder CD bzw. mit <command>dd</command> auf einem USB-Stick gespeichert werden:
  </para>
  <screen><prompt role="root">root # </prompt><command>dd</command> if=image.iso of=/dev/<replaceable>USB_DEVICE</replaceable></screen>
  <para>
   Ersetzen Sie <replaceable>USB_DEVICE</replaceable> durch den Gerätenamen des USB-Sticks. Überprüfen Sie den Gerätenamen sorgfältig, damit nicht unbeabsichtigt Daten auf einem anderen Laufwerk zerstört werden.
  </para>
 </sect1>
</chapter>
